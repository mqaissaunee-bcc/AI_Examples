<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2: Nanoscale Science Fundamentals | Intro to Nanotechnology Course</title>
    <style>
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        :root{
            --navy:#003366;--steel:#336699;--teal:#009999;--gold:#CC9900;
            --slate:#F0F0F0;--silver:#CCCCCC;--charcoal:#333333;--white:#FFFFFF;
            --green:#009933;--orange:#FF6600;--red:#CC0000;--lemon:#FFFF99;
            --purple:#660099;--sky:#E3F2FD;--mint:#E8F5E9;--blush:#FFF3CD;
            --lavender:#F3E5F5;--rose:#FFCDD2;--sage:#C8E6C9
        }
        body{font-family:Georgia,'Times New Roman',serif;line-height:1.8;color:var(--charcoal);background:var(--slate)}
        .skip-link{position:absolute;top:-100px;left:0;background:var(--navy);color:var(--white);padding:10px 20px;z-index:10000;text-decoration:none;font-size:1rem}
        .skip-link:focus{top:0}

        /* ===== HEADER ===== */
        header{background:linear-gradient(135deg,#001a33,var(--navy),var(--steel));color:var(--white);padding:18px 20px;position:sticky;top:0;z-index:1000;box-shadow:0 4px 20px rgba(0,0,0,0.3)}
        .header-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}
        .logo-section{display:flex;align-items:center;gap:15px}
        .logo-icon{width:50px;height:50px;background:var(--gold);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:bold;color:var(--navy)}
        .site-title{font-size:1.25rem;font-weight:bold;letter-spacing:0.3px}
        .site-subtitle{font-size:0.82rem;opacity:0.85}
        nav{display:flex;gap:10px;flex-wrap:wrap}
        .nav-btn{background:rgba(255,255,255,0.12);color:var(--white);border:2px solid rgba(255,255,255,0.25);padding:8px 16px;border-radius:25px;text-decoration:none;font-size:0.88rem;transition:all 0.3s}
        .nav-btn:hover,.nav-btn:focus{background:var(--gold);color:var(--navy);border-color:var(--gold)}

        /* ===== MAIN ===== */
        main{max-width:1200px;margin:0 auto;padding:30px 20px}

        /* ===== HERO ===== */
        .hero{background:linear-gradient(135deg,var(--steel),var(--teal),var(--navy));color:var(--white);padding:50px 40px;border-radius:14px;margin-bottom:30px;position:relative;overflow:hidden}
        .hero::before{content:'';position:absolute;top:-50%;right:-20%;width:500px;height:500px;background:radial-gradient(circle,rgba(204,153,0,0.15),transparent 70%);border-radius:50%}
        .hero h1{font-size:2.4rem;margin-bottom:12px;position:relative}
        .hero p{font-size:1.15rem;opacity:0.92;max-width:800px;position:relative}
        .hero-meta{display:flex;flex-wrap:wrap;gap:18px;margin-top:22px;position:relative}
        .hero-meta span{background:rgba(255,255,255,0.18);padding:8px 18px;border-radius:22px;font-size:0.92rem}

        /* ===== LEARNING OBJECTIVES ===== */
        .objectives{background:var(--sky);padding:28px;border-radius:12px;margin-bottom:30px;border-left:5px solid var(--steel)}
        .objectives h3{color:var(--navy);margin-bottom:15px;font-size:1.3rem}
        .objectives ul{margin-left:25px}
        .objectives li{margin-bottom:10px}

        /* ===== PROGRESS BAR ===== */
        .progress-wrap{background:var(--white);padding:20px 28px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 12px rgba(0,0,0,0.08)}
        .progress-wrap h4{color:var(--navy);margin-bottom:10px}
        .progress-bar-bg{background:var(--silver);border-radius:20px;height:22px;overflow:hidden}
        .progress-bar-fill{background:linear-gradient(90deg,var(--teal),var(--green));height:100%;border-radius:20px;transition:width 0.6s ease;text-align:center;color:var(--white);font-size:0.8rem;font-weight:700;line-height:22px;min-width:30px}

        /* ===== TABS ===== */
        .tabs{border-bottom:3px solid var(--silver);margin-bottom:25px;display:flex;flex-wrap:wrap;gap:4px}
        .tab-btn{background:var(--slate);border:none;padding:15px 24px;cursor:pointer;font-size:0.98rem;transition:all 0.3s;border-radius:10px 10px 0 0;font-weight:600;font-family:inherit;color:var(--charcoal)}
        .tab-btn:hover{background:var(--silver)}
        .tab-btn.active{background:var(--navy);color:var(--white)}
        .tab-content{display:none;animation:fadeIn 0.4s ease}
        .tab-content.active{display:block}
        @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

        /* ===== CARDS ===== */
        .card{background:var(--white);border-radius:12px;box-shadow:0 3px 18px rgba(0,0,0,0.1);margin-bottom:28px;overflow:hidden}
        .card-header{background:var(--navy);color:var(--white);padding:18px 28px;font-size:1.2rem;font-weight:700}
        .card-body{padding:30px}

        /* ===== CONTENT SECTIONS ===== */
        .content-section{margin-bottom:30px}
        .content-section h3{color:var(--navy);font-size:1.4rem;margin:30px 0 15px;padding-bottom:10px;border-bottom:3px solid var(--teal)}
        .content-section h4{color:var(--steel);font-size:1.12rem;margin:25px 0 12px}
        .content-section p{margin-bottom:15px}

        /* ===== ACCENT BOXES ===== */
        .key-concept{background:linear-gradient(135deg,#E6F3FF,#F0F8FF);border-left:5px solid var(--steel);padding:25px;margin:25px 0;border-radius:0 10px 10px 0}
        .key-concept h4{margin-top:0;color:var(--navy);font-size:1.08rem}
        .example-box{background:var(--mint);border-left:5px solid var(--green);padding:25px;margin:25px 0;border-radius:0 10px 10px 0}
        .example-box h4{color:var(--green);margin-top:0;font-size:1.08rem}
        .industry-note{background:var(--lavender);border-left:5px solid var(--purple);padding:25px;margin:25px 0;border-radius:0 10px 10px 0}
        .industry-note h4{color:var(--purple);margin-top:0;font-size:1.08rem}
        .safety-warning{background:var(--blush);border-left:5px solid var(--orange);padding:25px;margin:25px 0;border-radius:0 10px 10px 0}
        .safety-warning h4{color:var(--orange);margin-top:0;font-size:1.08rem}
        .history-box{background:linear-gradient(135deg,#F5F5DC,#FFFAF0);border-left:5px solid var(--gold);padding:25px;margin:25px 0;border-radius:0 10px 10px 0}
        .history-box h4{color:#996600;margin-top:0;font-size:1.08rem}
        .formula-box{background:var(--lemon);padding:25px;border-radius:10px;text-align:center;font-size:1.35rem;font-family:'Courier New',monospace;margin:25px 0}

        /* ===== LAYOUTS ===== */
        .two-column{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin:25px 0}
        .three-column{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin:25px 0}
        .column-box{background:var(--white);padding:25px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.08)}

        /* ===== TABLES ===== */
        .data-table{width:100%;border-collapse:collapse;margin:25px 0;font-size:0.92rem}
        .data-table th,.data-table td{padding:13px 16px;text-align:left;border:1px solid var(--silver)}
        .data-table th{background:var(--navy);color:var(--white);font-weight:600}
        .data-table tr:nth-child(even){background:var(--slate)}
        .data-table tr:hover{background:var(--lemon)}
        .data-table caption{font-weight:700;color:var(--navy);margin-bottom:8px;font-size:1rem;caption-side:top;text-align:left}

        /* ===== DISCUSSION QUESTIONS ===== */
        .discussion-questions{background:#FFF8E1;padding:25px;border-radius:10px;margin:25px 0}
        .discussion-questions h4{color:var(--orange);margin-bottom:15px;font-size:1.08rem}
        .discussion-questions ol{margin-left:25px}
        .discussion-questions li{margin-bottom:12px}

        /* ===== TOOLTIPS ===== */
        .tooltip-term{border-bottom:2px dotted var(--teal);cursor:help;position:relative;color:var(--steel);font-weight:600}
        .tooltip-content{position:fixed;background:var(--charcoal);color:var(--white);padding:16px;border-radius:10px;font-size:0.9rem;width:310px;max-width:88vw;opacity:0;visibility:hidden;transition:opacity 0.3s;z-index:9999;box-shadow:0 6px 25px rgba(0,0,0,0.4);font-weight:normal;line-height:1.7;pointer-events:none}
        .tooltip-term:hover .tooltip-content,.tooltip-term:focus .tooltip-content{opacity:1;visibility:visible}

        /* ===== SIMULATIONS ===== */
        .sim-container{background:var(--slate);border-radius:12px;padding:28px;margin:25px 0}
        .sim-canvas{background:var(--white);border:3px solid var(--silver);border-radius:10px;width:100%;max-width:700px;display:block;margin:0 auto 20px}
        .sim-controls{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;align-items:center;margin-bottom:15px}
        .sim-btn{background:var(--teal);color:var(--white);border:none;padding:13px 26px;border-radius:8px;cursor:pointer;font-size:0.98rem;font-weight:600;transition:all 0.3s;font-family:inherit}
        .sim-btn:hover{background:var(--steel);transform:translateY(-2px)}
        .sim-btn:disabled{background:var(--silver);cursor:not-allowed;transform:none}
        .sim-btn.active-btn{background:var(--green)}
        .slider-group{display:flex;align-items:center;gap:10px}
        .slider-group label{font-weight:600;min-width:80px;font-size:0.92rem}
        .slider-group input[type="range"]{width:140px;cursor:pointer}
        .slider-val{background:var(--navy);color:var(--white);padding:6px 14px;border-radius:6px;min-width:60px;text-align:center;font-weight:600;font-size:0.88rem}
        .sim-readout{text-align:center;padding:15px;background:var(--white);border-radius:8px;margin-top:12px;font-size:0.95rem}

        /* ===== QUIZ ===== */
        .quiz-container{background:var(--white);border-radius:12px;padding:30px;box-shadow:0 3px 18px rgba(0,0,0,0.1)}
        .quiz-question{margin-bottom:28px;padding-bottom:22px;border-bottom:2px solid var(--slate)}
        .question-text{font-weight:700;margin-bottom:16px;color:var(--navy);font-size:1.02rem}
        .quiz-options{display:flex;flex-direction:column;gap:10px}
        .quiz-option{display:flex;align-items:center;gap:12px;padding:14px 18px;background:var(--slate);border-radius:8px;cursor:pointer;transition:all 0.3s;border:2px solid transparent}
        .quiz-option:hover{background:var(--lemon);border-color:var(--gold)}
        .quiz-option.correct{background:var(--sage);border-color:var(--green)}
        .quiz-option.incorrect{background:var(--rose);border-color:var(--red)}
        .quiz-option input[type="radio"]{width:20px;height:20px;cursor:pointer}
        .quiz-feedback{margin-top:12px;padding:14px;border-radius:8px;display:none;font-size:0.95rem}
        .quiz-feedback.show{display:block}
        .quiz-feedback.correct{background:var(--sage);border-left:4px solid var(--green)}
        .quiz-feedback.incorrect{background:var(--rose);border-left:4px solid var(--red)}
        .quiz-score{text-align:center;padding:25px;background:var(--navy);color:var(--white);border-radius:10px;margin-top:25px}

        /* ===== ENERGY DIAGRAM ===== */
        .energy-diagram{background:var(--white);border:2px solid var(--silver);border-radius:10px;padding:20px;margin:25px 0}
        .band-visual{display:flex;flex-direction:column;gap:8px;align-items:center;padding:20px}
        .band{padding:15px 40px;border-radius:6px;font-weight:600;font-size:0.9rem;text-align:center;min-width:200px}
        .conduction-band{background:#E3F2FD;border:2px solid var(--steel);color:var(--navy)}
        .band-gap{background:var(--lemon);border:2px dashed var(--gold);color:#996600;font-style:italic}
        .valence-band{background:var(--mint);border:2px solid var(--green);color:var(--green)}

        /* ===== SA:V INTERACTIVE ===== */
        .sav-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:15px;margin:20px 0}
        .sav-cube{background:var(--white);border-radius:10px;padding:20px;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.08);transition:all 0.3s;cursor:pointer}
        .sav-cube:hover,.sav-cube.active{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,0.15);border:2px solid var(--teal)}
        .sav-cube .cube-visual{margin:0 auto 10px;background:var(--teal);border-radius:4px}
        .sav-cube .sav-label{font-weight:700;color:var(--navy);font-size:0.95rem}
        .sav-cube .sav-data{font-size:0.85rem;color:#555;margin-top:5px}
        .sav-result{background:var(--sky);padding:20px;border-radius:10px;margin-top:15px;text-align:center}

        /* ===== WAVE ANIMATION ===== */
        .wave-container{position:relative;height:200px;background:#1a1a2e;border-radius:10px;overflow:hidden;margin:20px 0}

        /* ===== NAV FOOTER ===== */
        .nav-footer{background:var(--white);padding:25px;border-radius:12px;margin-top:40px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:15px;box-shadow:0 3px 15px rgba(0,0,0,0.1)}
        .nav-footer a{display:inline-flex;align-items:center;gap:8px;padding:12px 25px;background:var(--teal);color:var(--white);text-decoration:none;border-radius:8px;font-weight:600;transition:all 0.3s}
        .nav-footer a:hover{background:var(--steel)}

        /* ===== FOOTER ===== */
        footer{background:var(--charcoal);color:var(--white);padding:35px 20px;margin-top:50px}
        .footer-content{max-width:1200px;margin:0 auto;text-align:center}
        .footer-content p{margin-bottom:8px;font-size:0.92rem;opacity:0.85}

        /* ===== RESPONSIVE ===== */
        @media(max-width:768px){
            .header-content{flex-direction:column;text-align:center}
            .hero h1{font-size:1.8rem}
            .hero{padding:30px 20px}
            .tab-btn{padding:12px 16px;font-size:0.88rem}
            .two-column,.three-column{grid-template-columns:1fr}
            .nav-footer{justify-content:center}
            .sav-grid{grid-template-columns:repeat(2,1fr)}
        }

        /* ===== ACCESSIBILITY ===== */
        a:focus,button:focus,input:focus,[tabindex]:focus{outline:3px solid var(--gold);outline-offset:2px}
        @media(prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}
        @media print{.tabs,.sim-container,.quiz-container,.nav-footer,header,nav{display:none}.tab-content{display:block!important}}
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header>
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon" aria-hidden="true">M2</div>
                <div>
                    <div class="site-title">Introduction to Nanotechnology</div>
                    <div class="site-subtitle">Module 2: Nanoscale Science Fundamentals</div>
                </div>
            </div>
            <nav aria-label="Module navigation">
                <a href="index.html" class="nav-btn">&larr; Course Home</a>
                <a href="module1_cleanrooms.html" class="nav-btn">&larr; Module 1</a>
                <a href="module3_cleanroom_technology.html" class="nav-btn">Module 3 &rarr;</a>
            </nav>
        </div>
    </header>

    <main id="main-content">

        <!-- ===== HERO ===== -->
        <div class="hero">
            <h1>Module 2 &mdash; Nanoscale Science Fundamentals</h1>
            <p>Before fabricating nanoscale devices, we must understand the physics that governs matter at the atomic level. Explore quantum mechanics, chemical bonding, semiconductor behavior, and the surface-to-volume ratio that makes nanotechnology unique.</p>
            <div class="hero-meta">
                <span>&#9201; Duration: 3&ndash;4 Hours</span>
                <span>&#128218; Lecture + Activities</span>
                <span>&#9881; Essential Physics</span>
            </div>
        </div>

        <!-- ===== LEARNING OBJECTIVES ===== -->
        <div class="objectives" role="region" aria-label="Learning objectives">
            <h3>Learning Objectives</h3>
            <p>After completing this module, students will be able to:</p>
            <ul>
                <li>Explain wave-particle duality and its significance at the nanoscale</li>
                <li>Describe the properties of electrons and photons relevant to nanotechnology</li>
                <li>Identify the types of chemical bonds and their role in nanomaterial properties</li>
                <li>Compare the four states of matter and explain plasma&rsquo;s importance in nanofabrication</li>
                <li>Distinguish between conductors, insulators, and semiconductors using band theory</li>
                <li>Explain silicon crystal structure and why silicon dominates the semiconductor industry</li>
                <li>Calculate surface-to-volume ratios and explain why this ratio dominates at the nanoscale</li>
                <li>Describe Moore&rsquo;s Law and discuss the physical limits of miniaturization</li>
            </ul>
        </div>

        <!-- ===== PROGRESS BAR ===== -->
        <div class="progress-wrap">
            <h4>Module Progress</h4>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="progress-fill" style="width:0%">0%</div>
            </div>
        </div>

        <!-- ===== TABS ===== -->
        <div class="tabs" role="tablist" aria-label="Module content sections">
            <button class="tab-btn active" role="tab" aria-selected="true" aria-controls="lecture" onclick="switchTab('lecture')">&#128214; Lecture</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="simulations" onclick="switchTab('simulations')">&#128300; Simulations</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="resources" onclick="switchTab('resources')">&#127909; Resources</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="activities" onclick="switchTab('activities')">&#9999;&#65039; Activities</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="quiz" onclick="switchTab('quiz')">&#9989; Quiz</button>
        </div>

        <!-- ================================================================ -->
        <!--                        LECTURE TAB                                -->
        <!-- ================================================================ -->
        <div id="lecture" class="tab-content active" role="tabpanel">

            <!-- PART 1: QUANTUM PHYSICS ESSENTIALS -->
            <div class="card">
                <div class="card-header">Part 1: Quantum Physics Essentials</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>Wave-Particle Duality</h3>
                        <p>One of the most profound discoveries of 20th-century physics is that matter and energy exhibit both <strong>wave-like</strong> and <strong>particle-like</strong> properties. This <span class="tooltip-term" tabindex="0">wave-particle duality<span class="tooltip-content">The concept that all matter and energy exhibits both wave and particle properties. First proposed by Louis de Broglie in 1924, confirmed experimentally for electrons in 1927.</span></span> is not a contradiction&mdash;it reflects the deeper nature of reality at the quantum scale.</p>

                        <div class="key-concept">
                            <h4>&#128273; Why This Matters for Nanotechnology</h4>
                            <p>At the nanoscale (1&ndash;100 nm), quantum effects become significant. Electrons can <strong>tunnel</strong> through barriers they classically couldn&rsquo;t cross. Materials exhibit <strong>discrete energy levels</strong> rather than continuous bands. These quantum phenomena are not just theoretical curiosities&mdash;they are the basis for quantum dots, tunnel diodes, and the fundamental limits of transistor miniaturization.</p>
                        </div>

                        <h4>The de Broglie Wavelength</h4>
                        <p>In 1924, Louis de Broglie proposed that particles have an associated wavelength given by:</p>

                        <div class="formula-box" aria-label="de Broglie wavelength formula">
                            &lambda; = h / p = h / (mv)
                        </div>

                        <p>Where <strong>&lambda;</strong> is the wavelength, <strong>h</strong> is Planck&rsquo;s constant (6.626 &times; 10<sup>&minus;34</sup> J&middot;s), <strong>m</strong> is mass, and <strong>v</strong> is velocity. For everyday objects, this wavelength is negligibly small. But for electrons in a semiconductor, the de Broglie wavelength can be tens of nanometers&mdash;comparable to device features!</p>

                        <div class="example-box">
                            <h4>&#128221; Worked Example: Electron Wavelength</h4>
                            <p><strong>Problem:</strong> Calculate the de Broglie wavelength of an electron (m = 9.11 &times; 10<sup>&minus;31</sup> kg) moving at 1% the speed of light (v = 3 &times; 10<sup>6</sup> m/s).</p>
                            <p><strong>Solution:</strong></p>
                            <p style="font-family:monospace;background:#f5f5f5;padding:15px;border-radius:8px;margin:10px 0;">
                                &lambda; = h / (mv)<br>
                                &lambda; = (6.626 &times; 10<sup>&minus;34</sup>) / (9.11 &times; 10<sup>&minus;31</sup> &times; 3 &times; 10<sup>6</sup>)<br>
                                &lambda; = 6.626 &times; 10<sup>&minus;34</sup> / 2.733 &times; 10<sup>&minus;24</sup><br>
                                &lambda; = <strong>0.24 nm</strong> (about one atom width!)
                            </p>
                        </div>

                        <h3>Probability and Uncertainty</h3>
                        <p>Unlike classical physics where we can precisely predict particle positions and velocities, quantum mechanics deals in <span class="tooltip-term" tabindex="0">probabilities<span class="tooltip-content">In quantum mechanics, particles don&rsquo;t have definite positions until measured. Instead, they exist in a superposition of states, each with a certain probability.</span></span>. The <strong>Heisenberg Uncertainty Principle</strong> states that we cannot simultaneously know both the exact position and exact momentum of a particle:</p>

                        <div class="formula-box" aria-label="Heisenberg Uncertainty Principle">
                            &Delta;x &middot; &Delta;p &ge; &#8463;/2
                        </div>

                        <p>Where &Delta;x is the uncertainty in position, &Delta;p is the uncertainty in momentum, and &#8463; (h-bar) is the reduced Planck constant. This isn&rsquo;t a limitation of our instruments&mdash;it&rsquo;s a fundamental property of nature.</p>

                        <div class="industry-note">
                            <h4>&#127981; Industry Impact: Quantum Tunneling</h4>
                            <p>When transistor gates become thin enough (~1&ndash;2 nm), electrons can <strong>tunnel</strong> through them even when classically forbidden. This sets a fundamental limit on how small traditional transistors can be made. Modern 3nm and 2nm process nodes use advanced architectures (FinFET, GAA) specifically designed to mitigate tunneling leakage.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PART 2: ELECTRONS AND PHOTONS -->
            <div class="card">
                <div class="card-header">Part 2: The Electron and the Photon</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>The Electron</h3>
                        <p>The <span class="tooltip-term" tabindex="0">electron<span class="tooltip-content">A fundamental particle with negative charge (&minus;1.602 &times; 10&#x207B;&sup1;&#x2079; C) and mass 9.109 &times; 10&#x207B;&sup3;&sup1; kg. Discovered by J.J. Thomson in 1897.</span></span> is the workhorse of electronics and nanotechnology. These fundamental particles carry electric current, form chemical bonds, and determine the optical and electronic properties of materials.</p>

                        <table class="data-table" aria-label="Electron properties">
                            <caption>Key Properties of the Electron</caption>
                            <thead><tr><th scope="col">Property</th><th scope="col">Value</th><th scope="col">Significance</th></tr></thead>
                            <tbody>
                                <tr><td>Charge (e)</td><td>&minus;1.602 &times; 10<sup>&minus;19</sup> C</td><td>Fundamental unit of charge; basis of electricity</td></tr>
                                <tr><td>Mass (m<sub>e</sub>)</td><td>9.109 &times; 10<sup>&minus;31</sup> kg</td><td>~1/1836 of proton mass; enables high mobility</td></tr>
                                <tr><td>Spin</td><td>&frac12;</td><td>Fermion; obeys Pauli exclusion principle</td></tr>
                                <tr><td>Classical radius</td><td>2.82 &times; 10<sup>&minus;15</sup> m</td><td>Much smaller than atomic dimensions</td></tr>
                            </tbody>
                        </table>

                        <h4>Electron Behavior in Materials</h4>
                        <p>How electrons behave determines whether a material is a conductor, semiconductor, or insulator. In metals, outer electrons are delocalized and move freely. In insulators, electrons are tightly bound. In semiconductors, the situation is intermediate&mdash;and controllable.</p>

                        <h3>The Photon</h3>
                        <p>The <span class="tooltip-term" tabindex="0">photon<span class="tooltip-content">A quantum of electromagnetic radiation. Massless, travels at the speed of light, and carries energy E = h&nu; where &nu; is frequency.</span></span> is the quantum of electromagnetic radiation&mdash;the particle of light. In nanotechnology, photons are used for:</p>

                        <div class="three-column">
                            <div class="column-box" style="border-top:4px solid var(--steel);">
                                <h4 style="color:var(--navy);">Photolithography</h4>
                                <p>UV and deep-UV photons pattern nanoscale features in photoresist. Modern EUV lithography uses 13.5 nm photons.</p>
                            </div>
                            <div class="column-box" style="border-top:4px solid var(--teal);">
                                <h4 style="color:var(--teal);">Characterization</h4>
                                <p>Spectroscopy techniques use photon absorption and emission to identify materials and measure dimensions.</p>
                            </div>
                            <div class="column-box" style="border-top:4px solid var(--gold);">
                                <h4 style="color:#996600;">Quantum Dots</h4>
                                <p>Nanoparticles emit specific photon wavelengths based on their size&mdash;tunable quantum confinement.</p>
                            </div>
                        </div>

                        <h4>Photon Energy</h4>
                        <p>The energy of a photon is proportional to its frequency:</p>

                        <div class="formula-box" aria-label="Photon energy formula">
                            E = h&nu; = hc/&lambda;
                        </div>

                        <p>Where E is energy, h is Planck&rsquo;s constant, &nu; is frequency, c is the speed of light, and &lambda; is wavelength. Higher frequency (shorter wavelength) means higher energy.</p>
                    </div>
                </div>
            </div>

            <!-- PART 3: CHEMICAL BONDING -->
            <div class="card">
                <div class="card-header">Part 3: Chemical Bonding at the Nanoscale</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>Types of Chemical Bonds</h3>
                        <p>The properties of nanomaterials&mdash;their strength, conductivity, optical behavior&mdash;arise from chemical bonds between atoms. Understanding bonding is essential for designing materials with desired properties.</p>

                        <div class="two-column">
                            <div class="column-box">
                                <h4 style="color:var(--navy);">Ionic Bonds</h4>
                                <p><strong>Mechanism:</strong> Complete transfer of electrons from one atom to another, creating oppositely charged ions that attract.</p>
                                <p><strong>Example:</strong> NaCl (table salt)&mdash;Na donates an electron to Cl.</p>
                                <p><strong>Properties:</strong> High melting points, brittle, conduct electricity when dissolved or molten.</p>
                            </div>
                            <div class="column-box">
                                <h4 style="color:var(--teal);">Covalent Bonds</h4>
                                <p><strong>Mechanism:</strong> Atoms share electrons to fill their outer shells.</p>
                                <p><strong>Example:</strong> Diamond (C-C bonds), Silicon crystal (Si-Si bonds).</p>
                                <p><strong>Properties:</strong> Very strong, directional, can be insulating (diamond) or semiconducting (Si).</p>
                            </div>
                        </div>

                        <div class="two-column">
                            <div class="column-box">
                                <h4 style="color:var(--green);">Metallic Bonds</h4>
                                <p><strong>Mechanism:</strong> Outer electrons are delocalized, forming an &ldquo;electron sea&rdquo; shared by all atoms.</p>
                                <p><strong>Example:</strong> Copper wire, gold nanoparticles.</p>
                                <p><strong>Properties:</strong> Excellent electrical and thermal conductivity, malleable, lustrous.</p>
                            </div>
                            <div class="column-box">
                                <h4 style="color:var(--purple);">Van der Waals Forces</h4>
                                <p><strong>Mechanism:</strong> Weak attractions between temporary dipoles in molecules.</p>
                                <p><strong>Example:</strong> Graphite layers, gecko adhesion.</p>
                                <p><strong>Properties:</strong> Weak individually but collectively significant at nanoscale; enable self-assembly.</p>
                            </div>
                        </div>

                        <div class="key-concept">
                            <h4>&#128273; Nanoscale Bonding Effects</h4>
                            <p>At the nanoscale, <strong>surface atoms dominate</strong>. A 10 nm gold nanoparticle has about 30% of its atoms on the surface, versus less than 0.001% for a 1 cm gold cube. These surface atoms have unsatisfied bonds (dangling bonds) that make nanoparticles highly reactive and give them unique catalytic properties.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PART 4: STATES OF MATTER -->
            <div class="card">
                <div class="card-header">Part 4: States of Matter and Plasma</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>The Four States of Matter</h3>
                        <p>While solids, liquids, and gases are familiar, <span class="tooltip-term" tabindex="0">plasma<span class="tooltip-content">The fourth state of matter: an ionized gas containing free electrons and ions. Created by adding energy to a gas. Makes up 99% of visible matter in the universe.</span></span>&mdash;the fourth state&mdash;is crucial for nanofabrication. Plasma processes are used for etching, deposition, and surface modification.</p>

                        <table class="data-table" aria-label="States of matter comparison">
                            <caption>Comparing the Four States of Matter</caption>
                            <thead><tr><th scope="col">State</th><th scope="col">Structure</th><th scope="col">Energy</th><th scope="col">Nano Applications</th></tr></thead>
                            <tbody>
                                <tr><td>Solid</td><td>Fixed positions; ordered or amorphous</td><td>Lowest</td><td>Substrates, thin films, nanoparticles</td></tr>
                                <tr><td>Liquid</td><td>Close together; free to move</td><td>Low-medium</td><td>Solution processing, self-assembly</td></tr>
                                <tr><td>Gas</td><td>Widely spaced; random motion</td><td>Medium</td><td>CVD precursors, vacuum environments</td></tr>
                                <tr><td>Plasma</td><td>Ionized; electrons and ions separate</td><td>Highest</td><td>Etching, PECVD, surface treatment</td></tr>
                            </tbody>
                        </table>

                        <h4>Why Plasma Matters</h4>
                        <p>Plasma provides the energetic environment needed to:</p>
                        <ul style="margin-left:25px;margin-top:10px;">
                            <li><strong>Etch materials:</strong> Reactive ions physically and chemically remove material with nanometer precision</li>
                            <li><strong>Deposit thin films:</strong> Plasma-enhanced CVD (PECVD) enables deposition at lower temperatures</li>
                            <li><strong>Clean surfaces:</strong> Oxygen plasma removes organic contaminants</li>
                            <li><strong>Modify surfaces:</strong> Change wettability, adhesion, and reactivity</li>
                        </ul>

                        <div class="industry-note">
                            <h4>&#127981; Industry Connection</h4>
                            <p>A modern semiconductor fab uses dozens of plasma process tools. Reactive Ion Etching (RIE) creates the nanoscale trenches and vias in integrated circuits. PECVD deposits silicon nitride and oxide layers. The ability to control plasma parameters (power, pressure, gas composition) enables atomic-scale process control.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PART 5: CONDUCTORS, INSULATORS, SEMICONDUCTORS -->
            <div class="card">
                <div class="card-header">Part 5: Conductors, Insulators, and Semiconductors</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>Band Theory of Solids</h3>
                        <p>When atoms come together to form a solid, their discrete energy levels merge into continuous <span class="tooltip-term" tabindex="0">energy bands<span class="tooltip-content">In solids, atomic orbitals combine to form bands of allowed electron energies. The valence band (filled) and conduction band (empty or partially filled) determine electrical behavior.</span></span>. The arrangement of these bands determines whether a material conducts electricity.</p>

                        <div class="energy-diagram">
                            <h4 style="color:var(--navy);text-align:center;margin-bottom:20px;">Energy Band Diagrams</h4>
                            <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;text-align:center;">
                                <div>
                                    <div class="band-visual">
                                        <div class="band conduction-band">Conduction Band</div>
                                        <div style="height:5px;background:transparent;"></div>
                                        <div class="band valence-band">Valence Band</div>
                                    </div>
                                    <p style="font-weight:700;margin-top:10px;">Conductor</p>
                                    <p style="font-size:0.85rem;color:#555;">Bands overlap or touch</p>
                                </div>
                                <div>
                                    <div class="band-visual">
                                        <div class="band conduction-band">Conduction Band</div>
                                        <div class="band band-gap">Small Gap<br>(0.1&ndash;3 eV)</div>
                                        <div class="band valence-band">Valence Band</div>
                                    </div>
                                    <p style="font-weight:700;margin-top:10px;">Semiconductor</p>
                                    <p style="font-size:0.85rem;color:#555;">Gap crossable with energy</p>
                                </div>
                                <div>
                                    <div class="band-visual">
                                        <div class="band conduction-band">Conduction Band</div>
                                        <div class="band band-gap" style="padding:25px 40px;">Large Gap<br>(&gt;3 eV)</div>
                                        <div class="band valence-band">Valence Band</div>
                                    </div>
                                    <p style="font-weight:700;margin-top:10px;">Insulator</p>
                                    <p style="font-size:0.85rem;color:#555;">Gap too large to cross</p>
                                </div>
                            </div>
                        </div>

                        <h4>Key Materials</h4>
                        <table class="data-table" aria-label="Material band gaps">
                            <caption>Common Materials and Their Band Gaps</caption>
                            <thead><tr><th scope="col">Material</th><th scope="col">Type</th><th scope="col">Band Gap (eV)</th><th scope="col">Application</th></tr></thead>
                            <tbody>
                                <tr><td>Copper (Cu)</td><td>Conductor</td><td>0 (overlapping)</td><td>Interconnects, wiring</td></tr>
                                <tr><td>Silicon (Si)</td><td>Semiconductor</td><td>1.12</td><td>Transistors, solar cells</td></tr>
                                <tr><td>Germanium (Ge)</td><td>Semiconductor</td><td>0.67</td><td>High-speed transistors</td></tr>
                                <tr><td>Gallium Arsenide (GaAs)</td><td>Semiconductor</td><td>1.42</td><td>LEDs, RF devices</td></tr>
                                <tr><td>Silicon Dioxide (SiO<sub>2</sub>)</td><td>Insulator</td><td>~9</td><td>Gate oxide, isolation</td></tr>
                                <tr><td>Diamond (C)</td><td>Insulator</td><td>5.5</td><td>Heat sinks, quantum sensors</td></tr>
                            </tbody>
                        </table>

                        <h3>Silicon: The Foundation of Modern Electronics</h3>
                        <p>Silicon dominates the semiconductor industry for several reasons:</p>
                        <ul style="margin-left:25px;margin-top:10px;">
                            <li><strong>Abundant:</strong> Second most common element in Earth&rsquo;s crust (sand is SiO<sub>2</sub>)</li>
                            <li><strong>Excellent oxide:</strong> SiO<sub>2</sub> forms a perfect insulating layer&mdash;crucial for transistors</li>
                            <li><strong>Controllable doping:</strong> Adding impurities precisely controls conductivity</li>
                            <li><strong>Mature processing:</strong> Decades of refinement in growth and fabrication</li>
                        </ul>

                        <div class="key-concept">
                            <h4>&#128273; Silicon Crystal Structure</h4>
                            <p>Silicon has a <strong>diamond cubic</strong> crystal structure where each Si atom is bonded to four neighbors in a tetrahedral arrangement. This structure creates the band gap that makes silicon a semiconductor. Pure silicon has about 5 &times; 10<sup>22</sup> atoms/cm&sup3;, and dopant concentrations as low as 1 part per billion can dramatically change its conductivity.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PART 6: SURFACE-TO-VOLUME RATIO -->
            <div class="card">
                <div class="card-header">Part 6: Surface-to-Volume Ratio</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>Why Size Matters at the Nanoscale</h3>
                        <p>The <span class="tooltip-term" tabindex="0">surface-to-volume ratio<span class="tooltip-content">The ratio of a particle&rsquo;s surface area to its volume. As objects shrink, this ratio increases dramatically, making surface effects dominant at the nanoscale.</span></span> (SA:V) is perhaps the most important concept in nanotechnology. As objects shrink, their surface area decreases more slowly than their volume, making the ratio increase dramatically.</p>

                        <h4>The Mathematics</h4>
                        <p>For a cube with side length <strong>a</strong>:</p>
                        <div class="formula-box" aria-label="Surface to volume ratio for a cube">
                            Surface Area = 6a&sup2; &nbsp;&nbsp;&nbsp; Volume = a&sup3; &nbsp;&nbsp;&nbsp; SA:V = 6/a
                        </div>

                        <p>As <strong>a</strong> decreases, SA:V increases proportionally. Cut a cube in half along each dimension, and SA:V doubles!</p>

                        <div class="example-box">
                            <h4>&#128221; Comparative Example</h4>
                            <table class="data-table" style="margin-top:15px;">
                                <thead><tr><th>Cube Size</th><th>Surface Area</th><th>Volume</th><th>SA:V Ratio</th></tr></thead>
                                <tbody>
                                    <tr><td>1 cm</td><td>6 cm&sup2;</td><td>1 cm&sup3;</td><td>6 cm<sup>&minus;1</sup></td></tr>
                                    <tr><td>1 mm</td><td>6 mm&sup2;</td><td>1 mm&sup3;</td><td>60 cm<sup>&minus;1</sup></td></tr>
                                    <tr><td>1 &micro;m</td><td>6 &micro;m&sup2;</td><td>1 &micro;m&sup3;</td><td>60,000 cm<sup>&minus;1</sup></td></tr>
                                    <tr><td>10 nm</td><td>600 nm&sup2;</td><td>1000 nm&sup3;</td><td>6,000,000 cm<sup>&minus;1</sup></td></tr>
                                </tbody>
                            </table>
                            <p style="margin-top:15px;">A 10 nm cube has a surface-to-volume ratio <strong>one million times</strong> larger than a 1 cm cube!</p>
                        </div>

                        <h4>Consequences of High SA:V</h4>
                        <div class="three-column">
                            <div class="column-box" style="border-top:4px solid var(--teal);">
                                <h4 style="color:var(--teal);">Enhanced Reactivity</h4>
                                <p>More surface atoms mean more sites for chemical reactions. Gold nanoparticles are excellent catalysts; bulk gold is inert.</p>
                            </div>
                            <div class="column-box" style="border-top:4px solid var(--gold);">
                                <h4 style="color:#996600;">Surface Dominance</h4>
                                <p>Surface effects (tension, energy, charge) dominate over bulk properties. Melting points decrease; reactivity increases.</p>
                            </div>
                            <div class="column-box" style="border-top:4px solid var(--purple);">
                                <h4 style="color:var(--purple);">Quantum Effects</h4>
                                <p>Small enough particles exhibit quantum confinement&mdash;their properties depend on size, not just composition.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PART 7: MOORE'S LAW -->
            <div class="card">
                <div class="card-header">Part 7: Moore&rsquo;s Law and the Limits of Miniaturization</div>
                <div class="card-body">
                    <div class="content-section">
                        <h3>Moore&rsquo;s Law: The Engine of Progress</h3>
                        <p>In 1965, Gordon Moore observed that the number of transistors on integrated circuits was doubling approximately every two years. This observation, known as <span class="tooltip-term" tabindex="0">Moore&rsquo;s Law<span class="tooltip-content">The observation that transistor density on ICs doubles roughly every 2 years. Not a physical law but an industry roadmap that has driven semiconductor progress for 60 years.</span></span>, has driven semiconductor advancement for six decades.</p>

                        <div class="history-box">
                            <h4>&#128220; The Numbers Are Staggering</h4>
                            <ul style="margin-left:25px;margin-top:10px;">
                                <li><strong>1971:</strong> Intel 4004 &mdash; 2,300 transistors (10 &micro;m process)</li>
                                <li><strong>1989:</strong> Intel 486 &mdash; 1.2 million transistors (1 &micro;m)</li>
                                <li><strong>2000:</strong> Pentium 4 &mdash; 42 million transistors (180 nm)</li>
                                <li><strong>2010:</strong> Core i7 &mdash; 731 million transistors (32 nm)</li>
                                <li><strong>2020:</strong> Apple M1 &mdash; 16 billion transistors (5 nm)</li>
                                <li><strong>2024:</strong> Apple M4 &mdash; 28+ billion transistors (3 nm)</li>
                            </ul>
                        </div>

                        <h3>Physical Limits of Miniaturization</h3>
                        <p>Moore&rsquo;s Law is an empirical observation, not a law of physics. As transistors approach atomic dimensions, fundamental limits emerge:</p>

                        <div class="two-column">
                            <div class="column-box" style="border-left:4px solid var(--red);">
                                <h4 style="color:var(--red);">Quantum Tunneling</h4>
                                <p>When gate oxides become too thin (~1 nm), electrons tunnel through them even when &ldquo;off.&rdquo; This causes leakage current and power waste.</p>
                            </div>
                            <div class="column-box" style="border-left:4px solid var(--orange);">
                                <h4 style="color:var(--orange);">Heat Dissipation</h4>
                                <p>More transistors mean more heat. Power density limits have forced clock speeds to plateau around 4&ndash;5 GHz since 2004.</p>
                            </div>
                        </div>

                        <div class="two-column">
                            <div class="column-box" style="border-left:4px solid var(--purple);">
                                <h4 style="color:var(--purple);">Lithography Limits</h4>
                                <p>Patterning features smaller than the wavelength of light requires extreme techniques like EUV (13.5 nm) and multiple patterning.</p>
                            </div>
                            <div class="column-box" style="border-left:4px solid var(--steel);">
                                <h4 style="color:var(--steel);">Atomic Variability</h4>
                                <p>At 3 nm, a transistor channel may be only 10&ndash;15 silicon atoms wide. Random dopant fluctuation causes device-to-device variation.</p>
                            </div>
                        </div>

                        <div class="key-concept">
                            <h4>&#128273; Beyond Traditional Scaling</h4>
                            <p>The industry response to physical limits includes: <strong>3D structures</strong> (FinFET, Gate-All-Around), <strong>new materials</strong> (high-k dielectrics, 2D materials), <strong>advanced packaging</strong> (chiplets, 3D stacking), and entirely <strong>new computing paradigms</strong> (quantum computing, neuromorphic chips). Moore&rsquo;s Law as originally stated may end, but innovation continues.</p>
                        </div>

                        <div class="discussion-questions">
                            <h4>&#128172; Discussion Questions</h4>
                            <ol>
                                <li>If the de Broglie wavelength of an electron is comparable to device dimensions, what quantum effects might occur?</li>
                                <li>Why does gold, which is chemically inert in bulk form, become a powerful catalyst as nanoparticles?</li>
                                <li>A semiconductor has a band gap of 1.5 eV. What wavelength of light could excite electrons across this gap?</li>
                                <li>If Moore&rsquo;s Law continues, how many transistors would a chip have in 2035? Is this physically plausible?</li>
                                <li>Why does silicon dioxide make silicon the ideal semiconductor, while other materials like germanium lost out?</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

        </div><!-- END LECTURE TAB -->

        <!-- ================================================================ -->
        <!--                     SIMULATIONS TAB                              -->
        <!-- ================================================================ -->
        <div id="simulations" class="tab-content" role="tabpanel">
            
            <div class="card">
                <div class="card-header">Interactive Simulation: Surface-to-Volume Ratio Explorer</div>
                <div class="card-body">
                    <p>Click on different cube sizes to see how the surface-to-volume ratio changes dramatically as objects shrink to the nanoscale.</p>

                    <div class="sav-grid" id="sav-grid">
                        <div class="sav-cube active" data-size="1cm" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:80px;height:80px;"></div>
                            <div class="sav-label">1 cm</div>
                            <div class="sav-data">Macro scale</div>
                        </div>
                        <div class="sav-cube" data-size="1mm" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:60px;height:60px;"></div>
                            <div class="sav-label">1 mm</div>
                            <div class="sav-data">Grain of sand</div>
                        </div>
                        <div class="sav-cube" data-size="100um" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:45px;height:45px;"></div>
                            <div class="sav-label">100 &micro;m</div>
                            <div class="sav-data">Human hair width</div>
                        </div>
                        <div class="sav-cube" data-size="1um" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:30px;height:30px;"></div>
                            <div class="sav-label">1 &micro;m</div>
                            <div class="sav-data">Bacterium</div>
                        </div>
                        <div class="sav-cube" data-size="100nm" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:20px;height:20px;"></div>
                            <div class="sav-label">100 nm</div>
                            <div class="sav-data">Virus</div>
                        </div>
                        <div class="sav-cube" data-size="10nm" onclick="selectCube(this)">
                            <div class="cube-visual" style="width:12px;height:12px;"></div>
                            <div class="sav-label">10 nm</div>
                            <div class="sav-data">Quantum dot</div>
                        </div>
                    </div>

                    <div class="sav-result" id="sav-result">
                        <h4 style="color:var(--navy);margin-bottom:15px;" id="sav-title">1 cm Cube</h4>
                        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:15px;text-align:center;">
                            <div>
                                <div style="font-size:0.85rem;color:#666;">Surface Area</div>
                                <div style="font-size:1.4rem;font-weight:700;color:var(--teal);" id="sav-area">6 cm&sup2;</div>
                            </div>
                            <div>
                                <div style="font-size:0.85rem;color:#666;">Volume</div>
                                <div style="font-size:1.4rem;font-weight:700;color:var(--steel);" id="sav-vol">1 cm&sup3;</div>
                            </div>
                            <div>
                                <div style="font-size:0.85rem;color:#666;">SA:V Ratio</div>
                                <div style="font-size:1.4rem;font-weight:700;color:var(--gold);" id="sav-ratio">6 cm<sup>&minus;1</sup></div>
                            </div>
                        </div>
                        <p style="margin-top:15px;font-size:0.95rem;" id="sav-insight">At the macroscale, bulk properties dominate. Surface effects are negligible.</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">Interactive Simulation: Band Gap and Light Emission</div>
                <div class="card-body">
                    <p>Adjust the band gap to see what wavelength of light would be emitted when an electron drops from the conduction band to the valence band.</p>

                    <div class="sim-container">
                        <div class="sim-controls">
                            <div class="slider-group">
                                <label for="bandgap-slider">Band Gap:</label>
                                <input type="range" id="bandgap-slider" min="0.5" max="4" step="0.1" value="1.12" onchange="updateBandGap(this.value)" oninput="updateBandGap(this.value)">
                                <span class="slider-val" id="bandgap-value">1.12 eV</span>
                            </div>
                        </div>

                        <div id="bandgap-display" style="text-align:center;padding:30px;background:var(--white);border-radius:10px;margin-top:20px;">
                            <div style="font-size:1.1rem;margin-bottom:15px;">Photon Wavelength: <strong id="wavelength-value">1107 nm</strong></div>
                            <div id="color-swatch" style="width:100%;height:60px;border-radius:8px;margin:15px 0;background:#8B0000;"></div>
                            <div style="font-size:0.95rem;color:#555;" id="spectrum-region">Infrared (not visible)</div>
                            <div style="margin-top:20px;">
                                <span style="background:var(--slate);padding:8px 15px;border-radius:20px;font-size:0.9rem;" id="material-match">Silicon (1.12 eV)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">Interactive Simulation: de Broglie Wavelength Calculator</div>
                <div class="card-body">
                    <p>Calculate the de Broglie wavelength for different particles and velocities to see when quantum effects become significant.</p>

                    <div class="sim-container">
                        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px;">
                            <div>
                                <label style="font-weight:600;display:block;margin-bottom:8px;">Particle Type</label>
                                <select id="particle-select" style="width:100%;padding:10px;border-radius:6px;border:2px solid var(--silver);font-size:1rem;" onchange="calculateWavelength()">
                                    <option value="electron">Electron</option>
                                    <option value="proton">Proton</option>
                                    <option value="neutron">Neutron</option>
                                    <option value="alpha">Alpha Particle</option>
                                </select>
                            </div>
                            <div>
                                <label style="font-weight:600;display:block;margin-bottom:8px;">Velocity (m/s)</label>
                                <input type="number" id="velocity-input" value="1000000" style="width:100%;padding:10px;border-radius:6px;border:2px solid var(--silver);font-size:1rem;" onchange="calculateWavelength()">
                            </div>
                        </div>

                        <button class="sim-btn" onclick="calculateWavelength()" style="width:100%;">Calculate Wavelength</button>

                        <div id="wavelength-result" style="background:var(--sky);padding:25px;border-radius:10px;margin-top:20px;text-align:center;">
                            <div style="font-size:0.9rem;color:#666;">de Broglie Wavelength</div>
                            <div style="font-size:2.5rem;font-weight:700;color:var(--navy);margin:10px 0;" id="debroglie-value">0.73 nm</div>
                            <div style="font-size:0.95rem;color:#555;" id="debroglie-context">Comparable to atomic spacing&mdash;quantum effects are significant!</div>
                        </div>
                    </div>
                </div>
            </div>

        </div><!-- END SIMULATIONS TAB -->

        <!-- ================================================================ -->
        <!--                      RESOURCES TAB                               -->
        <!-- ================================================================ -->
        <div id="resources" class="tab-content" role="tabpanel">
            
            <div class="card">
                <div class="card-header">Educational Videos: Understanding the Nanoscale</div>
                <div class="card-body">
                    <p>Watch these curated videos to deepen your understanding of nanoscale concepts, size relationships, and surface area effects. Each video provides a different perspective on what makes the nanoscale unique.</p>
                    
                    <div class="content-section">
                        <h3>Understanding Size at the Nanoscale</h3>
                        
                        <div style="margin-bottom: 35px;">
                            <h4>Size of the Nanoscale (What a Nanometer Is)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/TxKJj-qGsvE" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="Size of the Nanoscale">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">An introduction to understanding what a nanometer represents and how it relates to everyday objects.</p>
                        </div>

                        <div style="margin-bottom: 35px;">
                            <h4>What is a Nanometer? (Basic Unit Explanation)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/pOAS7sW11TQ" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="What is a Nanometer">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">A clear explanation of the nanometer as a basic unit of measurement in nanotechnology.</p>
                        </div>

                        <div style="margin-bottom: 35px;">
                            <h4>1 nm: HOW SMALL? (Visualizing Nanoscale)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/7n5S6x1UNPs" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="1 nm: HOW SMALL?">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">Visual demonstrations to help you truly grasp the incredibly small scale of a nanometer.</p>
                        </div>

                        <div style="margin-bottom: 35px;">
                            <h4>What is Nano? (Guided Trip Through Sizes)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/DHvzIGxkItw" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="What is Nano?">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">Take a guided journey through different size scales to understand where the nanoscale fits in our universe.</p>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>Surface Area and Nanoscale Effects</h3>
                        
                        <div style="margin-bottom: 35px;">
                            <h4>Surface to Volume Ratio (Nanoscale Effects)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/R7WxXXM-Lxc" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="Surface to Volume Ratio">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">Explore why surface-to-volume ratio becomes critically important at the nanoscale and how it affects material properties.</p>
                        </div>

                        <div style="margin-bottom: 35px;">
                            <h4>10/15 Concepts in Nano (Size & Surface Area)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/H3U8BQoQ-Ok" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="10/15 Concepts in Nano">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">Key concepts about size relationships and surface area considerations in nanotechnology.</p>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>Introduction to Nanoscale Context</h3>
                        
                        <div style="margin-bottom: 35px;">
                            <h4>Intro to Nano (General Nanoscale Context)</h4>
                            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 15px;">
                                <iframe src="https://www.youtube.com/embed/GmUeCf_bI-s" 
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen
                                        title="Intro to Nano">
                                </iframe>
                            </div>
                            <p style="margin-top: 10px; font-size: 0.95rem; color: var(--steel);">A comprehensive introduction providing context for understanding the nanoscale and its significance.</p>
                        </div>
                    </div>

                    <div class="key-concept">
                        <h4> Viewing Tips</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>Watch videos in the order presented for best understanding</li>
                            <li>Take notes on key concepts and size comparisons</li>
                            <li>Pause videos to work through calculations shown</li>
                            <li>Revisit videos when studying for the quiz</li>
                            <li>Compare video explanations with the lecture material for deeper insight</li>
                        </ul>
                    </div>

                </div>
            </div>

        </div><!-- END RESOURCES TAB -->

        <!-- ================================================================ -->
        <!--                      ACTIVITIES TAB                              -->
        <!-- ================================================================ -->
        <div id="activities" class="tab-content" role="tabpanel">
            
            <div class="card">
                <div class="card-header">Activity 1: Surface-to-Volume Calculation Exercise</div>
                <div class="card-body">
                    <p>Complete these calculations to understand how SA:V changes with scale.</p>

                    <div class="two-column">
                        <div class="column-box">
                            <h4 style="color:var(--navy);">Problem Set</h4>
                            <ol style="margin-left:20px;line-height:2;">
                                <li>Calculate the SA:V ratio for a sphere of radius 1 cm. (SA = 4&pi;r&sup2;, V = (4/3)&pi;r&sup3;)</li>
                                <li>Calculate the SA:V ratio for a sphere of radius 10 nm.</li>
                                <li>By what factor does the SA:V ratio increase when going from 1 cm to 10 nm?</li>
                                <li>If a 1 cm gold cube is divided into 10 nm cubes, how many cubes result?</li>
                                <li>What is the total surface area of all those 10 nm cubes compared to the original?</li>
                            </ol>
                        </div>
                        <div class="column-box">
                            <h4 style="color:var(--teal);">Hints</h4>
                            <ul style="margin-left:20px;line-height:2;">
                                <li>For a sphere, SA:V = 3/r</li>
                                <li>1 cm = 10<sup>7</sup> nm</li>
                                <li>Number of small cubes = (big side / small side)&sup3;</li>
                                <li>Total surface area of many cubes = N &times; (surface area of one cube)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">Activity 2: Moore&rsquo;s Law Extrapolation</div>
                <div class="card-body">
                    <p>Use the data from the lecture to explore Moore&rsquo;s Law mathematically.</p>

                    <table class="data-table">
                        <thead><tr><th>Year</th><th>Transistor Count</th><th>log<sub>2</sub>(Count)</th><th>Years Since 1971</th></tr></thead>
                        <tbody>
                            <tr><td>1971</td><td>2,300</td><td></td><td>0</td></tr>
                            <tr><td>1989</td><td>1,200,000</td><td></td><td>18</td></tr>
                            <tr><td>2000</td><td>42,000,000</td><td></td><td>29</td></tr>
                            <tr><td>2010</td><td>731,000,000</td><td></td><td>39</td></tr>
                            <tr><td>2020</td><td>16,000,000,000</td><td></td><td>49</td></tr>
                        </tbody>
                    </table>

                    <ol style="margin-left:20px;margin-top:20px;line-height:2;">
                        <li>Fill in the log<sub>2</sub>(Count) column.</li>
                        <li>Plot log<sub>2</sub>(Count) vs. Years Since 1971. What shape is the graph?</li>
                        <li>Calculate the doubling time from your data. Does it match the ~2 year prediction?</li>
                        <li>Extrapolate: How many transistors would there be in 2035 if the trend continues?</li>
                        <li>If each transistor is 3 nm wide, how many could fit across a 1 cm chip? Is your 2035 prediction physically possible?</li>
                    </ol>
                </div>
            </div>

            <div class="card">
                <div class="card-header">Activity 3: Band Gap and LED Colors</div>
                <div class="card-body">
                    <p>LEDs emit light when electrons drop from the conduction band to the valence band. The wavelength of emitted light depends on the band gap.</p>

                    <div class="formula-box">
                        &lambda; (nm) = 1240 / E<sub>g</sub> (eV)
                    </div>

                    <p style="margin-top:20px;">Use this formula to complete the table:</p>

                    <table class="data-table">
                        <thead><tr><th>Material</th><th>Band Gap (eV)</th><th>Wavelength (nm)</th><th>Color</th></tr></thead>
                        <tbody>
                            <tr><td>GaAs</td><td>1.42</td><td></td><td></td></tr>
                            <tr><td>GaP</td><td>2.26</td><td></td><td></td></tr>
                            <tr><td>GaN</td><td>3.4</td><td></td><td></td></tr>
                            <tr><td>InGaN (tuned)</td><td>2.7</td><td></td><td></td></tr>
                            <tr><td>AlGaInP</td><td>2.0</td><td></td><td></td></tr>
                        </tbody>
                    </table>

                    <p style="margin-top:20px;"><strong>Visible spectrum reference:</strong> Red (620&ndash;750 nm), Orange (590&ndash;620 nm), Yellow (570&ndash;590 nm), Green (495&ndash;570 nm), Blue (450&ndash;495 nm), Violet (380&ndash;450 nm)</p>
                </div>
            </div>

        </div><!-- END ACTIVITIES TAB -->

        <!-- ================================================================ -->
        <!--                        QUIZ TAB                                  -->
        <!-- ================================================================ -->
        <div id="quiz" class="tab-content" role="tabpanel">
            
            <div class="quiz-container" id="quiz-container">
                <!-- Quiz questions will be inserted by JavaScript -->
            </div>

            <div class="quiz-score" id="quiz-score" style="display:none;">
                <h3>Module Complete!</h3>
                <p style="font-size:1.5rem;margin:15px 0;" id="score-text">You scored X/10</p>
                <p id="score-message"></p>
                <button class="sim-btn" onclick="resetQuiz()" style="margin-top:15px;">Retake Quiz</button>
            </div>

        </div><!-- END QUIZ TAB -->

        <!-- ===== NAV FOOTER ===== -->
        <div class="nav-footer">
            <a href="module1_cleanrooms.html">&larr; Module 1: What Is Nanotechnology?</a>
            <a href="module3_cleanroom_technology.html">Module 3: Cleanroom Technology &rarr;</a>
        </div>

    </main>

    <footer>
        <div class="footer-content">
            <p><strong>Introduction to Nanotechnology</strong></p>
            <p>Developed with support from NSF ATE Grant DUE 2301137</p>
            <p>&copy; 2025. Educational use permitted with attribution.</p>
        </div>
    </footer>

    <script>
        // ===== TAB SWITCHING =====
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-selected', 'false');
            });
            
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
            event.target.setAttribute('aria-selected', 'true');
            
            if (tabId === 'quiz' && !quizInitialized) {
                initQuiz();
            }
            
            // Mark resources as viewed when tab is accessed
            if (tabId === 'resources') {
                localStorage.setItem('m2_resources_viewed', 'true');
            }
            
            updateProgress();
        }

        // ===== PROGRESS TRACKING =====
        function updateProgress() {
            const sections = ['lecture', 'simulations', 'resources', 'activities', 'quiz'];
            let completed = 0;
            
            if (localStorage.getItem('m2_lecture_read')) completed++;
            if (localStorage.getItem('m2_sim_used')) completed++;
            if (localStorage.getItem('m2_resources_viewed')) completed++;
            if (localStorage.getItem('m2_activity_done')) completed++;
            if (localStorage.getItem('m2_quiz_done')) completed++;
            
            const pct = Math.round((completed / 5) * 100);
            document.getElementById('progress-fill').style.width = pct + '%';
            document.getElementById('progress-fill').textContent = pct + '%';
        }

        // ===== SA:V EXPLORER =====
        const savData = {
            '1cm': { title: '1 cm Cube', area: '6 cm', vol: '1 cm', ratio: '6 cm', insight: 'At the macroscale, bulk properties dominate. Surface effects are negligible.' },
            '1mm': { title: '1 mm Cube', area: '6 mm', vol: '1 mm', ratio: '60 cm', insight: 'Still macro. Surface effects are minimal but increasing.' },
            '100um': { title: '100 m Cube', area: '60,000 m', vol: '1,000,000 m', ratio: '600 cm', insight: 'Approaching micro scale. Surface properties start to matter.' },
            '1um': { title: '1 m Cube', area: '6 m', vol: '1 m', ratio: '6,000 cm', insight: 'Microscale. Surface energy becomes significant.' },
            '100nm': { title: '100 nm Cube', area: '60,000 nm', vol: '1,000,000 nm', ratio: '60,000 cm', insight: 'Nanoscale! Surface atoms are a significant fraction of total atoms.' },
            '10nm': { title: '10 nm Cube', area: '600 nm', vol: '1,000 nm', ratio: '6,000,000 cm', insight: 'Deep nanoscale: ~30% of atoms are on the surface. Quantum effects emerge. Properties differ dramatically from bulk.' }
        };

        function selectCube(el) {
            document.querySelectorAll('.sav-cube').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            
            const size = el.dataset.size;
            const data = savData[size];
            
            document.getElementById('sav-title').textContent = data.title;
            document.getElementById('sav-area').textContent = data.area;
            document.getElementById('sav-vol').textContent = data.vol;
            document.getElementById('sav-ratio').innerHTML = data.ratio;
            document.getElementById('sav-insight').textContent = data.insight;
            
            localStorage.setItem('m2_sim_used', 'true');
            updateProgress();
        }

        // ===== BAND GAP SIMULATOR =====
        function updateBandGap(val) {
            const eV = parseFloat(val);
            document.getElementById('bandgap-value').textContent = eV.toFixed(2) + ' eV';
            
            // Calculate wavelength:  = 1240 / E(eV)
            const wavelength = 1240 / eV;
            document.getElementById('wavelength-value').textContent = Math.round(wavelength) + ' nm';
            
            // Determine color
            let color, region;
            if (wavelength > 750) {
                color = '#8B0000';
                region = 'Infrared (not visible)';
            } else if (wavelength > 620) {
                color = '#FF0000';
                region = 'Red';
            } else if (wavelength > 590) {
                color = '#FF8C00';
                region = 'Orange';
            } else if (wavelength > 570) {
                color = '#FFD700';
                region = 'Yellow';
            } else if (wavelength > 495) {
                color = '#00FF00';
                region = 'Green';
            } else if (wavelength > 450) {
                color = '#0000FF';
                region = 'Blue';
            } else if (wavelength > 380) {
                color = '#8B00FF';
                region = 'Violet';
            } else {
                color = '#4B0082';
                region = 'Ultraviolet (not visible)';
            }
            
            document.getElementById('color-swatch').style.background = color;
            document.getElementById('spectrum-region').textContent = region;
            
            // Material match
            let material = 'Custom material';
            if (Math.abs(eV - 1.12) < 0.05) material = 'Silicon (1.12 eV)';
            else if (Math.abs(eV - 0.67) < 0.05) material = 'Germanium (0.67 eV)';
            else if (Math.abs(eV - 1.42) < 0.05) material = 'GaAs (1.42 eV)';
            else if (Math.abs(eV - 2.26) < 0.05) material = 'GaP (2.26 eV)';
            else if (Math.abs(eV - 3.4) < 0.05) material = 'GaN (3.4 eV)';
            
            document.getElementById('material-match').textContent = material;
        }

        // ===== DE BROGLIE CALCULATOR =====
        const particleMasses = {
            electron: 9.109e-31,
            proton: 1.673e-27,
            neutron: 1.675e-27,
            alpha: 6.645e-27
        };

        function calculateWavelength() {
            const h = 6.626e-34; // Planck's constant
            const particle = document.getElementById('particle-select').value;
            const v = parseFloat(document.getElementById('velocity-input').value);
            const m = particleMasses[particle];
            
            const wavelength = h / (m * v);
            const nm = wavelength * 1e9;
            
            let display, context;
            if (nm > 1000) {
                display = (nm / 1000).toFixed(2) + ' m';
            } else if (nm > 1) {
                display = nm.toFixed(2) + ' nm';
            } else {
                display = (nm * 1000).toFixed(2) + ' pm';
            }
            
            document.getElementById('debroglie-value').textContent = display;
            
            // Context
            if (nm > 100) {
                context = 'Much larger than atomic spacingclassical behavior dominates.';
            } else if (nm > 10) {
                context = 'Comparable to molecular dimensionsquantum effects begin to appear.';
            } else if (nm > 0.1) {
                context = 'Comparable to atomic spacingquantum effects are significant!';
            } else {
                context = 'Smaller than atomic spacingdeep quantum regime.';
            }
            
            document.getElementById('debroglie-context').textContent = context;
            
            localStorage.setItem('m2_sim_used', 'true');
            updateProgress();
        }

        // ===== QUIZ =====
        const quizQuestions = [
            {
                q: "What is the de Broglie wavelength relationship?",
                opts: [" = h  p", " = h / p", " = p / h", " = h + p"],
                ans: 1,
                exp: "The de Broglie wavelength is inversely proportional to momentum:  = h/p = h/(mv)."
            },
            {
                q: "At the nanoscale, what dominates material behavior?",
                opts: ["Volume effects", "Weight effects", "Surface effects", "Magnetic effects"],
                ans: 2,
                exp: "Due to the high surface-to-volume ratio, surface effects dominate at the nanoscale."
            },
            {
                q: "What is the band gap of silicon?",
                opts: ["0.67 eV", "1.12 eV", "2.26 eV", "3.4 eV"],
                ans: 1,
                exp: "Silicon has a band gap of 1.12 eV, making it an ideal semiconductor for electronics."
            },
            {
                q: "Who first coined the term 'nano-technology'?",
                opts: ["Richard Feynman", "Gordon Moore", "Norio Taniguchi", "K. Eric Drexler"],
                ans: 2,
                exp: "Norio Taniguchi first used the term 'nano-technology' in a 1974 conference paper."
            },
            {
                q: "What is plasma?",
                opts: ["A liquid at high pressure", "A gas at low temperature", "An ionized gas with free electrons", "A solid with delocalized electrons"],
                ans: 2,
                exp: "Plasma is ionized gas containing free electrons and ionsthe fourth state of matter."
            },
            {
                q: "Why does a smaller band gap mean longer wavelength emission?",
                opts: ["E = hc/, so smaller E means larger ", "Smaller gaps absorb more light", "It doesn'tthey're unrelated", "Smaller gaps mean higher frequency"],
                ans: 0,
                exp: "Since E = hc/, a smaller energy gap produces photons with longer wavelength."
            },
            {
                q: "What fundamental limit makes transistors below ~1 nm impractical?",
                opts: ["Gravity", "Quantum tunneling", "Air resistance", "Manufacturing cost"],
                ans: 1,
                exp: "Quantum tunneling allows electrons to pass through barriers, causing leakage in very thin gates."
            },
            {
                q: "What type of bond holds graphite layers together?",
                opts: ["Ionic bonds", "Covalent bonds", "Metallic bonds", "Van der Waals forces"],
                ans: 3,
                exp: "Weak Van der Waals forces hold graphite layers together, allowing them to slide easily."
            },
            {
                q: "A 10 nm cube has what SA:V ratio compared to a 1 cm cube?",
                opts: ["Same", "10 larger", "1,000 larger", "1,000,000 larger"],
                ans: 3,
                exp: "SA:V = 6/a, so going from 1 cm to 10 nm (factor of 10 smaller) increases SA:V by 10."
            },
            {
                q: "Moore's Law predicts transistor count doubles approximately every:",
                opts: ["6 months", "2 years", "5 years", "10 years"],
                ans: 1,
                exp: "Moore's Law observes that transistor density doubles roughly every 2 years."
            }
        ];

        let quizInitialized = false;
        let currentQ = 0;
        let score = 0;
        let answered = [];

        function initQuiz() {
            quizInitialized = true;
            currentQ = 0;
            score = 0;
            answered = new Array(quizQuestions.length).fill(false);
            
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            
            quizQuestions.forEach((q, i) => {
                const div = document.createElement('div');
                div.className = 'quiz-question';
                div.id = `q${i}`;
                div.innerHTML = `
                    <div class="question-text">${i + 1}. ${q.q}</div>
                    <div class="quiz-options">
                        ${q.opts.map((opt, j) => `
                            <label class="quiz-option" id="opt-${i}-${j}" onclick="checkAnswer(${i}, ${j})">
                                <input type="radio" name="q${i}" value="${j}">
                                <span>${opt}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div class="quiz-feedback" id="fb-${i}"></div>
                `;
                container.appendChild(div);
            });
            
            document.getElementById('quiz-score').style.display = 'none';
        }

        function checkAnswer(qIdx, aIdx) {
            if (answered[qIdx]) return;
            answered[qIdx] = true;
            
            const q = quizQuestions[qIdx];
            const correct = aIdx === q.ans;
            
            if (correct) score++;
            
            // Style options
            q.opts.forEach((_, j) => {
                const opt = document.getElementById(`opt-${qIdx}-${j}`);
                if (j === q.ans) {
                    opt.classList.add('correct');
                } else if (j === aIdx && !correct) {
                    opt.classList.add('incorrect');
                }
            });
            
            // Show feedback
            const fb = document.getElementById(`fb-${qIdx}`);
            fb.className = `quiz-feedback show ${correct ? 'correct' : 'incorrect'}`;
            fb.innerHTML = `<strong>${correct ? ' Correct!' : ' Incorrect'}</strong> ${q.exp}`;
            
            // Check if all answered
            if (answered.every(a => a)) {
                showScore();
            }
        }

        function showScore() {
            localStorage.setItem('m2_quiz_done', 'true');
            updateProgress();
            
            const pct = Math.round((score / quizQuestions.length) * 100);
            document.getElementById('score-text').textContent = `You scored ${score}/${quizQuestions.length} (${pct}%)`;
            
            let msg = '';
            if (pct >= 90) msg = 'Excellent! You have mastered nanoscale science fundamentals.';
            else if (pct >= 70) msg = 'Good work! Review the topics you missed.';
            else msg = 'Keep studying! Review the lecture material and try again.';
            
            document.getElementById('score-message').textContent = msg;
            document.getElementById('quiz-score').style.display = 'block';
        }

        function resetQuiz() {
            quizInitialized = false;
            initQuiz();
        }

        // ===== TOOLTIP POSITIONING =====
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.tooltip-term').forEach(term => {
                const tooltip = term.querySelector('.tooltip-content');
                if (!tooltip) return;
                
                term.addEventListener('mouseenter', function(e) {
                    const rect = term.getBoundingClientRect();
                    tooltip.style.left = Math.min(rect.left, window.innerWidth - 330) + 'px';
                    tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                    
                    if (rect.top - tooltip.offsetHeight - 10 < 0) {
                        tooltip.style.top = (rect.bottom + 10) + 'px';
                    }
                });
            });
            
            // Mark lecture as read after scroll
            const lectureTab = document.getElementById('lecture');
            if (lectureTab) {
                lectureTab.addEventListener('scroll', function() {
                    localStorage.setItem('m2_lecture_read', 'true');
                    updateProgress();
                });
            }
            
            // Initialize
            updateProgress();
            updateBandGap(1.12);
            calculateWavelength();
        });
    </script>
</body>
</html>
