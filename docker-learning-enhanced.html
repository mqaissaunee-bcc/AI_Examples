<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Interactive Learning Platform - Enhanced</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --sage-gray: #BAC7BE;
            --light-mint: #C2E1C2;
            --medium-green: #7DCD85;
            --dark-sage: #80AB82;
            --olive-gray: #778472;
            --text-dark: #2d3436;
            --white: #ffffff;
            --success: #27ae60;
            --warning: #f39c12;
            --error: #e74c3c;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--sage-gray) 0%, var(--light-mint) 100%);
            color: var(--text-dark);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, var(--dark-sage) 0%, var(--medium-green) 100%);
            color: var(--white);
            padding: 40px;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* Progress Dashboard */
        .progress-dashboard {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .progress-stat {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
        }

        .progress-stat .number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .progress-stat .label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .achievement-badges {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 8px 15px;
            background: var(--warning);
            color: var(--white);
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .badge.earned {
            background: var(--success);
        }

        .badge.locked {
            background: var(--sage-gray);
            opacity: 0.5;
        }

        .tabs {
            display: flex;
            background: var(--sage-gray);
            justify-content: space-around;
            flex-wrap: wrap;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: transparent;
            color: var(--text-dark);
            font-size: 1em;
            font-weight: bold;
            min-width: 120px;
            position: relative;
        }

        .tab.completed::after {
            content: '‚úì';
            position: absolute;
            top: 5px;
            right: 10px;
            background: var(--success);
            color: var(--white);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
        }

        .tab:hover {
            background: var(--light-mint);
        }

        .tab.active {
            background: var(--medium-green);
            color: var(--white);
        }

        .content {
            padding: 40px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: var(--dark-sage);
            margin-bottom: 20px;
            font-size: 2em;
            border-bottom: 3px solid var(--medium-green);
            padding-bottom: 10px;
        }

        h3 {
            color: var(--olive-gray);
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }

        /* Visual Container Simulator */
        .simulator-container {
            background: var(--light-mint);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .simulator-workspace {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .images-section, .containers-section {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            min-height: 300px;
        }

        .images-section h4, .containers-section h4 {
            color: var(--dark-sage);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .visual-item {
            background: var(--sage-gray);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .visual-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .visual-item.running {
            border-left: 5px solid var(--success);
            background: #d4edda;
        }

        .visual-item.stopped {
            border-left: 5px solid var(--error);
            background: #f8d7da;
        }

        .visual-item.created {
            border-left: 5px solid var(--warning);
            background: #fff3cd;
        }

        .item-info {
            flex: 1;
        }

        .item-name {
            font-weight: bold;
            color: var(--text-dark);
        }

        .item-details {
            font-size: 0.85em;
            color: var(--olive-gray);
            margin-top: 3px;
        }

        .item-actions {
            display: flex;
            gap: 5px;
        }

        .action-btn {
            padding: 5px 12px;
            background: var(--dark-sage);
            color: var(--white);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: var(--medium-green);
            transform: scale(1.05);
        }

        .action-btn.danger {
            background: var(--error);
        }

        .action-btn.success {
            background: var(--success);
        }

        .simulator-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .control-btn {
            padding: 12px 25px;
            background: var(--dark-sage);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: var(--medium-green);
            transform: scale(1.05);
        }

        /* Dockerfile Editor */
        .editor-container {
            background: var(--light-mint);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .challenge-header {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .challenge-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .challenge-btn {
            padding: 10px 20px;
            background: var(--sage-gray);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        .challenge-btn:hover {
            background: var(--light-mint);
        }

        .challenge-btn.active {
            background: var(--medium-green);
            color: var(--white);
            border-color: var(--dark-sage);
        }

        .editor-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .editor-panel {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
        }

        .editor-panel h4 {
            color: var(--dark-sage);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .code-editor {
            width: 100%;
            min-height: 400px;
            padding: 15px;
            background: var(--text-dark);
            color: var(--medium-green);
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            border: none;
            border-radius: 8px;
            resize: vertical;
        }

        .editor-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .editor-btn {
            padding: 10px 20px;
            background: var(--dark-sage);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .editor-btn:hover {
            background: var(--medium-green);
        }

        .feedback-panel {
            background: var(--sage-gray);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            min-height: 100px;
        }

        .feedback-panel.success {
            background: #d4edda;
            border-left: 5px solid var(--success);
        }

        .feedback-panel.error {
            background: #f8d7da;
            border-left: 5px solid var(--error);
        }

        .feedback-panel.warning {
            background: #fff3cd;
            border-left: 5px solid var(--warning);
        }

        /* Docker Compose Section */
        .compose-example {
            background: var(--light-mint);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .compose-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .service-card {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid var(--medium-green);
            transition: all 0.3s;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .service-card h4 {
            color: var(--dark-sage);
            margin-bottom: 10px;
        }

        .yaml-editor {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            background: var(--text-dark);
            color: var(--medium-green);
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: none;
            border-radius: 8px;
            resize: vertical;
        }

        .architecture-diagram {
            background: var(--light-mint);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            position: relative;
        }

        .docker-flow {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .flow-section {
            background: var(--white);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid var(--medium-green);
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
        }

        .flow-section h4 {
            color: var(--dark-sage);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .component-card {
            background: var(--sage-gray);
            padding: 25px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .component-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--medium-green);
        }

        .component-card.active {
            background: var(--medium-green);
            color: var(--white);
        }

        .component-card h4 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .interactive-demo {
            background: var(--light-mint);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .command-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .command-btn {
            padding: 12px 25px;
            background: var(--dark-sage);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .command-btn:hover {
            background: var(--medium-green);
            transform: scale(1.05);
        }

        .command-btn:active {
            transform: scale(0.95);
        }

        .demo-output {
            background: var(--text-dark);
            color: var(--medium-green);
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            min-height: 150px;
            margin-top: 20px;
            white-space: pre-wrap;
        }

        .quiz-section {
            margin: 30px 0;
        }

        .question {
            background: var(--sage-gray);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .question h4 {
            color: var(--text-dark);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            background: var(--white);
            border: 2px solid var(--dark-sage);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            background: var(--light-mint);
        }

        .option.selected {
            background: var(--medium-green);
            color: var(--white);
            border-color: var(--medium-green);
        }

        .option.correct {
            background: var(--medium-green);
            color: var(--white);
            border-color: var(--medium-green);
        }

        .option.incorrect {
            background: #e74c3c;
            color: var(--white);
            border-color: #e74c3c;
        }

        .submit-btn {
            padding: 15px 40px;
            background: var(--dark-sage);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s;
            display: block;
            margin: 30px auto;
        }

        .submit-btn:hover {
            background: var(--medium-green);
            transform: scale(1.05);
        }

        .score-display {
            background: var(--medium-green);
            color: var(--white);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            margin: 30px 0;
            display: none;
        }

        .visual-flow {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 800px;
        }

        .flow-box {
            flex: 1;
            background: var(--sage-gray);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .flow-box:hover {
            background: var(--medium-green);
            color: var(--white);
            transform: scale(1.05);
        }

        .flow-arrow {
            font-size: 2em;
            color: var(--dark-sage);
        }

        .info-box {
            background: var(--light-mint);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--medium-green);
        }

        .code-block {
            background: var(--text-dark);
            color: var(--medium-green);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }

        .hint-box {
            background: var(--warning);
            color: var(--white);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .hint-box.visible {
            display: block;
        }

        @media (max-width: 968px) {
            header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .component-grid {
                grid-template-columns: 1fr;
            }

            .flow-step {
                flex-direction: column;
            }

            .command-buttons {
                flex-direction: column;
            }

            .simulator-workspace {
                grid-template-columns: 1fr;
            }

            .editor-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üê≥ Docker Interactive Learning Platform</h1>
            <p>Master Docker concepts through interactive visualizations and hands-on learning</p>
            
            <div class="progress-dashboard">
                <div class="progress-stat">
                    <span class="number" id="sectionsCompleted">0</span>
                    <span class="label">Sections Completed</span>
                </div>
                <div class="progress-stat">
                    <span class="number" id="quizScore">0%</span>
                    <span class="label">Quiz Score</span>
                </div>
                <div class="progress-stat">
                    <span class="number" id="challengesCompleted">0</span>
                    <span class="label">Challenges Done</span>
                </div>
                <div class="progress-stat">
                    <span class="number" id="timeSpent">0m</span>
                    <span class="label">Time Learning</span>
                </div>
            </div>

            <div class="achievement-badges">
                <span class="badge locked" id="badge-first-steps">üéØ First Steps</span>
                <span class="badge locked" id="badge-simulator">üî¨ Container Master</span>
                <span class="badge locked" id="badge-coder">üíª Code Warrior</span>
                <span class="badge locked" id="badge-composer">üéº Compose Expert</span>
                <span class="badge locked" id="badge-quiz">üèÜ Quiz Champion</span>
            </div>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('overview')">Overview</button>
            <button class="tab" onclick="switchTab('architecture')">Architecture</button>
            <button class="tab" onclick="switchTab('components')">Components</button>
            <button class="tab" onclick="switchTab('workflow')">Workflow</button>
            <button class="tab" onclick="switchTab('simulator')">üî¨ Simulator</button>
            <button class="tab" onclick="switchTab('challenges')">üíª Challenges</button>
            <button class="tab" onclick="switchTab('compose')">üéº Compose</button>
            <button class="tab" onclick="switchTab('demo')">Demo</button>
            <button class="tab" onclick="switchTab('quiz')">Quiz</button>
        </div>

        <div class="content">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <h2>What is Docker?</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    Docker is a platform that enables developers to package applications and their dependencies into lightweight, portable containers. These containers can run consistently across different computing environments, solving the classic "but it works on my machine" problem.
                </p>

                <h3>Why Docker?</h3>
                <div class="component-grid">
                    <div class="component-card">
                        <h4>üöÄ Portability</h4>
                        <p>Run your application anywhere - from your laptop to the cloud, without worrying about environment differences.</p>
                    </div>
                    <div class="component-card">
                        <h4>‚ö° Efficiency</h4>
                        <p>Containers share the host OS kernel, making them much lighter than virtual machines.</p>
                    </div>
                    <div class="component-card">
                        <h4>üîÑ Consistency</h4>
                        <p>Package everything your app needs, ensuring it runs the same way everywhere.</p>
                    </div>
                    <div class="component-card">
                        <h4>üì¶ Isolation</h4>
                        <p>Each container runs in isolation, preventing conflicts between applications.</p>
                    </div>
                </div>

                <div class="info-box">
                    <h3>Key Concept: "But it works on my machine"</h3>
                    <p>Docker was created to solve the problem where code works perfectly on a developer's machine but fails in production. By containerizing the entire environment, Docker ensures consistency across all stages of development.</p>
                </div>

                <h3>Docker vs Virtual Machines</h3>
                <div class="architecture-diagram">
                    <p><strong>Virtual Machines:</strong> Each VM includes a full copy of an operating system, the application, and necessary binaries - which can be tens of GBs in size.</p>
                    <br>
                    <p><strong>Docker Containers:</strong> Containers include the application and all of its dependencies, but share the kernel with other containers. They run as isolated processes on the host OS, making them incredibly lightweight.</p>
                </div>
            </div>

            <!-- Architecture Tab -->
            <div id="architecture" class="tab-content">
                <h2>Docker Architecture</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Docker uses a client-server architecture. The Docker client talks to the Docker daemon, which does the heavy lifting of building, running, and managing your containers.
                </p>

                <div class="visual-flow">
                    <div class="flow-step">
                        <div class="flow-box">
                            <h4>Docker Client</h4>
                            <p>Command-line interface where you type Docker commands</p>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-box">
                            <h4>Docker Daemon</h4>
                            <p>Background service that manages containers</p>
                        </div>
                    </div>
                    <div class="flow-arrow" style="transform: rotate(90deg);">‚Üí</div>
                    <div class="flow-step">
                        <div class="flow-box">
                            <h4>Containers</h4>
                            <p>Running instances of images</p>
                        </div>
                        <div class="flow-arrow">‚Üê‚Üí</div>
                        <div class="flow-box">
                            <h4>Images</h4>
                            <p>Templates for creating containers</p>
                        </div>
                    </div>
                    <div class="flow-arrow" style="transform: rotate(90deg);">‚Üí</div>
                    <div class="flow-box">
                        <h4>Docker Registry</h4>
                        <p>Repository for storing and sharing images (e.g., Docker Hub)</p>
                    </div>
                </div>

                <div class="docker-flow">
                    <div class="flow-section">
                        <h4>1. Docker Client (CLI)</h4>
                        <p>The Docker client is your primary interface to Docker. When you run commands like <code>docker build</code>, <code>docker pull</code>, <code>docker run</code>, or <code>docker push</code>, the client sends these commands to the Docker daemon using the Docker API.</p>
                    </div>

                    <div class="flow-section">
                        <h4>2. Docker Daemon (dockerd)</h4>
                        <p>The Docker daemon listens for Docker API requests and manages Docker objects such as images, containers, networks, and volumes. The daemon can also communicate with other daemons to manage Docker services across multiple hosts.</p>
                    </div>

                    <div class="flow-section">
                        <h4>3. Docker Registry</h4>
                        <p>A Docker registry stores Docker images. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default. You can also run your own private registry for organizational use.</p>
                    </div>
                </div>
            </div>

            <!-- Components Tab -->
            <div id="components" class="tab-content">
                <h2>Docker Components Explained</h2>

                <div class="component-grid" id="componentCards">
                    <div class="component-card" onclick="showComponentDetails('dockerfile')">
                        <h4>üìÑ Dockerfile</h4>
                        <p>A text file containing instructions to build a Docker image</p>
                    </div>
                    <div class="component-card" onclick="showComponentDetails('image')">
                        <h4>üíø Docker Image</h4>
                        <p>A read-only template containing code, libraries, and dependencies</p>
                    </div>
                    <div class="component-card" onclick="showComponentDetails('container')">
                        <h4>üì¶ Docker Container</h4>
                        <p>A runnable instance of an image - your application in action</p>
                    </div>
                    <div class="component-card" onclick="showComponentDetails('registry')">
                        <h4>üèõÔ∏è Docker Registry</h4>
                        <p>A storage and distribution system for Docker images</p>
                    </div>
                    <div class="component-card" onclick="showComponentDetails('volume')">
                        <h4>üíæ Docker Volume</h4>
                        <p>Persistent data storage that exists outside containers</p>
                    </div>
                    <div class="component-card" onclick="showComponentDetails('network')">
                        <h4>üåê Docker Network</h4>
                        <p>Enables communication between containers</p>
                    </div>
                </div>

                <div id="componentDetails" class="info-box" style="display: none;">
                    <h3 id="detailTitle"></h3>
                    <div id="detailContent"></div>
                </div>
            </div>

            <!-- Workflow Tab -->
            <div id="workflow" class="tab-content">
                <h2>Docker Workflow: From Code to Container</h2>

                <div class="docker-flow">
                    <div class="flow-section">
                        <h4>Step 1: Write Your Application</h4>
                        <p>Create your application code (e.g., a Node.js app, Python script, Java application, etc.)</p>
                        <div class="code-block">
// app.js
const express = require('express');
const app = express();

app.get('/', (req, res) => {
    res.send('Hello from Docker!');
});

app.listen(3000, () => {
    console.log('Server running on port 3000');
});
                        </div>
                    </div>

                    <div class="flow-section">
                        <h4>Step 2: Create a Dockerfile</h4>
                        <p>Write instructions for building your Docker image:</p>
                        <div class="code-block">
# Use Node.js base image
FROM node:14-alpine

# Set working directory
WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy application code
COPY . .

# Expose port
EXPOSE 3000

# Start the application
CMD ["node", "app.js"]
                        </div>
                    </div>

                    <div class="flow-section">
                        <h4>Step 3: Build the Image</h4>
                        <p>Use Docker CLI to build an image from your Dockerfile:</p>
                        <div class="code-block">
docker build -t my-app:1.0 .
                        </div>
                        <p style="margin-top: 10px;">This command creates an image tagged as "my-app:1.0" containing your application and all its dependencies.</p>
                    </div>

                    <div class="flow-section">
                        <h4>Step 4: Run the Container</h4>
                        <p>Create and start a container from your image:</p>
                        <div class="code-block">
docker run -d -p 3000:3000 --name my-running-app my-app:1.0
                        </div>
                        <p style="margin-top: 10px;">Your application is now running in an isolated container!</p>
                    </div>

                    <div class="flow-section">
                        <h4>Step 5: Push to Registry (Optional)</h4>
                        <p>Share your image with others by pushing it to Docker Hub or a private registry:</p>
                        <div class="code-block">
docker tag my-app:1.0 username/my-app:1.0
docker push username/my-app:1.0
                        </div>
                    </div>

                    <div class="flow-section">
                        <h4>Step 6: Deploy Anywhere</h4>
                        <p>Others can now pull and run your image on any system with Docker:</p>
                        <div class="code-block">
docker pull username/my-app:1.0
docker run -d -p 3000:3000 username/my-app:1.0
                        </div>
                    </div>
                </div>
            </div>

            <!-- Container Simulator Tab -->
            <div id="simulator" class="tab-content">
                <h2>üî¨ Visual Container Simulator</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Experience the Docker container lifecycle hands-on! Build images, create containers, and manage their states in real-time.
                </p>

                <div class="simulator-container">
                    <div class="simulator-controls">
                        <button class="control-btn" onclick="buildImage()">üî® Build Image</button>
                        <button class="control-btn" onclick="pullImage()">‚¨áÔ∏è Pull from Registry</button>
                        <button class="control-btn" onclick="createContainer()">‚ûï Create Container</button>
                        <button class="control-btn" onclick="resetSimulator()">üîÑ Reset Simulator</button>
                    </div>

                    <div class="simulator-workspace">
                        <div class="images-section">
                            <h4>üìÄ Docker Images</h4>
                            <div id="imagesList">
                                <p style="color: var(--olive-gray); font-style: italic;">No images yet. Build or pull an image to get started!</p>
                            </div>
                        </div>

                        <div class="containers-section">
                            <h4>üì¶ Docker Containers</h4>
                            <div id="containersList">
                                <p style="color: var(--olive-gray); font-style: italic;">No containers yet. Create a container from an image!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>Container Lifecycle States</h3>
                    <p><strong style="color: var(--warning);">‚ö™ Created:</strong> Container exists but hasn't been started yet</p>
                    <p><strong style="color: var(--success);">üü¢ Running:</strong> Container is actively executing</p>
                    <p><strong style="color: var(--error);">üî¥ Stopped:</strong> Container has been stopped but still exists</p>
                    <p style="margin-top: 10px;"><strong>Actions:</strong> Use the buttons next to each container to start, stop, or remove them!</p>
                </div>
            </div>

            <!-- Coding Challenges Tab -->
            <div id="challenges" class="tab-content">
                <h2>üíª Hands-On Dockerfile Challenges</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Practice writing Dockerfiles for real-world scenarios. Each challenge tests different aspects of containerization.
                </p>

                <div class="editor-container">
                    <div class="challenge-header">
                        <h3>Select a Challenge</h3>
                        <div class="challenge-selector">
                            <button class="challenge-btn active" onclick="loadChallenge(0)">1. Node.js App (Beginner)</button>
                            <button class="challenge-btn" onclick="loadChallenge(1)">2. Python Flask (Intermediate)</button>
                            <button class="challenge-btn" onclick="loadChallenge(2)">3. Multi-stage Build (Advanced)</button>
                            <button class="challenge-btn" onclick="loadChallenge(3)">4. Optimize Image Size (Expert)</button>
                        </div>
                        <div id="challengeDescription" style="margin-top: 20px;"></div>
                    </div>

                    <div class="editor-grid">
                        <div class="editor-panel">
                            <h4>Your Dockerfile</h4>
                            <textarea class="code-editor" id="dockerfileEditor" placeholder="Write your Dockerfile here..."></textarea>
                            <div class="editor-actions">
                                <button class="editor-btn" onclick="validateDockerfile()">‚úÖ Validate</button>
                                <button class="editor-btn" onclick="showHint()">üí° Show Hint</button>
                                <button class="editor-btn" onclick="showSolution()">üìñ Show Solution</button>
                            </div>
                            <div class="hint-box" id="hintBox"></div>
                        </div>

                        <div class="editor-panel">
                            <h4>Requirements & Feedback</h4>
                            <div id="requirementsList"></div>
                            <div class="feedback-panel" id="feedbackPanel">
                                Click "Validate" to check your Dockerfile!
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Docker Compose Tab -->
            <div id="compose" class="tab-content">
                <h2>üéº Docker Compose: Multi-Container Applications</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Docker Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application's services, networks, and volumes.
                </p>

                <div class="info-box">
                    <h3>Why Docker Compose?</h3>
                    <p>Real-world applications rarely run in isolation. A typical web application might need:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>A web server (nginx, Apache)</li>
                        <li>An application server (Node.js, Python, Java)</li>
                        <li>A database (PostgreSQL, MySQL, MongoDB)</li>
                        <li>A cache (Redis, Memcached)</li>
                        <li>A message queue (RabbitMQ, Kafka)</li>
                    </ul>
                    <p style="margin-top: 10px;">Docker Compose lets you define all these services in one file and start them all with a single command!</p>
                </div>

                <h3>Example: Full-Stack Application</h3>
                <div class="compose-example">
                    <h4>Architecture Overview</h4>
                    <div class="compose-grid">
                        <div class="service-card">
                            <h4>üåê Frontend (React)</h4>
                            <p><strong>Port:</strong> 3000</p>
                            <p><strong>Depends on:</strong> Backend API</p>
                            <p>Serves the user interface</p>
                        </div>
                        <div class="service-card">
                            <h4>‚öôÔ∏è Backend (Node.js)</h4>
                            <p><strong>Port:</strong> 5000</p>
                            <p><strong>Depends on:</strong> Database, Redis</p>
                            <p>Handles business logic and API</p>
                        </div>
                        <div class="service-card">
                            <h4>üíæ Database (PostgreSQL)</h4>
                            <p><strong>Port:</strong> 5432</p>
                            <p><strong>Volume:</strong> Persistent storage</p>
                            <p>Stores application data</p>
                        </div>
                        <div class="service-card">
                            <h4>‚ö° Cache (Redis)</h4>
                            <p><strong>Port:</strong> 6379</p>
                            <p><strong>Purpose:</strong> Session storage</p>
                            <p>Speeds up data access</p>
                        </div>
                    </div>

                    <h4 style="margin-top: 30px;">docker-compose.yml</h4>
                    <textarea class="yaml-editor" readonly>version: '3.8'

services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    depends_on:
      - backend
    environment:
      - REACT_APP_API_URL=http://backend:5000
    networks:
      - app-network

  backend:
    build: ./backend
    ports:
      - "5000:5000"
    depends_on:
      - database
      - redis
    environment:
      - DATABASE_URL=postgresql://user:password@database:5432/myapp
      - REDIS_URL=redis://redis:6379
    networks:
      - app-network

  database:
    image: postgres:13
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=myapp
    volumes:
      - postgres-data:/var/lib/postgresql/data
    networks:
      - app-network

  redis:
    image: redis:alpine
    ports:
      - "6379:6379"
    networks:
      - app-network

volumes:
  postgres-data:

networks:
  app-network:
    driver: bridge</textarea>
                </div>

                <h3>Essential Docker Compose Commands</h3>
                <div class="docker-flow">
                    <div class="flow-section">
                        <h4>Start All Services</h4>
                        <div class="code-block">docker-compose up -d</div>
                        <p>Builds images if needed, creates containers, and starts all services in detached mode.</p>
                    </div>

                    <div class="flow-section">
                        <h4>Stop All Services</h4>
                        <div class="code-block">docker-compose down</div>
                        <p>Stops and removes all containers, networks created by up. Volumes persist by default.</p>
                    </div>

                    <div class="flow-section">
                        <h4>View Running Services</h4>
                        <div class="code-block">docker-compose ps</div>
                        <p>Lists all containers created by the compose file with their status.</p>
                    </div>

                    <div class="flow-section">
                        <h4>View Service Logs</h4>
                        <div class="code-block">docker-compose logs -f backend</div>
                        <p>Shows logs from a specific service. The -f flag follows log output in real-time.</p>
                    </div>

                    <div class="flow-section">
                        <h4>Scale Services</h4>
                        <div class="code-block">docker-compose up -d --scale backend=3</div>
                        <p>Run multiple instances of a service for load balancing.</p>
                    </div>
                </div>

                <div class="info-box" style="margin-top: 30px;">
                    <h3>Key Compose Concepts</h3>
                    <p><strong>Services:</strong> Define each container in your application</p>
                    <p><strong>Networks:</strong> Containers can communicate using service names as hostnames</p>
                    <p><strong>Volumes:</strong> Persist data and share files between containers</p>
                    <p><strong>Dependencies:</strong> Control startup order with depends_on</p>
                    <p><strong>Environment Variables:</strong> Configure containers dynamically</p>
                </div>
            </div>

            <!-- Interactive Demo Tab -->
            <div id="demo" class="tab-content">
                <h2>Interactive Docker Demo</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Click the buttons below to simulate Docker commands and see how they interact with the Docker ecosystem.
                </p>

                <div class="interactive-demo">
                    <h3>Docker Command Simulator</h3>
                    <div class="command-buttons">
                        <button class="command-btn" onclick="simulateCommand('build')">docker build</button>
                        <button class="command-btn" onclick="simulateCommand('images')">docker images</button>
                        <button class="command-btn" onclick="simulateCommand('run')">docker run</button>
                        <button class="command-btn" onclick="simulateCommand('ps')">docker ps</button>
                        <button class="command-btn" onclick="simulateCommand('pull')">docker pull</button>
                        <button class="command-btn" onclick="simulateCommand('push')">docker push</button>
                        <button class="command-btn" onclick="simulateCommand('stop')">docker stop</button>
                        <button class="command-btn" onclick="simulateCommand('rm')">docker rm</button>
                    </div>
                    <div class="demo-output" id="demoOutput">
$ Click a command button to see Docker in action...
                    </div>
                </div>

                <div class="info-box" style="margin-top: 30px;">
                    <h3>Understanding the Output</h3>
                    <p><strong>docker build:</strong> Creates an image from a Dockerfile</p>
                    <p><strong>docker images:</strong> Lists all images on your system</p>
                    <p><strong>docker run:</strong> Creates and starts a new container</p>
                    <p><strong>docker ps:</strong> Shows running containers</p>
                    <p><strong>docker pull:</strong> Downloads an image from a registry</p>
                    <p><strong>docker push:</strong> Uploads an image to a registry</p>
                    <p><strong>docker stop:</strong> Stops a running container</p>
                    <p><strong>docker rm:</strong> Removes a stopped container</p>
                </div>
            </div>

            <!-- Quiz Tab -->
            <div id="quiz" class="tab-content">
                <h2>Self-Assessment Quiz</h2>
                <p style="font-size: 1.1em; margin-bottom: 30px;">
                    Test your Docker knowledge with this comprehensive quiz. Select your answers and click "Submit Quiz" to see your score.
                </p>

                <div class="quiz-section" id="quizSection">
                    <!-- Questions will be inserted here by JavaScript -->
                </div>

                <button class="submit-btn" onclick="submitQuiz()">Submit Quiz</button>

                <div class="score-display" id="scoreDisplay">
                    <h3>Your Score: <span id="scoreText"></span></h3>
                    <p id="scoreMessage"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Progress Tracking System
        const progressData = {
            sectionsCompleted: new Set(),
            quizScore: 0,
            challengesCompleted: new Set(),
            startTime: Date.now(),
            achievements: {
                'first-steps': false,
                'simulator': false,
                'coder': false,
                'composer': false,
                'quiz': false
            }
        };

        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('dockerLearningProgress');
            if (saved) {
                const data = JSON.parse(saved);
                progressData.sectionsCompleted = new Set(data.sectionsCompleted);
                progressData.quizScore = data.quizScore || 0;
                progressData.challengesCompleted = new Set(data.challengesCompleted);
                progressData.achievements = data.achievements || progressData.achievements;
            }
            updateProgressDisplay();
        }

        // Save progress to localStorage
        function saveProgress() {
            const data = {
                sectionsCompleted: Array.from(progressData.sectionsCompleted),
                quizScore: progressData.quizScore,
                challengesCompleted: Array.from(progressData.challengesCompleted),
                achievements: progressData.achievements
            };
            localStorage.setItem('dockerLearningProgress', JSON.stringify(data));
            updateProgressDisplay();
        }

        // Update progress display
        function updateProgressDisplay() {
            document.getElementById('sectionsCompleted').textContent = progressData.sectionsCompleted.size;
            document.getElementById('quizScore').textContent = progressData.quizScore + '%';
            document.getElementById('challengesCompleted').textContent = progressData.challengesCompleted.size;
            
            const timeSpent = Math.floor((Date.now() - progressData.startTime) / 60000);
            document.getElementById('timeSpent').textContent = timeSpent + 'm';

            // Update achievement badges
            Object.keys(progressData.achievements).forEach(badge => {
                const el = document.getElementById('badge-' + badge);
                if (el) {
                    if (progressData.achievements[badge]) {
                        el.classList.remove('locked');
                        el.classList.add('earned');
                    }
                }
            });

            // Update tab completion markers
            progressData.sectionsCompleted.forEach(section => {
                const tab = document.querySelector(`[onclick="switchTab('${section}')"]`);
                if (tab) {
                    tab.classList.add('completed');
                }
            });
        }

        // Mark section as completed
        function markSectionComplete(sectionName) {
            progressData.sectionsCompleted.add(sectionName);
            
            // Award achievements
            if (progressData.sectionsCompleted.size >= 1) {
                progressData.achievements['first-steps'] = true;
            }
            
            if (sectionName === 'compose') {
                progressData.achievements['composer'] = true;
            }
            
            saveProgress();
        }

        // Tab switching functionality
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');

            // Mark section as viewed (but not necessarily completed)
            setTimeout(() => markSectionComplete(tabName), 3000);
        }

        // Component details
        const componentDetails = {
            dockerfile: {
                title: 'Dockerfile',
                content: `
                    <p>A Dockerfile is a text document that contains all the commands needed to build a Docker image. Think of it as a recipe for your container.</p>
                    <h4>Common Dockerfile Instructions:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>FROM:</strong> Specifies the base image to build upon</li>
                        <li><strong>WORKDIR:</strong> Sets the working directory inside the container</li>
                        <li><strong>COPY/ADD:</strong> Copies files from your host to the container</li>
                        <li><strong>RUN:</strong> Executes commands during image build</li>
                        <li><strong>CMD:</strong> Specifies the default command to run when container starts</li>
                        <li><strong>EXPOSE:</strong> Documents which ports the container listens on</li>
                        <li><strong>ENV:</strong> Sets environment variables</li>
                    </ul>
                    <p style="margin-top: 15px;">Best Practice: Keep your Dockerfile simple, use official base images, and minimize the number of layers.</p>
                `
            },
            image: {
                title: 'Docker Image',
                content: `
                    <p>A Docker image is a read-only template that contains a set of instructions for creating a container. It includes everything needed to run an application: code, runtime, libraries, environment variables, and configuration files.</p>
                    <h4>Key Characteristics:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Layered Architecture:</strong> Images are built in layers, with each instruction in the Dockerfile creating a new layer</li>
                        <li><strong>Immutable:</strong> Once created, images don't change (but you can create new versions)</li>
                        <li><strong>Reusable:</strong> One image can be used to create multiple containers</li>
                        <li><strong>Shareable:</strong> Images can be stored in registries and shared with others</li>
                    </ul>
                    <p style="margin-top: 15px;">Images are like a snapshot of your application at a specific point in time, including all dependencies.</p>
                `
            },
            container: {
                title: 'Docker Container',
                content: `
                    <p>A container is a runnable instance of an image. It's an isolated process that includes everything needed to run your application. Multiple containers can run from the same image.</p>
                    <h4>Container Lifecycle:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Created:</strong> Container is created from an image but not started</li>
                        <li><strong>Running:</strong> Container is actively executing</li>
                        <li><strong>Paused:</strong> Container processes are suspended</li>
                        <li><strong>Stopped:</strong> Container has exited but still exists</li>
                        <li><strong>Removed:</strong> Container is deleted from the system</li>
                    </ul>
                    <h4>Key Features:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Isolated from other containers and the host system</li>
                        <li>Can communicate with other containers via networks</li>
                        <li>Can persist data using volumes</li>
                        <li>Lightweight and start almost instantly</li>
                    </ul>
                `
            },
            registry: {
                title: 'Docker Registry',
                content: `
                    <p>A Docker registry is a storage and distribution system for Docker images. It's like GitHub for Docker images.</p>
                    <h4>Types of Registries:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Docker Hub:</strong> The default public registry with millions of images</li>
                        <li><strong>Private Registries:</strong> Self-hosted or cloud-based registries for organizations</li>
                        <li><strong>Cloud Registries:</strong> AWS ECR, Google Container Registry, Azure Container Registry</li>
                    </ul>
                    <h4>How It Works:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Push:</strong> Upload your built images to the registry</li>
                        <li><strong>Pull:</strong> Download images from the registry to run containers</li>
                        <li><strong>Tag:</strong> Version your images with meaningful tags (e.g., v1.0, latest)</li>
                    </ul>
                    <p style="margin-top: 15px;">Registries enable team collaboration and deployment across different environments.</p>
                `
            },
            volume: {
                title: 'Docker Volume',
                content: `
                    <p>Docker volumes are the preferred mechanism for persisting data generated by and used by Docker containers. By default, data in a container is lost when the container is removed.</p>
                    <h4>Why Use Volumes?</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Data Persistence:</strong> Data survives even if the container is deleted</li>
                        <li><strong>Sharing Data:</strong> Multiple containers can mount the same volume</li>
                        <li><strong>Backup and Migration:</strong> Easy to backup and move data between hosts</li>
                        <li><strong>Performance:</strong> Better I/O performance than bind mounts on Mac and Windows</li>
                    </ul>
                    <h4>Types of Mounts:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Volumes:</strong> Managed by Docker, stored in Docker's storage directory</li>
                        <li><strong>Bind Mounts:</strong> Mount a file or directory from the host into the container</li>
                        <li><strong>tmpfs Mounts:</strong> Stored in host memory only (Linux only)</li>
                    </ul>
                `
            },
            network: {
                title: 'Docker Network',
                content: `
                    <p>Docker networking allows containers to communicate with each other and with non-Docker workloads. By default, Docker creates isolated networks for containers.</p>
                    <h4>Network Drivers:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>bridge:</strong> Default network driver. Containers on the same bridge can communicate</li>
                        <li><strong>host:</strong> Container uses the host's networking directly (no isolation)</li>
                        <li><strong>none:</strong> Container has no network access</li>
                        <li><strong>overlay:</strong> Enables communication between containers across multiple Docker hosts</li>
                    </ul>
                    <h4>Use Cases:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Connect a web server container to a database container</li>
                        <li>Create isolated networks for different applications</li>
                        <li>Enable service discovery between containers</li>
                        <li>Connect containers across multiple hosts in a swarm</li>
                    </ul>
                    <p style="margin-top: 15px;">Example: docker network create my-network</p>
                `
            }
        };

        function showComponentDetails(component) {
            const detailsDiv = document.getElementById('componentDetails');
            const titleEl = document.getElementById('detailTitle');
            const contentEl = document.getElementById('detailContent');

            const details = componentDetails[component];
            titleEl.textContent = details.title;
            contentEl.innerHTML = details.content;
            detailsDiv.style.display = 'block';

            const cards = document.querySelectorAll('#componentCards .component-card');
            cards.forEach(card => card.classList.remove('active'));
            event.target.closest('.component-card').classList.add('active');
        }

        // Visual Container Simulator
        let simulatorState = {
            images: [],
            containers: [],
            nextImageId: 1,
            nextContainerId: 1
        };

        function buildImage() {
            const imageName = `my-app:v${simulatorState.nextImageId}`;
            const image = {
                id: simulatorState.nextImageId++,
                name: imageName,
                size: Math.floor(Math.random() * 500) + 50 + 'MB',
                created: 'Just now'
            };
            simulatorState.images.push(image);
            renderSimulator();
            progressData.achievements['simulator'] = true;
            saveProgress();
        }

        function pullImage() {
            const prebuiltImages = ['nginx:latest', 'node:14-alpine', 'postgres:13', 'redis:alpine'];
            const imageName = prebuiltImages[Math.floor(Math.random() * prebuiltImages.length)];
            
            if (!simulatorState.images.find(img => img.name === imageName)) {
                const image = {
                    id: simulatorState.nextImageId++,
                    name: imageName,
                    size: Math.floor(Math.random() * 300) + 20 + 'MB',
                    created: 'Just now'
                };
                simulatorState.images.push(image);
                renderSimulator();
            }
        }

        function createContainer() {
            if (simulatorState.images.length === 0) {
                alert('Please build or pull an image first!');
                return;
            }
            
            const image = simulatorState.images[simulatorState.images.length - 1];
            const container = {
                id: Math.random().toString(36).substring(2, 10),
                containerId: simulatorState.nextContainerId++,
                name: `container-${simulatorState.nextContainerId}`,
                image: image.name,
                status: 'created',
                ports: '3000:3000',
                created: 'Just now'
            };
            simulatorState.containers.push(container);
            renderSimulator();
        }

        function startContainer(containerId) {
            const container = simulatorState.containers.find(c => c.id === containerId);
            if (container) {
                container.status = 'running';
                renderSimulator();
            }
        }

        function stopContainer(containerId) {
            const container = simulatorState.containers.find(c => c.id === containerId);
            if (container) {
                container.status = 'stopped';
                renderSimulator();
            }
        }

        function removeContainer(containerId) {
            simulatorState.containers = simulatorState.containers.filter(c => c.id !== containerId);
            renderSimulator();
        }

        function removeImage(imageId) {
            const hasContainers = simulatorState.containers.some(c => 
                simulatorState.images.find(img => img.id === imageId && img.name === c.image)
            );
            
            if (hasContainers) {
                alert('Cannot remove image: containers are using this image!');
                return;
            }
            
            simulatorState.images = simulatorState.images.filter(img => img.id !== imageId);
            renderSimulator();
        }

        function resetSimulator() {
            simulatorState = {
                images: [],
                containers: [],
                nextImageId: 1,
                nextContainerId: 1
            };
            renderSimulator();
        }

        function renderSimulator() {
            // Render images
            const imagesList = document.getElementById('imagesList');
            if (simulatorState.images.length === 0) {
                imagesList.innerHTML = '<p style="color: var(--olive-gray); font-style: italic;">No images yet. Build or pull an image to get started!</p>';
            } else {
                imagesList.innerHTML = simulatorState.images.map(img => `
                    <div class="visual-item">
                        <div class="item-info">
                            <div class="item-name">üìÄ ${img.name}</div>
                            <div class="item-details">Size: ${img.size} ‚Ä¢ Created: ${img.created}</div>
                        </div>
                        <div class="item-actions">
                            <button class="action-btn danger" onclick="removeImage(${img.id})">üóëÔ∏è Remove</button>
                        </div>
                    </div>
                `).join('');
            }

            // Render containers
            const containersList = document.getElementById('containersList');
            if (simulatorState.containers.length === 0) {
                containersList.innerHTML = '<p style="color: var(--olive-gray); font-style: italic;">No containers yet. Create a container from an image!</p>';
            } else {
                containersList.innerHTML = simulatorState.containers.map(container => {
                    const statusClass = container.status === 'running' ? 'running' : 
                                      container.status === 'stopped' ? 'stopped' : 'created';
                    const statusEmoji = container.status === 'running' ? 'üü¢' :
                                      container.status === 'stopped' ? 'üî¥' : '‚ö™';
                    
                    let actions = '';
                    if (container.status === 'created') {
                        actions = `<button class="action-btn success" onclick="startContainer('${container.id}')">‚ñ∂Ô∏è Start</button>`;
                    } else if (container.status === 'running') {
                        actions = `<button class="action-btn" onclick="stopContainer('${container.id}')">‚è∏Ô∏è Stop</button>`;
                    } else {
                        actions = `
                            <button class="action-btn success" onclick="startContainer('${container.id}')">‚ñ∂Ô∏è Start</button>
                            <button class="action-btn danger" onclick="removeContainer('${container.id}')">üóëÔ∏è Remove</button>
                        `;
                    }
                    
                    return `
                        <div class="visual-item ${statusClass}">
                            <div class="item-info">
                                <div class="item-name">${statusEmoji} ${container.name}</div>
                                <div class="item-details">Image: ${container.image} ‚Ä¢ Status: ${container.status}</div>
                            </div>
                            <div class="item-actions">
                                ${actions}
                            </div>
                        </div>
                    `;
                }).join('');
            }
        }

        // Dockerfile Challenges
        const challenges = [
            {
                title: "Challenge 1: Node.js Application (Beginner)",
                description: "Create a Dockerfile for a simple Node.js application. Your Dockerfile should use the node:14-alpine base image, set the working directory to /app, copy package files, install dependencies, copy the application code, expose port 3000, and run the application with 'node app.js'.",
                requirements: [
                    "Use node:14-alpine as base image",
                    "Set WORKDIR to /app",
                    "Copy package*.json files",
                    "Run npm install",
                    "Copy application code",
                    "Expose port 3000",
                    "Set CMD to run node app.js"
                ],
                solution: `FROM node:14-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 3000

CMD ["node", "app.js"]`,
                hint: "Start with FROM, then WORKDIR, then COPY package files before running npm install. This takes advantage of Docker's layer caching!"
            },
            {
                title: "Challenge 2: Python Flask Application (Intermediate)",
                description: "Create a Dockerfile for a Python Flask application. Use python:3.9-slim as the base, create a non-root user for security, install requirements, and run the Flask app with gunicorn.",
                requirements: [
                    "Use python:3.9-slim as base image",
                    "Set WORKDIR to /app",
                    "Copy requirements.txt and install packages",
                    "Create a non-root user (appuser)",
                    "Copy application code",
                    "Switch to non-root user",
                    "Expose port 5000",
                    "Run with gunicorn"
                ],
                solution: `FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .

RUN pip install --no-cache-dir -r requirements.txt

RUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app

COPY . .

USER appuser

EXPOSE 5000

CMD ["gunicorn", "--bind", "0.0.0.0:5000", "app:app"]`,
                hint: "Remember to create the user before copying files, and switch to the user after all files are copied. Use RUN useradd to create a user."
            },
            {
                title: "Challenge 3: Multi-Stage Build (Advanced)",
                description: "Create a multi-stage Dockerfile for a Go application. Build the application in the first stage, then copy only the binary to a minimal alpine image in the second stage.",
                requirements: [
                    "First stage: use golang:1.19 to build",
                    "Set WORKDIR and copy source code",
                    "Build the application (CGO_ENABLED=0)",
                    "Second stage: use alpine:latest",
                    "Copy only the binary from builder",
                    "Set the binary as executable",
                    "Expose port 8080",
                    "Run the binary"
                ],
                solution: `# Build stage
FROM golang:1.19 AS builder

WORKDIR /app

COPY go.mod go.sum ./
RUN go mod download

COPY . .

RUN CGO_ENABLED=0 GOOS=linux go build -o main .

# Final stage
FROM alpine:latest

RUN apk --no-cache add ca-certificates

WORKDIR /root/

COPY --from=builder /app/main .

EXPOSE 8080

CMD ["./main"]`,
                hint: "Use 'AS builder' to name your first stage, then use 'COPY --from=builder' to copy the binary to the final stage."
            },
            {
                title: "Challenge 4: Optimize Image Size (Expert)",
                description: "Optimize a Node.js Dockerfile for production. Use multi-stage build, install only production dependencies, and minimize layers.",
                requirements: [
                    "Use multi-stage build pattern",
                    "Install dependencies in build stage",
                    "Use node:14-alpine for final image",
                    "Install only production dependencies (--production)",
                    "Remove unnecessary files",
                    "Run as non-root user (node)",
                    "Use minimal base image",
                    "Combine RUN commands where possible"
                ],
                solution: `# Build stage
FROM node:14-alpine AS builder

WORKDIR /app

COPY package*.json ./

RUN npm ci --only=production && npm cache clean --force

# Final stage
FROM node:14-alpine

RUN apk add --no-cache dumb-init

WORKDIR /app

COPY --from=builder /app/node_modules ./node_modules
COPY . .

USER node

EXPOSE 3000

CMD ["dumb-init", "node", "app.js"]`,
                hint: "Use 'npm ci --only=production' for production builds, and consider using 'dumb-init' to handle signals properly. Copy node_modules from the builder stage."
            }
        ];

        let currentChallenge = 0;

        function loadChallenge(index) {
            currentChallenge = index;
            const challenge = challenges[index];
            
            // Update UI
            document.querySelectorAll('.challenge-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });

            document.getElementById('challengeDescription').innerHTML = `
                <h4>${challenge.title}</h4>
                <p>${challenge.description}</p>
            `;

            document.getElementById('requirementsList').innerHTML = `
                <h4>Requirements:</h4>
                <ul style="margin-left: 20px;">
                    ${challenge.requirements.map(req => `<li>${req}</li>`).join('')}
                </ul>
            `;

            document.getElementById('dockerfileEditor').value = '';
            document.getElementById('feedbackPanel').className = 'feedback-panel';
            document.getElementById('feedbackPanel').textContent = 'Click "Validate" to check your Dockerfile!';
            document.getElementById('hintBox').classList.remove('visible');
        }

        function validateDockerfile() {
            const editor = document.getElementById('dockerfileEditor');
            const dockerfile = editor.value.trim();
            const challenge = challenges[currentChallenge];
            const feedback = document.getElementById('feedbackPanel');

            if (!dockerfile) {
                feedback.className = 'feedback-panel error';
                feedback.textContent = '‚ùå Please write a Dockerfile first!';
                return;
            }

            // Simple validation checks
            const checks = {
                hasFrom: /FROM\s+[\w:./-]+/i.test(dockerfile),
                hasWorkdir: /WORKDIR\s+/i.test(dockerfile),
                hasCopy: /COPY\s+/i.test(dockerfile),
                hasCmd: /CMD\s+/i.test(dockerfile),
                hasExpose: /EXPOSE\s+\d+/i.test(dockerfile)
            };

            const passedChecks = Object.values(checks).filter(v => v).length;
            const totalChecks = Object.values(checks).length;

            if (passedChecks === totalChecks) {
                feedback.className = 'feedback-panel success';
                feedback.innerHTML = `
                    <h4>‚úÖ Great job! Your Dockerfile looks good!</h4>
                    <p>You've included all essential instructions. Your Dockerfile should work correctly.</p>
                    <p style="margin-top: 10px;"><strong>Next:</strong> Try the next challenge to continue learning!</p>
                `;
                
                // Mark challenge as completed
                progressData.challengesCompleted.add(currentChallenge);
                progressData.achievements['coder'] = true;
                saveProgress();
            } else {
                feedback.className = 'feedback-panel warning';
                feedback.innerHTML = `
                    <h4>‚ö†Ô∏è Almost there! (${passedChecks}/${totalChecks} checks passed)</h4>
                    <p>Missing instructions:</p>
                    <ul style="margin-left: 20px;">
                        ${!checks.hasFrom ? '<li>FROM instruction (base image)</li>' : ''}
                        ${!checks.hasWorkdir ? '<li>WORKDIR instruction</li>' : ''}
                        ${!checks.hasCopy ? '<li>COPY instruction</li>' : ''}
                        ${!checks.hasExpose ? '<li>EXPOSE instruction</li>' : ''}
                        ${!checks.hasCmd ? '<li>CMD instruction</li>' : ''}
                    </ul>
                `;
            }
        }

        function showHint() {
            const hintBox = document.getElementById('hintBox');
            const challenge = challenges[currentChallenge];
            hintBox.textContent = 'üí° Hint: ' + challenge.hint;
            hintBox.classList.add('visible');
        }

        function showSolution() {
            const challenge = challenges[currentChallenge];
            const editor = document.getElementById('dockerfileEditor');
            if (confirm('Are you sure you want to see the solution? Try solving it yourself first!')) {
                editor.value = challenge.solution;
            }
        }

        // Interactive demo simulation
        let demoState = {
            images: [],
            containers: [],
            registryImages: ['nginx:latest', 'node:14-alpine', 'postgres:13', 'redis:alpine']
        };

        function simulateCommand(command) {
            const output = document.getElementById('demoOutput');
            let result = '';

            switch(command) {
                case 'build':
                    const imageName = 'my-app:' + Math.floor(Math.random() * 10);
                    demoState.images.push(imageName);
                    result = `$ docker build -t ${imageName} .
Sending build context to Docker daemon...
Step 1/6 : FROM node:14-alpine
 ---> Pulling from library/node
Step 2/6 : WORKDIR /app
 ---> Running in abc123def456
Step 3/6 : COPY package*.json ./
 ---> Running in def456ghi789
Step 4/6 : RUN npm install
 ---> Running in ghi789jkl012
Step 5/6 : COPY . .
 ---> Running in jkl012mno345
Step 6/6 : CMD ["node", "app.js"]
 ---> Running in mno345pqr678
Successfully built 8a9b7c6d5e4f
Successfully tagged ${imageName}

‚úÖ Image built successfully!`;
                    break;

                case 'images':
                    result = `$ docker images
REPOSITORY          TAG          IMAGE ID       CREATED          SIZE
`;
                    if (demoState.images.length === 0) {
                        result += '\n(No images found. Try building an image first!)';
                    } else {
                        demoState.images.forEach(img => {
                            const [name, tag] = img.split(':');
                            result += `${name.padEnd(20)}${tag.padEnd(13)}${Math.random().toString(36).substring(7).padEnd(15)}${Math.floor(Math.random() * 60)} minutes ago   ${Math.floor(Math.random() * 500)}MB\n`;
                        });
                    }
                    break;

                case 'run':
                    if (demoState.images.length === 0) {
                        result = `$ docker run my-app:latest
Error: No such image: my-app:latest

‚ùå Please build an image first using 'docker build'`;
                    } else {
                        const image = demoState.images[demoState.images.length - 1];
                        const containerId = Math.random().toString(36).substring(2, 14);
                        demoState.containers.push({ id: containerId, image: image, status: 'running' });
                        result = `$ docker run -d -p 3000:3000 --name my-running-app ${image}
${containerId}

‚úÖ Container started successfully!
Your app is now running on http://localhost:3000`;
                    }
                    break;

                case 'ps':
                    result = `$ docker ps
CONTAINER ID   IMAGE          COMMAND         CREATED          STATUS          PORTS                    NAMES
`;
                    if (demoState.containers.filter(c => c.status === 'running').length === 0) {
                        result += '\n(No running containers. Try running a container first!)';
                    } else {
                        demoState.containers.filter(c => c.status === 'running').forEach(container => {
                            result += `${container.id}   ${container.image.padEnd(15)}"node app.js"   ${Math.floor(Math.random() * 60)} seconds ago   Up ${Math.floor(Math.random() * 60)}s   0.0.0.0:3000->3000/tcp   my-running-app\n`;
                        });
                    }
                    break;

                case 'pull':
                    const pullImage = demoState.registryImages[Math.floor(Math.random() * demoState.registryImages.length)];
                    if (!demoState.images.includes(pullImage)) {
                        demoState.images.push(pullImage);
                    }
                    result = `$ docker pull ${pullImage}
latest: Pulling from library/${pullImage.split(':')[0]}
a1b2c3d4e5f6: Pull complete
b2c3d4e5f6a7: Pull complete
c3d4e5f6a7b8: Pull complete
d4e5f6a7b8c9: Pull complete
Digest: sha256:abc123def456...
Status: Downloaded newer image for ${pullImage}

‚úÖ Image pulled successfully from Docker Hub!`;
                    break;

                case 'push':
                    if (demoState.images.length === 0) {
                        result = `$ docker push username/my-app:latest
Error: No such image: username/my-app:latest

‚ùå Please build and tag an image first!`;
                    } else {
                        const pushImage = demoState.images[demoState.images.length - 1];
                        result = `$ docker push username/${pushImage}
The push refers to repository [docker.io/username/${pushImage}]
a1b2c3d4e5f6: Pushed
b2c3d4e5f6a7: Pushed
c3d4e5f6a7b8: Pushed
d4e5f6a7b8c9: Pushed
latest: digest: sha256:abc123... size: 2841

‚úÖ Image pushed successfully to Docker Hub!
Others can now pull it with: docker pull username/${pushImage}`;
                    }
                    break;

                case 'stop':
                    if (demoState.containers.filter(c => c.status === 'running').length === 0) {
                        result = `$ docker stop my-running-app
Error: No such container: my-running-app

‚ùå No running containers to stop!`;
                    } else {
                        const container = demoState.containers.find(c => c.status === 'running');
                        container.status = 'stopped';
                        result = `$ docker stop ${container.id}
${container.id}

‚úÖ Container stopped gracefully!`;
                    }
                    break;

                case 'rm':
                    const stoppedContainers = demoState.containers.filter(c => c.status === 'stopped');
                    if (stoppedContainers.length === 0) {
                        result = `$ docker rm my-running-app
Error: Cannot remove running container. Stop it first or use -f

‚ùå No stopped containers to remove!`;
                    } else {
                        const container = stoppedContainers[0];
                        demoState.containers = demoState.containers.filter(c => c.id !== container.id);
                        result = `$ docker rm ${container.id}
${container.id}

‚úÖ Container removed successfully!
The container no longer exists on the system.`;
                    }
                    break;
            }

            output.textContent = result;
        }

        // Quiz functionality
        const quizQuestions = [
            {
                question: "What is the primary purpose of Docker?",
                options: [
                    "To replace virtual machines entirely",
                    "To package applications and dependencies into portable containers",
                    "To create web applications",
                    "To manage databases"
                ],
                correct: 1
            },
            {
                question: "What is a Dockerfile?",
                options: [
                    "A configuration file for Docker daemon",
                    "A text file containing instructions to build a Docker image",
                    "A running instance of a Docker image",
                    "A database for storing container information"
                ],
                correct: 1
            },
            {
                question: "What's the difference between a Docker image and a Docker container?",
                options: [
                    "There is no difference; they're the same thing",
                    "Images are running, containers are stopped",
                    "An image is a template; a container is a running instance of an image",
                    "Images are for Windows; containers are for Linux"
                ],
                correct: 2
            },
            {
                question: "Which Docker command is used to create a new image from a Dockerfile?",
                options: [
                    "docker create",
                    "docker make",
                    "docker build",
                    "docker new"
                ],
                correct: 2
            },
            {
                question: "What does 'docker pull' do?",
                options: [
                    "Downloads an image from a registry",
                    "Uploads an image to a registry",
                    "Creates a new container",
                    "Removes an image from the system"
                ],
                correct: 0
            },
            {
                question: "What is Docker Hub?",
                options: [
                    "The Docker client software",
                    "A public registry for Docker images",
                    "A container orchestration tool",
                    "A Docker configuration file"
                ],
                correct: 1
            },
            {
                question: "What does the 'docker run' command do?",
                options: [
                    "Only creates a container",
                    "Only starts an existing container",
                    "Creates and starts a new container from an image",
                    "Stops a running container"
                ],
                correct: 2
            },
            {
                question: "Why are Docker containers more efficient than virtual machines?",
                options: [
                    "Containers have better CPUs",
                    "Containers share the host OS kernel instead of including a full OS",
                    "Containers use less memory for applications",
                    "Containers are written in a faster programming language"
                ],
                correct: 1
            },
            {
                question: "What is the purpose of Docker volumes?",
                options: [
                    "To increase container processing power",
                    "To persist data outside of containers",
                    "To speed up network communication",
                    "To run multiple containers simultaneously"
                ],
                correct: 1
            },
            {
                question: "What does the Docker daemon do?",
                options: [
                    "Provides the command-line interface",
                    "Stores images in the cloud",
                    "Manages Docker objects like images, containers, networks, and volumes",
                    "Creates Dockerfiles automatically"
                ],
                correct: 2
            },
            {
                question: "What is the main benefit of using Docker Compose?",
                options: [
                    "It makes containers run faster",
                    "It allows you to define and run multi-container applications",
                    "It replaces Dockerfiles",
                    "It provides a web interface for Docker"
                ],
                correct: 1
            },
            {
                question: "In Docker Compose, what does 'depends_on' specify?",
                options: [
                    "The order in which services should start",
                    "Which services require authentication",
                    "The size of the container",
                    "The number of replicas"
                ],
                correct: 0
            }
        ];

        // Initialize quiz
        function initQuiz() {
            const quizSection = document.getElementById('quizSection');
            quizSection.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h4>Question ${index + 1}: ${q.question}</h4>
                    <div class="options" id="options-${index}">
                        ${q.options.map((option, optIndex) => `
                            <div class="option" onclick="selectOption(${index}, ${optIndex})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                `;
                quizSection.appendChild(questionDiv);
            });
        }

        let userAnswers = new Array(quizQuestions.length).fill(null);

        function selectOption(questionIndex, optionIndex) {
            const options = document.getElementById(`options-${questionIndex}`).children;
            Array.from(options).forEach(opt => opt.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            userAnswers[questionIndex] = optionIndex;
        }

        function submitQuiz() {
            let score = 0;
            quizQuestions.forEach((q, index) => {
                const options = document.getElementById(`options-${index}`).children;
                Array.from(options).forEach((opt, optIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (optIndex === q.correct) {
                        opt.classList.add('correct');
                    } else if (optIndex === userAnswers[index] && optIndex !== q.correct) {
                        opt.classList.add('incorrect');
                    }
                });

                if (userAnswers[index] === q.correct) {
                    score++;
                }
            });

            const scoreDisplay = document.getElementById('scoreDisplay');
            const scoreText = document.getElementById('scoreText');
            const scoreMessage = document.getElementById('scoreMessage');

            const percentage = (score / quizQuestions.length) * 100;
            scoreText.textContent = `${score} / ${quizQuestions.length} (${percentage.toFixed(0)}%)`;

            if (percentage >= 90) {
                scoreMessage.textContent = 'üéâ Excellent! You have mastered Docker concepts!';
                progressData.achievements['quiz'] = true;
            } else if (percentage >= 70) {
                scoreMessage.textContent = 'üëç Great job! You have a solid understanding of Docker!';
            } else if (percentage >= 50) {
                scoreMessage.textContent = 'üìö Good effort! Review the materials and try again.';
            } else {
                scoreMessage.textContent = 'üí™ Keep learning! Go through the content again and retake the quiz.';
            }

            progressData.quizScore = percentage.toFixed(0);
            saveProgress();

            scoreDisplay.style.display = 'block';
            document.querySelector('.submit-btn').style.display = 'none';
        }

        // Initialize on page load
        window.onload = function() {
            loadProgress();
            initQuiz();
            loadChallenge(0);
            renderSimulator();
            
            // Award first steps achievement after a few seconds
            setTimeout(() => {
                progressData.achievements['first-steps'] = true;
                saveProgress();
            }, 3000);

            // Update time spent every minute
            setInterval(() => {
                const timeSpent = Math.floor((Date.now() - progressData.startTime) / 60000);
                document.getElementById('timeSpent').textContent = timeSpent + 'm';
            }, 60000);
        };
    </script>
</body>
</html>