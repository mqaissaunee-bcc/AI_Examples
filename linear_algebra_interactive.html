<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Linear Algebra & Matrix Transformations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .tab-navigation {
            display: flex;
            flex-wrap: wrap;
            background: #f7fafc;
            border-bottom: 3px solid #e2e8f0;
            padding: 10px;
            gap: 10px;
            justify-content: center;
        }

        .tab-btn {
            padding: 15px 25px;
            background: white;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #4a5568;
        }

        .tab-btn:hover {
            background: #edf2f7;
            border-color: #4facfe;
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-color: #4facfe;
        }

        .content-area {
            padding: 30px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .concept-card {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border: 2px solid #cbd5e0;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #4facfe;
        }

        .concept-card h3 {
            color: #4facfe;
            font-size: 1.5em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cbd5e0;
        }

        .matrix-display {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.3em;
            text-align: center;
            border: 2px solid #4facfe;
            overflow-x: auto;
        }

        .visualization-panel {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 25px;
            margin: 25px 0;
        }

        .canvas-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #cbd5e0;
            text-align: center;
        }

        canvas {
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            background: white;
            max-width: 100%;
            cursor: crosshair;
        }

        .controls-panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #cbd5e0;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-group h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .slider-control {
            margin: 15px 0;
        }

        .slider-control label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #4a5568;
        }

        .slider-control input[type="range"] {
            width: 100%;
            height: 40px;
            cursor: pointer;
        }

        .slider-value {
            display: inline-block;
            background: #4facfe;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .info-box {
            background: #e6f7ff;
            border-left: 4px solid #4facfe;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-box strong {
            color: #4facfe;
        }

        .practice-section {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .question-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #cbd5e0;
        }

        .question-card h4 {
            color: #4facfe;
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 15px;
            background: white;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option-btn:hover {
            background: #edf2f7;
            border-color: #4facfe;
            transform: scale(1.05);
        }

        .option-btn.correct {
            background: #c6f6d5;
            border-color: #48bb78;
        }

        .option-btn.incorrect {
            background: #fed7d7;
            border-color: #f56565;
        }

        .feedback {
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            text-align: center;
        }

        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }

        .transformation-preset {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: white;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s ease;
        }

        .transformation-preset:hover {
            border-color: #4facfe;
            background: #edf2f7;
        }

        .transformation-preset.active {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .matrix-input-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .matrix-input-grid input {
            padding: 10px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            font-family: 'Courier New', monospace;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
        }

        .score-display {
            background: white;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #4facfe;
            text-align: center;
            margin: 20px 0;
        }

        .score-display h3 {
            color: #4facfe;
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border: 1px solid #cbd5e0;
        }

        th {
            background: #4facfe;
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: #f7fafc;
        }

        .eigenvalue-display {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #f39c12;
        }

        .vector-display {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #4facfe;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 1200px) {
            .visualization-panel {
                grid-template-columns: 1fr;
            }
            
            .concept-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .tab-btn {
                padding: 10px 15px;
                font-size: 1em;
            }

            .content-area {
                padding: 15px;
            }
        }

        .highlight {
            background: #fef5e7;
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: 600;
            color: #d68910;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üßÆ Interactive Linear Algebra & Matrix Transformations</h1>
            <p>Visualize transformations, master matrix operations, and discover real-world applications</p>
        </header>

        <div class="tab-navigation">
            <button class="tab-btn active" onclick="showTab('concepts')">üìö Concepts</button>
            <button class="tab-btn" onclick="showTab('transformations')">üîÑ 2D Transformations</button>
            <button class="tab-btn" onclick="showTab('operations')">‚úñÔ∏è Matrix Operations</button>
            <button class="tab-btn" onclick="showTab('eigenvalues')">üéØ Eigenvalues</button>
            <button class="tab-btn" onclick="showTab('applications')">üåç Applications</button>
            <button class="tab-btn" onclick="showTab('practice')">‚úèÔ∏è Practice</button>
            <button class="tab-btn" onclick="showTab('code')">üíª Code</button>
        </div>

        <div class="content-area">
            <!-- CONCEPTS TAB -->
            <div id="concepts" class="tab-content active">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Linear Algebra Fundamentals</h2>
                
                <div class="info-box">
                    <strong>üìå Why Linear Algebra?</strong><br>
                    Linear algebra is the mathematics of data, transformations, and modern computing. From AI/ML to computer graphics, quantum mechanics to economics, matrices and vectors are everywhere!
                </div>

                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üéØ Matrices & Vectors</h3>
                        <p><strong>Matrix:</strong> A rectangular array of numbers arranged in rows and columns.</p>
                        <div class="matrix-display">
                            A = [a‚ÇÅ‚ÇÅ  a‚ÇÅ‚ÇÇ]<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;[a‚ÇÇ‚ÇÅ  a‚ÇÇ‚ÇÇ]
                        </div>
                        <p><strong>Vector:</strong> A matrix with one column (or row), representing direction and magnitude.</p>
                        <div class="matrix-display">
                            v = [x]<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;[y]
                        </div>
                        <div class="info-box">
                            <strong>Key Insight:</strong> Vectors represent points, directions, or data. Matrices represent transformations or systems of equations!
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üîÑ Matrix Transformations</h3>
                        <p>A matrix transformation applies a matrix to a vector, producing a new vector:</p>
                        <div class="matrix-display">
                            [a  b] [x]   [ax + by]<br>
                            [c  d] [y] = [cx + dy]
                        </div>
                        <p><strong>Types of Transformations:</strong></p>
                        <ul style="margin: 15px 0; line-height: 1.8;">
                            <li><span class="highlight">Rotation:</span> Rotates points around origin</li>
                            <li><span class="highlight">Scaling:</span> Stretches or shrinks</li>
                            <li><span class="highlight">Shearing:</span> Slants/skews the space</li>
                            <li><span class="highlight">Reflection:</span> Flips across a line/plane</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>‚úñÔ∏è Matrix Multiplication</h3>
                        <p>Multiplying matrices combines transformations:</p>
                        <div class="matrix-display">
                            [a  b] [e  f]   [ae+bg  af+bh]<br>
                            [c  d] [g  h] = [ce+dg  cf+dh]
                        </div>
                        <div class="info-box">
                            <strong>Important!</strong> Matrix multiplication is NOT commutative: AB ‚â† BA in general. The order matters!
                        </div>
                        <p style="margin-top: 15px;"><strong>To multiply A√óB:</strong> The number of columns in A must equal the number of rows in B. Result has rows of A and columns of B.</p>
                    </div>

                    <div class="concept-card">
                        <h3>üìä Determinant</h3>
                        <p>The determinant measures how much a transformation scales areas/volumes.</p>
                        <div class="matrix-display">
                            det([a  b]) = ad - bc<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;[c  d]
                        </div>
                        <p><strong>Geometric Meaning:</strong></p>
                        <ul style="margin: 15px 0; line-height: 1.8;">
                            <li><span class="highlight">|det| > 1:</span> Expands area</li>
                            <li><span class="highlight">|det| < 1:</span> Shrinks area</li>
                            <li><span class="highlight">det = 0:</span> Collapses to lower dimension (singular!)</li>
                            <li><span class="highlight">det < 0:</span> Flips orientation</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üéØ Eigenvalues & Eigenvectors</h3>
                        <p>An eigenvector is a special vector that only gets scaled (not rotated) by the matrix:</p>
                        <div class="matrix-display">
                            Av = Œªv
                        </div>
                        <p>where Œª is the eigenvalue (scaling factor) and v is the eigenvector.</p>
                        <div class="info-box">
                            <strong>Why Care?</strong> Eigenvectors reveal the "axes" of a transformation. Used in PCA, Google PageRank, quantum mechanics, and stability analysis!
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üîó Connection to Jacobian Matrix</h3>
                        <p>The <strong>Jacobian</strong> is a matrix of partial derivatives, describing how a function transforms near a point:</p>
                        <div class="matrix-display">
                            J = [‚àÇf‚ÇÅ/‚àÇx  ‚àÇf‚ÇÅ/‚àÇy]<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;[‚àÇf‚ÇÇ/‚àÇx  ‚àÇf‚ÇÇ/‚àÇy]
                        </div>
                        <p>This is exactly what you use in <strong>Newton's Method</strong> for systems! The Jacobian tells you how to linearize the problem at each step.</p>
                        <div class="info-box">
                            <strong>Newton's Method Connection:</strong> At each iteration, we solve J(x·µè)Œîx = -F(x·µè), which is a linear algebra problem!
                        </div>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üìñ Quick Reference: Common Transformations</h3>
                    <table>
                        <tr>
                            <th>Transformation</th>
                            <th>Matrix Form</th>
                            <th>Effect</th>
                        </tr>
                        <tr>
                            <td><strong>Rotation (Œ∏¬∞)</strong></td>
                            <td>[cos Œ∏  -sin Œ∏]<br>[sin Œ∏   cos Œ∏]</td>
                            <td>Rotates counterclockwise by angle Œ∏</td>
                        </tr>
                        <tr>
                            <td><strong>Scaling (s‚Çì, s·µß)</strong></td>
                            <td>[s‚Çì   0]<br>[0   s·µß]</td>
                            <td>Scales x by s‚Çì and y by s·µß</td>
                        </tr>
                        <tr>
                            <td><strong>Horizontal Shear</strong></td>
                            <td>[1  k]<br>[0  1]</td>
                            <td>Slants horizontally by factor k</td>
                        </tr>
                        <tr>
                            <td><strong>Vertical Shear</strong></td>
                            <td>[1  0]<br>[k  1]</td>
                            <td>Slants vertically by factor k</td>
                        </tr>
                        <tr>
                            <td><strong>Reflection (x-axis)</strong></td>
                            <td>[1   0]<br>[0  -1]</td>
                            <td>Flips across x-axis</td>
                        </tr>
                        <tr>
                            <td><strong>Identity</strong></td>
                            <td>[1  0]<br>[0  1]</td>
                            <td>No change (leaves everything as is)</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 2D TRANSFORMATIONS TAB -->
            <div id="transformations" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Interactive 2D Transformations</h2>
                
                <div class="info-box">
                    <strong>üéÆ How to Use:</strong> Select a preset transformation or use the sliders to create your own matrix. Watch how the grid and shapes transform in real-time!
                </div>

                <div class="visualization-panel">
                    <div class="canvas-container">
                        <h3 style="margin-bottom: 15px;">Transformation Visualization</h3>
                        <canvas id="transformCanvas" width="600" height="600"></canvas>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-primary" onclick="resetTransform()">üîÑ Reset</button>
                            <button class="btn btn-success" onclick="animateTransform()">‚ñ∂Ô∏è Animate</button>
                        </div>
                    </div>

                    <div class="controls-panel">
                        <div class="control-group">
                            <h4>üéØ Preset Transformations</h4>
                            <button class="transformation-preset active" onclick="applyPreset('identity')">
                                <strong>Identity</strong><br>
                                No transformation
                            </button>
                            <button class="transformation-preset" onclick="applyPreset('rotation90')">
                                <strong>Rotate 90¬∞</strong><br>
                                Counterclockwise rotation
                            </button>
                            <button class="transformation-preset" onclick="applyPreset('scale')">
                                <strong>Scale 2x</strong><br>
                                Uniform scaling
                            </button>
                            <button class="transformation-preset" onclick="applyPreset('shearX')">
                                <strong>Horizontal Shear</strong><br>
                                Slant in x-direction
                            </button>
                            <button class="transformation-preset" onclick="applyPreset('reflectX')">
                                <strong>Reflect X-axis</strong><br>
                                Flip vertically
                            </button>
                            <button class="transformation-preset" onclick="applyPreset('compression')">
                                <strong>Compression</strong><br>
                                Squash space
                            </button>
                        </div>

                        <div class="control-group">
                            <h4>üéõÔ∏è Custom Matrix</h4>
                            <p style="margin-bottom: 10px;">Edit matrix values:</p>
                            <div class="matrix-input-grid">
                                <input type="number" id="m11" value="1" step="0.1" onchange="updateMatrix()">
                                <input type="number" id="m12" value="0" step="0.1" onchange="updateMatrix()">
                                <input type="number" id="m21" value="0" step="0.1" onchange="updateMatrix()">
                                <input type="number" id="m22" value="1" step="0.1" onchange="updateMatrix()">
                            </div>
                        </div>

                        <div class="control-group">
                            <h4>üìä Matrix Properties</h4>
                            <div class="info-box" style="margin: 0;">
                                <strong>Determinant:</strong> <span id="detValue">1.00</span><br>
                                <strong>Trace:</strong> <span id="traceValue">2.00</span><br>
                                <strong>Type:</strong> <span id="matrixType">Identity</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <h4>üìê Current Matrix</h4>
                            <div class="matrix-display" id="matrixDisplay">
                                [1.0  0.0]<br>
                                [0.0  1.0]
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MATRIX OPERATIONS TAB -->
            <div id="operations" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Matrix Operations Explorer</h2>

                <!-- Matrix Multiplication -->
                <div class="concept-card">
                    <h3>‚úñÔ∏è Matrix Multiplication</h3>
                    <p style="margin-bottom: 30px;">Multiply two 2√ó2 matrices step by step:</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 40px; align-items: start; max-width: 800px; margin: 0 auto;">
                        <div>
                            <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Matrix A</h4>
                            <div class="matrix-input-grid">
                                <input type="number" id="a11" value="2" step="0.5">
                                <input type="number" id="a12" value="1" step="0.5">
                                <input type="number" id="a21" value="3" step="0.5">
                                <input type="number" id="a22" value="4" step="0.5">
                            </div>
                        </div>
                        
                        <div style="font-size: 3em; font-weight: bold; color: #4facfe; padding-top: 50px;">√ó</div>
                        
                        <div>
                            <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Matrix B</h4>
                            <div class="matrix-input-grid">
                                <input type="number" id="b11" value="1" step="0.5">
                                <input type="number" id="b12" value="0" step="0.5">
                                <input type="number" id="b21" value="2" step="0.5">
                                <input type="number" id="b22" value="3" step="0.5">
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="multiplyMatrices()" style="display: block; margin: 30px auto; font-size: 1.2em; padding: 15px 40px;">Calculate A √ó B</button>

                    <div id="multiplicationResult" class="matrix-display" style="display: none;">
                        <!-- Result will appear here -->
                    </div>

                    <div id="multiplicationSteps" style="margin-top: 20px; display: none;">
                        <!-- Steps will appear here -->
                    </div>
                </div>

                <!-- Matrix Inverse -->
                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üîç Find the inverse of a 2√ó2 matrix (if it exists):</h3>
                    
                    <div style="max-width: 600px; margin: 30px auto;">
                        <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Original Matrix</h4>
                        <div class="matrix-input-grid" style="max-width: 300px; margin: 0 auto;">
                            <input type="number" id="inv11" value="2" step="0.5">
                            <input type="number" id="inv12" value="1" step="0.5">
                            <input type="number" id="inv21" value="3" step="0.5">
                            <input type="number" id="inv22" value="4" step="0.5">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="calculateInverse()" style="display: block; margin: 30px auto; font-size: 1.2em; padding: 15px 40px;">Calculate A‚Åª¬π</button>
                    
                    <div id="inverseResult" style="display: none; max-width: 600px; margin: 30px auto;">
                        <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Inverse Matrix</h4>
                        <div class="matrix-display" id="inverseMatrix">
                            <!-- Result appears here -->
                        </div>
                    </div>

                    <div id="inverseSteps" class="info-box" style="display: none;">
                        <!-- Steps appear here -->
                    </div>
                </div>

                <!-- Determinant Calculator -->
                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üìä Determinant Calculator</h3>
                    <p style="margin-bottom: 30px;">Calculate and visualize the determinant:</p>
                    
                    <div style="max-width: 600px; margin: 30px auto;">
                        <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Enter Matrix</h4>
                        <div class="matrix-input-grid" style="max-width: 300px; margin: 0 auto;">
                            <input type="number" id="det11" value="3" step="0.5">
                            <input type="number" id="det12" value="1" step="0.5">
                            <input type="number" id="det21" value="2" step="0.5">
                            <input type="number" id="det22" value="4" step="0.5">
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="calculateDeterminant()" style="display: block; margin: 30px auto; font-size: 1.2em; padding: 15px 40px;">Calculate Determinant</button>

                    <div id="determinantResult" style="display: none;">
                        <div class="matrix-display">
                            det = <span id="detResultValue"></span>
                        </div>
                        <div class="info-box">
                            <strong>Calculation:</strong><br>
                            <span id="detCalculation"></span><br><br>
                            <strong>Interpretation:</strong><br>
                            <span id="detInterpretation"></span>
                        </div>
                    </div>
                </div>

                <!-- Linear System Solver -->
                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üéØ Use matrices to solve systems of linear equations:</h3>
                    
                    <div style="max-width: 900px; margin: 30px auto;">
                        <div style="display: grid; grid-template-columns: auto auto; gap: 30px; justify-content: center; align-items: start;">
                            <div>
                                <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Coefficient Matrix A</h4>
                                <div class="matrix-input-grid" style="max-width: 300px;">
                                    <input type="number" id="sys11" value="2" step="0.5">
                                    <input type="number" id="sys12" value="1" step="0.5">
                                    <input type="number" id="sys21" value="1" step="0.5">
                                    <input type="number" id="sys22" value="3" step="0.5">
                                </div>
                            </div>
                            
                            <div>
                                <h4 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Vector b</h4>
                                <div style="display: flex; flex-direction: column; gap: 12px; max-width: 120px; margin: 0 auto;">
                                    <input type="number" id="b1" value="5" step="0.5" style="padding: 15px; border: 2px solid #cbd5e0; border-radius: 8px; text-align: center; font-size: 1.1em; font-family: 'Courier New', monospace;">
                                    <input type="number" id="b2" value="6" step="0.5" style="padding: 15px; border: 2px solid #cbd5e0; border-radius: 8px; text-align: center; font-size: 1.1em; font-family: 'Courier New', monospace;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="solveSystem()" style="display: block; margin: 30px auto; font-size: 1.2em; padding: 15px 40px;">Solve for x</button>

                    <div id="systemResult" style="display: none;">
                        <div class="matrix-display">
                            Solution: x = <span id="solutionVector"></span>
                        </div>
                        <div class="info-box">
                            <strong>System of Equations:</strong><br>
                            <span id="equationSystem"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- EIGENVALUES TAB -->
            <div id="eigenvalues" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Eigenvalues & Eigenvectors</h2>

                <div class="info-box">
                    <strong>üéØ Understanding Eigen-stuff:</strong> When you apply a matrix transformation to a vector, usually the vector rotates AND scales. But eigenvectors are special‚Äîthey only scale (by the eigenvalue Œª), staying on the same line!
                </div>

                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üìê What Are Eigenvalues?</h3>
                        <p>For a matrix A and eigenvector v:</p>
                        <div class="matrix-display">
                            Av = Œªv
                        </div>
                        <p>where Œª (lambda) is the eigenvalue.</p>
                        
                        <div class="info-box">
                            <strong>To find eigenvalues:</strong><br>
                            1. Solve det(A - ŒªI) = 0 (characteristic equation)<br>
                            2. This gives you the eigenvalues Œª‚ÇÅ and Œª‚ÇÇ<br>
                            3. Then solve (A - ŒªI)v = 0 for each eigenvalue to get eigenvectors
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>For 2√ó2 matrices:</strong></p>
                        <div class="matrix-display">
                            det([a-Œª   b  ]) = 0<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;[c   d-Œª]<br><br>
                            Œª¬≤ - (a+d)Œª + (ad-bc) = 0
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üîç Eigenvalue Calculator</h3>
                        <p>Find eigenvalues and eigenvectors for a 2√ó2 matrix:</p>
                        
                        <div style="margin: 20px 0;">
                            <p style="text-align: center; margin-bottom: 10px;"><strong>Enter Matrix</strong></p>
                            <div class="matrix-input-grid" style="max-width: 200px; margin: 0 auto;">
                                <input type="number" id="eig11" value="3" step="0.5">
                                <input type="number" id="eig12" value="1" step="0.5">
                                <input type="number" id="eig21" value="1" step="0.5">
                                <input type="number" id="eig22" value="3" step="0.5">
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="calculateEigenvalues()" style="display: block; margin: 20px auto;">Calculate Eigenvalues</button>

                        <div id="eigenResult" style="display: none;">
                            <div class="eigenvalue-display">
                                <h4 style="margin-bottom: 15px;">Results:</h4>
                                <div id="eigenvaluesList"></div>
                            </div>
                            <div class="info-box">
                                <strong>Characteristic Equation:</strong><br>
                                <span id="charEquation"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="visualization-panel" style="margin-top: 30px;">
                    <div class="canvas-container">
                        <h3 style="margin-bottom: 15px;">Eigenvector Visualization</h3>
                        <canvas id="eigenCanvas" width="600" height="600"></canvas>
                        <p style="margin-top: 15px;"><strong>Red vectors:</strong> Eigenvectors<br><strong>Blue vectors:</strong> Regular vectors being transformed</p>
                    </div>

                    <div class="controls-panel">
                        <div class="control-group">
                            <h4>üéØ Example Matrices</h4>
                            <button class="transformation-preset" onclick="loadEigenExample('diagonal')">
                                <strong>Diagonal Matrix</strong><br>
                                Pure scaling along axes
                            </button>
                            <button class="transformation-preset" onclick="loadEigenExample('rotation')">
                                <strong>Rotation Matrix</strong><br>
                                Complex eigenvalues!
                            </button>
                            <button class="transformation-preset" onclick="loadEigenExample('shear')">
                                <strong>Shear Matrix</strong><br>
                                Repeated eigenvalue
                            </button>
                            <button class="transformation-preset" onclick="loadEigenExample('symmetric')">
                                <strong>Symmetric Matrix</strong><br>
                                Orthogonal eigenvectors
                            </button>
                        </div>

                        <div class="control-group">
                            <h4>‚ÑπÔ∏è Eigenvalue Properties</h4>
                            <div class="info-box" style="margin: 0;">
                                <strong>‚Ä¢ Sum of eigenvalues = Trace(A)</strong><br>
                                <strong>‚Ä¢ Product of eigenvalues = det(A)</strong><br>
                                <strong>‚Ä¢ Symmetric matrices have real eigenvalues</strong><br>
                                <strong>‚Ä¢ Rotation matrices have complex eigenvalues</strong>
                            </div>
                        </div>

                        <div class="control-group">
                            <button class="btn btn-success" onclick="animateEigenvectors()" style="width: 100%;">‚ñ∂Ô∏è Animate Transformation</button>
                        </div>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üåü Why Eigenvalues Matter</h3>
                    <div class="concept-grid">
                        <div class="info-box">
                            <strong>üî¨ Principal Component Analysis (PCA)</strong><br>
                            Finds the directions of maximum variance in data. Eigenvectors of the covariance matrix become the principal components!
                        </div>
                        <div class="info-box">
                            <strong>üîç Google PageRank</strong><br>
                            The PageRank algorithm finds the principal eigenvector of the web's link matrix to rank pages.
                        </div>
                        <div class="info-box">
                            <strong>‚öõÔ∏è Quantum Mechanics</strong><br>
                            Observable quantities are eigenvalues of operators. Measurement collapses state to an eigenvector!
                        </div>
                        <div class="info-box">
                            <strong>üìä Stability Analysis</strong><br>
                            System stability determined by eigenvalues: |Œª| < 1 means stable, |Œª| > 1 means unstable.
                        </div>
                    </div>
                </div>
            </div>

            <!-- APPLICATIONS TAB -->
            <div id="applications" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Real-World Applications</h2>

                <div class="info-box">
                    <strong>üí° Linear Algebra is Everywhere!</strong> From the phone in your pocket to AI systems, computer graphics to economic models‚Äîmatrices and vectors power modern technology and science.
                </div>

                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üéÆ Computer Graphics & Gaming</h3>
                        <p><strong>3D Graphics Pipeline:</strong> Every 3D game uses matrices to transform objects from model space ‚Üí world space ‚Üí camera space ‚Üí screen space.</p>
                        
                        <div class="info-box">
                            <strong>Example:</strong> To rotate a 3D character, move it, and display it on screen requires multiplying by 3-4 transformation matrices in sequence!
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>Applications:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li>Camera movements (view matrix)</li>
                            <li>Object animations (model matrix)</li>
                            <li>Perspective projection</li>
                            <li>Skeletal animation (bone matrices)</li>
                            <li>Shadow mapping</li>
                        </ul>
                        
                        <div class="matrix-display">
                            Model Matrix √ó View Matrix √ó Projection Matrix = MVP
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>ü§ñ Machine Learning & AI</h3>
                        <p><strong>Neural Networks:</strong> At their core, neural networks are just massive chains of matrix multiplications!</p>
                        
                        <div class="matrix-display">
                            output = activation(W √ó input + bias)
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>Key ML Applications:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li><span class="highlight">PCA:</span> Dimensionality reduction using eigenvectors</li>
                            <li><span class="highlight">SVD:</span> Recommender systems (Netflix, Amazon)</li>
                            <li><span class="highlight">Linear Regression:</span> X<sup>T</sup>XŒ≤ = X<sup>T</sup>y</li>
                            <li><span class="highlight">Deep Learning:</span> Backpropagation uses chain rule on matrices</li>
                            <li><span class="highlight">Word Embeddings:</span> Word vectors in high-dimensional space</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üì∏ Image Processing</h3>
                        <p><strong>Images as Matrices:</strong> A digital image is just a matrix of pixel values! Image transformations = matrix operations.</p>
                        
                        <p style="margin-top: 15px;"><strong>Common Operations:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li><strong>Rotation/Scaling:</strong> Apply transformation matrix to coordinates</li>
                            <li><strong>Filters:</strong> Convolution = matrix multiplication</li>
                            <li><strong>Compression:</strong> JPEG uses SVD and DCT (matrix transforms)</li>
                            <li><strong>Edge Detection:</strong> Apply Sobel/Prewitt matrices</li>
                            <li><strong>Color Transformations:</strong> RGB ‚Üî HSV via matrices</li>
                        </ul>
                        
                        <div class="info-box">
                            <strong>Fun Fact:</strong> Instagram filters? Matrix operations on pixel values!
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üîä Signal Processing & Audio</h3>
                        <p><strong>Fourier Transform:</strong> Converting signals to frequency domain uses matrix operations (DFT matrix).</p>
                        
                        <p style="margin-top: 15px;"><strong>Applications:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li>MP3 compression (DCT matrix)</li>
                            <li>Auto-tune (pitch correction via matrices)</li>
                            <li>Noise cancellation</li>
                            <li>Equalizers (filter banks)</li>
                            <li>Speech recognition (feature extraction)</li>
                        </ul>
                        
                        <div class="matrix-display">
                            DFT: X = Wx<br>
                            where W is the DFT matrix
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üí∞ Economics & Finance</h3>
                        <p><strong>Portfolio Optimization:</strong> Modern Portfolio Theory uses covariance matrices to balance risk and return.</p>
                        
                        <p style="margin-top: 15px;"><strong>Financial Applications:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li><strong>Risk Analysis:</strong> Covariance matrices measure correlations</li>
                            <li><strong>Option Pricing:</strong> Solving systems of PDEs (matrix methods)</li>
                            <li><strong>Econometrics:</strong> Multiple regression (X<sup>T</sup>X)‚Åª¬πX<sup>T</sup>y</li>
                            <li><strong>Input-Output Models:</strong> Leontief matrices for economy</li>
                            <li><strong>Markov Chains:</strong> Transition matrices for states</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>‚öõÔ∏è Quantum Computing</h3>
                        <p><strong>Quantum States:</strong> Represented as vectors in complex Hilbert space. Quantum gates are unitary matrices!</p>
                        
                        <div class="info-box">
                            <strong>Quantum Gates:</strong> Every quantum operation is a matrix multiplication on the state vector.
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>Key Concepts:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li>Qubit state: |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü© (vector)</li>
                            <li>Measurement: eigenvalues of observables</li>
                            <li>Entanglement: tensor products of matrices</li>
                            <li>Quantum algorithms: sequences of matrix operations</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üöó Robotics & Control Systems</h3>
                        <p><strong>State Space Models:</strong> Robot dynamics described by matrix equations.</p>
                        
                        <div class="matrix-display">
                            ·∫ã = Ax + Bu<br>
                            y = Cx + Du
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>Applications:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li><strong>Kinematics:</strong> Transformation matrices between joints</li>
                            <li><strong>Kalman Filter:</strong> Optimal state estimation (matrix updates)</li>
                            <li><strong>Stability:</strong> Eigenvalues determine system stability</li>
                            <li><strong>Path Planning:</strong> Solving optimization with constraints</li>
                            <li><strong>Computer Vision:</strong> Camera calibration matrices</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üåê Network Analysis & PageRank</h3>
                        <p><strong>Google's PageRank:</strong> The algorithm that revolutionized search uses eigenvectors!</p>
                        
                        <div class="info-box">
                            <strong>How it works:</strong> Create an adjacency matrix from the web's link structure. The principal eigenvector gives page importance rankings!
                        </div>
                        
                        <p style="margin-top: 15px;"><strong>Other Network Uses:</strong></p>
                        <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                            <li>Social network centrality measures</li>
                            <li>Recommendation systems (matrix factorization)</li>
                            <li>Disease spread modeling (transition matrices)</li>
                            <li>Traffic flow optimization</li>
                            <li>Electrical circuit analysis (node matrices)</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üéì Connection to Calculus: The Jacobian Matrix</h3>
                    <p>Remember Newton's Method for solving systems of nonlinear equations? The <strong>Jacobian matrix</strong> is the key!</p>
                    
                    <div class="matrix-display">
                        J(x) = [‚àÇf‚ÇÅ/‚àÇx‚ÇÅ  ‚àÇf‚ÇÅ/‚àÇx‚ÇÇ  ...  ‚àÇf‚ÇÅ/‚àÇx‚Çô]<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[‚àÇf‚ÇÇ/‚àÇx‚ÇÅ  ‚àÇf‚ÇÇ/‚àÇx‚ÇÇ  ...  ‚àÇf‚ÇÇ/‚àÇx‚Çô]<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;‚ãÆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ãÆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ã±&nbsp;&nbsp;&nbsp;&nbsp;‚ãÆ&nbsp;&nbsp;]<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[‚àÇf‚Çò/‚àÇx‚ÇÅ  ‚àÇf‚Çò/‚àÇx‚ÇÇ  ...  ‚àÇf‚Çò/‚àÇx‚Çô]
                    </div>
                    
                    <div class="info-box">
                        <strong>Newton's Method Step:</strong> Solve J(x·µè)Œîx = -F(x·µè), then update x·µè‚Å∫¬π = x·µè + Œîx
                        <br><br>
                        This is a <strong>linear algebra problem</strong> (solving Ax = b) nested inside a calculus problem!
                    </div>
                    
                    <p style="margin-top: 15px;"><strong>Other Jacobian Applications:</strong></p>
                    <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                        <li><strong>Robotics:</strong> Relating joint velocities to end-effector velocity</li>
                        <li><strong>Fluid Dynamics:</strong> Linearizing Navier-Stokes equations</li>
                        <li><strong>Machine Learning:</strong> Backpropagation gradients</li>
                        <li><strong>Optimization:</strong> Newton's method for finding minima/maxima</li>
                        <li><strong>Change of Variables:</strong> Integration via det(J)</li>
                    </ul>
                </div>
            </div>

            <!-- PRACTICE TAB -->
            <div id="practice" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">Practice Problems</h2>

                <div class="info-box">
                    <strong>üìù How it works:</strong> Test your understanding with these carefully selected problems. Each set contains 8 questions covering various linear algebra topics.
                </div>

                <div class="practice-section" id="practiceArea">
                    <div class="question-card" id="currentQuestion">
                        <!-- Questions will be loaded here -->
                    </div>
                </div>

                <div class="score-display" id="scorePanel" style="display: none;">
                    <h3>üìä Your Progress</h3>
                    <div>Correct: <strong id="correctCount">0</strong></div>
                    <div>Total: <strong id="totalCount">0</strong></div>
                    <div>Score: <strong id="percentage">0%</strong></div>
                </div>
            </div>

            <!-- CODE TAB -->
            <div id="code" class="tab-content">
                <h2 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">MATLAB & Python Code</h2>

                <div class="concept-card">
                    <h3>üêç Python (NumPy) Implementation</h3>
                    <div class="code-block">
<pre>import numpy as np

# Matrix operations
A = np.array([[2, 1],
              [3, 4]])
B = np.array([[1, 0],
              [2, 3]])

# Matrix multiplication
C = A @ B  # or np.dot(A, B)
print("A √ó B =")
print(C)

# Determinant
det_A = np.linalg.det(A)
print(f"\ndet(A) = {det_A}")

# Inverse
A_inv = np.linalg.inv(A)
print("\nA‚Åª¬π =")
print(A_inv)

# Eigenvalues and eigenvectors
eigenvalues, eigenvectors = np.linalg.eig(A)
print("\nEigenvalues:", eigenvalues)
print("\nEigenvectors:")
print(eigenvectors)

# Solving linear system Ax = b
b = np.array([5, 6])
x = np.linalg.solve(A, b)
print(f"\nSolution to Ax = b: x = {x}")

# Matrix transformations
def rotate_2d(angle):
    """Create 2D rotation matrix"""
    c, s = np.cos(angle), np.sin(angle)
    return np.array([[c, -s],
                     [s, c]])

def scale_2d(sx, sy):
    """Create 2D scaling matrix"""
    return np.array([[sx, 0],
                     [0, sy]])

# Apply transformation
v = np.array([1, 0])  # Unit vector
angle = np.pi / 4  # 45 degrees
R = rotate_2d(angle)
v_rotated = R @ v
print(f"\nRotated vector: {v_rotated}")</pre>
                    </div>
                </div>

                <div class="concept-grid" style="margin-top: 30px;">
                    <div class="concept-card">
                        <h3>üìä MATLAB - Matrix Operations</h3>
                        <div class="code-block">
<pre>% Matrix operations in MATLAB
A = [2 1; 3 4];
B = [1 0; 2 3];

% Matrix multiplication
C = A * B;
disp('A * B =');
disp(C);

% Determinant
det_A = det(A);
fprintf('det(A) = %.4f\n', det_A);

% Inverse
A_inv = inv(A);
disp('A^-1 =');
disp(A_inv);

% Eigenvalues and eigenvectors
[V, D] = eig(A);
disp('Eigenvalues:');
disp(diag(D));
disp('Eigenvectors:');
disp(V);

% Solving Ax = b
b = [5; 6];
x = A \ b;  % More efficient than inv(A)*b
fprintf('Solution: x = [%.4f, %.4f]\n', x(1), x(2));</pre>
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>üé® MATLAB - 2D Transformations</h3>
                        <div class="code-block">
<pre>% 2D transformation visualizer
function visualize_transform(A)
    % Create unit square
    square = [0 1 1 0 0;
              0 0 1 1 0];
    
    % Apply transformation
    transformed = A * square;
    
    % Plot
    figure;
    subplot(1,2,1);
    fill(square(1,:), square(2,:), 'b');
    axis equal; grid on;
    title('Original');
    
    subplot(1,2,2);
    fill(transformed(1,:), transformed(2,:), 'r');
    axis equal; grid on;
    title('Transformed');
end

% Example: Rotation by 45 degrees
theta = pi/4;
R = [cos(theta) -sin(theta);
     sin(theta)  cos(theta)];
visualize_transform(R);

% Example: Shear transformation
S = [1 0.5; 0 1];
visualize_transform(S);</pre>
                        </div>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üî¨ Advanced: Computing Eigenvalues (Power Method)</h3>
                    <div class="code-block">
<pre>def power_method(A, num_iterations=100, tolerance=1e-10):
    """
    Find dominant eigenvalue and eigenvector using power method
    
    Parameters:
    A: square matrix (numpy array)
    num_iterations: maximum iterations
    tolerance: convergence threshold
    
    Returns:
    eigenvalue: dominant eigenvalue
    eigenvector: corresponding eigenvector
    """
    n = A.shape[0]
    
    # Start with random vector
    v = np.random.rand(n)
    v = v / np.linalg.norm(v)
    
    eigenvalue = 0
    
    for i in range(num_iterations):
        # Multiply by matrix
        v_new = A @ v
        
        # Calculate eigenvalue (Rayleigh quotient)
        eigenvalue_new = v @ v_new
        
        # Normalize
        v_new = v_new / np.linalg.norm(v_new)
        
        # Check convergence
        if abs(eigenvalue_new - eigenvalue) < tolerance:
            print(f"Converged in {i+1} iterations")
            break
        
        v = v_new
        eigenvalue = eigenvalue_new
    
    return eigenvalue, v

# Example usage
A = np.array([[4, 1],
              [2, 3]])

eigenvalue, eigenvector = power_method(A)
print(f"Dominant eigenvalue: {eigenvalue:.6f}")
print(f"Eigenvector: {eigenvector}")

# Verify
print("\nVerification:")
print(f"Av = {A @ eigenvector}")
print(f"Œªv = {eigenvalue * eigenvector}")</pre>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h3>üìö Quick Reference Functions</h3>
                    <table>
                        <tr>
                            <th>Operation</th>
                            <th>Python (NumPy)</th>
                            <th>MATLAB</th>
                        </tr>
                        <tr>
                            <td>Matrix multiplication</td>
                            <td>A @ B or np.dot(A, B)</td>
                            <td>A * B</td>
                        </tr>
                        <tr>
                            <td>Element-wise multiplication</td>
                            <td>A * B</td>
                            <td>A .* B</td>
                        </tr>
                        <tr>
                            <td>Transpose</td>
                            <td>A.T</td>
                            <td>A'</td>
                        </tr>
                        <tr>
                            <td>Inverse</td>
                            <td>np.linalg.inv(A)</td>
                            <td>inv(A)</td>
                        </tr>
                        <tr>
                            <td>Determinant</td>
                            <td>np.linalg.det(A)</td>
                            <td>det(A)</td>
                        </tr>
                        <tr>
                            <td>Eigenvalues/vectors</td>
                            <td>np.linalg.eig(A)</td>
                            <td>[V, D] = eig(A)</td>
                        </tr>
                        <tr>
                            <td>Solve Ax = b</td>
                            <td>np.linalg.solve(A, b)</td>
                            <td>A \ b</td>
                        </tr>
                        <tr>
                            <td>Matrix rank</td>
                            <td>np.linalg.matrix_rank(A)</td>
                            <td>rank(A)</td>
                        </tr>
                        <tr>
                            <td>Trace</td>
                            <td>np.trace(A)</td>
                            <td>trace(A)</td>
                        </tr>
                        <tr>
                            <td>Norm</td>
                            <td>np.linalg.norm(A)</td>
                            <td>norm(A)</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentTab = 'concepts';
        let transformMatrix = [[1, 0], [0, 1]];
        let animationFrame = null;
        let eigenMatrix = [[3, 1], [1, 3]];
        
        // Practice questions
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let totalQuestions = 0;

        const practiceQuestions = [
            {
                question: "What is the determinant of the matrix [[2, 3], [1, 4]]?",
                options: ["5", "8", "11", "14"],
                correct: 0,
                explanation: "det = (2)(4) - (3)(1) = 8 - 3 = 5"
            },
            {
                question: "Which transformation does the matrix [[0, -1], [1, 0]] represent?",
                options: ["90¬∞ rotation", "Reflection", "Scaling", "Shearing"],
                correct: 0,
                explanation: "This is a 90¬∞ counterclockwise rotation matrix. It rotates (1,0) to (0,1)."
            },
            {
                question: "If det(A) = 0, what can you conclude?",
                options: ["A is singular (non-invertible)", "A is invertible", "A is symmetric", "A is orthogonal"],
                correct: 0,
                explanation: "A matrix with determinant 0 is singular and cannot be inverted. It collapses space to a lower dimension."
            },
            {
                question: "What is the trace of matrix [[5, 2], [3, 7]]?",
                options: ["8", "10", "12", "14"],
                correct: 2,
                explanation: "Trace = sum of diagonal elements = 5 + 7 = 12"
            },
            {
                question: "If Av = 3v for some vector v ‚â† 0, what is 3?",
                options: ["Determinant", "Eigenvalue", "Trace", "Rank"],
                correct: 1,
                explanation: "By definition, 3 is an eigenvalue and v is the corresponding eigenvector."
            },
            {
                question: "What transformation doubles the size of objects uniformly?",
                options: ["[[2, 0], [0, 2]]", "[[1, 2], [2, 1]]", "[[2, 1], [1, 2]]", "[[1, 0], [0, 1]]"],
                correct: 0,
                explanation: "A scaling matrix with 2 on the diagonal doubles both x and y coordinates."
            },
            {
                question: "The sum of eigenvalues of a matrix equals its:",
                options: ["Determinant", "Trace", "Rank", "Norm"],
                correct: 1,
                explanation: "Fundamental property: sum of eigenvalues = trace of the matrix."
            },
            {
                question: "Which matrix is its own inverse?",
                options: ["[[1, 0], [0, -1]]", "[[2, 0], [0, 2]]", "[[1, 1], [0, 1]]", "[[2, 1], [1, 2]]"],
                correct: 0,
                explanation: "[[1, 0], [0, -1]] is a reflection matrix. Reflecting twice returns to original, so it's its own inverse."
            },
            {
                question: "What is the product of the eigenvalues of a matrix?",
                options: ["Trace", "Determinant", "Rank", "Norm"],
                correct: 1,
                explanation: "Fundamental property: product of eigenvalues = determinant of the matrix."
            },
            {
                question: "A rotation matrix has determinant:",
                options: ["-1", "0", "1", "2"],
                correct: 2,
                explanation: "Rotation matrices preserve area/volume (no scaling), so |det| = 1. Pure rotations have det = +1."
            }
        ];

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            currentTab = tabName;
            
            // Initialize tab-specific content
            if (tabName === 'transformations') {
                drawTransform();
            } else if (tabName === 'eigenvalues') {
                drawEigenvectors();
            } else if (tabName === 'practice') {
                if (currentQuestionIndex === 0) {
                    loadQuestion();
                    document.getElementById('scorePanel').style.display = 'block';
                }
            }
        }

        // 2D Transformation Canvas
        function drawTransform() {
            const canvas = document.getElementById('transformCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const w = canvas.width;
            const h = canvas.height;
            const centerX = w / 2;
            const centerY = h / 2;
            const scale = 80;
            
            ctx.clearRect(0, 0, w, h);
            
            // Draw grid (original)
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            
            for (let i = -3; i <= 3; i++) {
                // Vertical lines
                ctx.beginPath();
                ctx.moveTo(centerX + i * scale, 0);
                ctx.lineTo(centerX + i * scale, h);
                ctx.stroke();
                
                // Horizontal lines
                ctx.beginPath();
                ctx.moveTo(0, centerY + i * scale);
                ctx.lineTo(w, centerY + i * scale);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(w, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, h);
            ctx.stroke();
            
            // Draw transformed grid
            ctx.strokeStyle = '#4facfe';
            ctx.lineWidth = 2;
            
            const [[a, b], [c, d]] = transformMatrix;
            
            // Vertical lines transformed
            for (let i = -3; i <= 3; i++) {
                ctx.beginPath();
                for (let y = -3; y <= 3; y += 0.1) {
                    const tx = a * i + b * y;
                    const ty = c * i + d * y;
                    const sx = centerX + tx * scale;
                    const sy = centerY - ty * scale;
                    if (y === -3) ctx.moveTo(sx, sy);
                    else ctx.lineTo(sx, sy);
                }
                ctx.stroke();
            }
            
            // Horizontal lines transformed
            for (let i = -3; i <= 3; i++) {
                ctx.beginPath();
                for (let x = -3; x <= 3; x += 0.1) {
                    const tx = a * x + b * i;
                    const ty = c * x + d * i;
                    const sx = centerX + tx * scale;
                    const sy = centerY - ty * scale;
                    if (x === -3) ctx.moveTo(sx, sy);
                    else ctx.lineTo(sx, sy);
                }
                ctx.stroke();
            }
            
            // Draw basis vectors
            // Original i-hat (red)
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + scale, centerY);
            ctx.stroke();
            
            // Original j-hat (green)
            ctx.strokeStyle = '#51cf66';
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX, centerY - scale);
            ctx.stroke();
            
            // Transformed i-hat
            const ti_x = a * 1;
            const ti_y = c * 1;
            ctx.strokeStyle = '#fa5252';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + ti_x * scale, centerY - ti_y * scale);
            ctx.stroke();
            
            // Arrow head for transformed i-hat
            drawArrow(ctx, centerX, centerY, centerX + ti_x * scale, centerY - ti_y * scale, '#fa5252');
            
            // Transformed j-hat
            const tj_x = b * 1;
            const tj_y = d * 1;
            ctx.strokeStyle = '#37b24d';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + tj_x * scale, centerY - tj_y * scale);
            ctx.stroke();
            
            // Arrow head for transformed j-hat
            drawArrow(ctx, centerX, centerY, centerX + tj_x * scale, centerY - tj_y * scale, '#37b24d');
            
            // Draw a unit square and its transformation
            const square = [[0, 1, 1, 0, 0], [0, 0, 1, 1, 0]];
            
            // Original square (dashed)
            ctx.setLineDash([5, 5]);
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < square[0].length; i++) {
                const sx = centerX + square[0][i] * scale;
                const sy = centerY - square[1][i] * scale;
                if (i === 0) ctx.moveTo(sx, sy);
                else ctx.lineTo(sx, sy);
            }
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Transformed square
            ctx.strokeStyle = '#4facfe';
            ctx.fillStyle = 'rgba(79, 172, 254, 0.2)';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let i = 0; i < square[0].length; i++) {
                const tx = a * square[0][i] + b * square[1][i];
                const ty = c * square[0][i] + d * square[1][i];
                const sx = centerX + tx * scale;
                const sy = centerY - ty * scale;
                if (i === 0) ctx.moveTo(sx, sy);
                else ctx.lineTo(sx, sy);
            }
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
        }

        function drawArrow(ctx, x1, y1, x2, y2, color) {
            const headlen = 15;
            const angle = Math.atan2(y2 - y1, x2 - x1);
            
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(x2, y2);
            ctx.lineTo(x2 - headlen * Math.cos(angle - Math.PI / 6), y2 - headlen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(x2 - headlen * Math.cos(angle + Math.PI / 6), y2 - headlen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }

        function applyPreset(type) {
            document.querySelectorAll('.transformation-preset').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            switch(type) {
                case 'identity':
                    transformMatrix = [[1, 0], [0, 1]];
                    break;
                case 'rotation90':
                    transformMatrix = [[0, -1], [1, 0]];
                    break;
                case 'scale':
                    transformMatrix = [[2, 0], [0, 2]];
                    break;
                case 'shearX':
                    transformMatrix = [[1, 0.5], [0, 1]];
                    break;
                case 'reflectX':
                    transformMatrix = [[1, 0], [0, -1]];
                    break;
                case 'compression':
                    transformMatrix = [[0.5, 0], [0, 2]];
                    break;
            }
            
            updateMatrixInputs();
            updateMatrixDisplay();
            drawTransform();
        }

        function updateMatrix() {
            transformMatrix = [
                [parseFloat(document.getElementById('m11').value) || 0,
                 parseFloat(document.getElementById('m12').value) || 0],
                [parseFloat(document.getElementById('m21').value) || 0,
                 parseFloat(document.getElementById('m22').value) || 0]
            ];
            
            updateMatrixDisplay();
            drawTransform();
        }

        function updateMatrixInputs() {
            document.getElementById('m11').value = transformMatrix[0][0].toFixed(1);
            document.getElementById('m12').value = transformMatrix[0][1].toFixed(1);
            document.getElementById('m21').value = transformMatrix[1][0].toFixed(1);
            document.getElementById('m22').value = transformMatrix[1][1].toFixed(1);
        }

        function updateMatrixDisplay() {
            const [[a, b], [c, d]] = transformMatrix;
            const det = a * d - b * c;
            const trace = a + d;
            
            document.getElementById('matrixDisplay').innerHTML = 
                `[${a.toFixed(1)}  ${b.toFixed(1)}]<br>[${c.toFixed(1)}  ${d.toFixed(1)}]`;
            
            document.getElementById('detValue').textContent = det.toFixed(2);
            document.getElementById('traceValue').textContent = trace.toFixed(2);
            
            let type = 'Custom';
            if (Math.abs(det - 1) < 0.01 && Math.abs(a*a + c*c - 1) < 0.01) type = 'Rotation';
            else if (Math.abs(a - d) < 0.01 && Math.abs(b) < 0.01 && Math.abs(c) < 0.01) type = 'Uniform Scaling';
            else if (Math.abs(det - 1) < 0.01) type = 'Area-preserving';
            else if (Math.abs(det) < 0.01) type = 'Singular (collapses dimension)';
            
            document.getElementById('matrixType').textContent = type;
        }

        function resetTransform() {
            applyPreset('identity');
        }

        function animateTransform() {
            let t = 0;
            const startMatrix = [[1, 0], [0, 1]];
            const endMatrix = transformMatrix;
            
            function animate() {
                t += 0.02;
                if (t >= 1) {
                    transformMatrix = endMatrix;
                    updateMatrixInputs();
                    updateMatrixDisplay();
                    drawTransform();
                    return;
                }
                
                const [[a1, b1], [c1, d1]] = startMatrix;
                const [[a2, b2], [c2, d2]] = endMatrix;
                
                transformMatrix = [
                    [a1 + (a2 - a1) * t, b1 + (b2 - b1) * t],
                    [c1 + (c2 - c1) * t, d1 + (d2 - d1) * t]
                ];
                
                updateMatrixInputs();
                updateMatrixDisplay();
                drawTransform();
                
                requestAnimationFrame(animate);
            }
            
            animate();
        }

        // Matrix Operations
        function multiplyMatrices() {
            const a11 = parseFloat(document.getElementById('a11').value);
            const a12 = parseFloat(document.getElementById('a12').value);
            const a21 = parseFloat(document.getElementById('a21').value);
            const a22 = parseFloat(document.getElementById('a22').value);
            
            const b11 = parseFloat(document.getElementById('b11').value);
            const b12 = parseFloat(document.getElementById('b12').value);
            const b21 = parseFloat(document.getElementById('b21').value);
            const b22 = parseFloat(document.getElementById('b22').value);
            
            const c11 = a11 * b11 + a12 * b21;
            const c12 = a11 * b12 + a12 * b22;
            const c21 = a21 * b11 + a22 * b21;
            const c22 = a21 * b12 + a22 * b22;
            
            document.getElementById('multiplicationResult').innerHTML = `
                <strong>Result (A √ó B):</strong><br>
                [${c11.toFixed(2)}  ${c12.toFixed(2)}]<br>
                [${c21.toFixed(2)}  ${c22.toFixed(2)}]
            `;
            document.getElementById('multiplicationResult').style.display = 'block';
            
            document.getElementById('multiplicationSteps').innerHTML = `
                <div class="info-box">
                    <strong>Step-by-Step Calculation:</strong><br><br>
                    <strong>Element (1,1):</strong> ${a11} √ó ${b11} + ${a12} √ó ${b21} = ${c11.toFixed(2)}<br>
                    <strong>Element (1,2):</strong> ${a11} √ó ${b12} + ${a12} √ó ${b22} = ${c12.toFixed(2)}<br>
                    <strong>Element (2,1):</strong> ${a21} √ó ${b11} + ${a22} √ó ${b21} = ${c21.toFixed(2)}<br>
                    <strong>Element (2,2):</strong> ${a21} √ó ${b12} + ${a22} √ó ${b22} = ${c22.toFixed(2)}
                </div>
            `;
            document.getElementById('multiplicationSteps').style.display = 'block';
        }

        function calculateDeterminant() {
            const a = parseFloat(document.getElementById('det11').value);
            const b = parseFloat(document.getElementById('det12').value);
            const c = parseFloat(document.getElementById('det21').value);
            const d = parseFloat(document.getElementById('det22').value);
            
            const det = a * d - b * c;
            
            document.getElementById('detResultValue').textContent = det.toFixed(4);
            document.getElementById('detCalculation').innerHTML = 
                `(${a}) √ó (${d}) - (${b}) √ó (${c}) = ${(a*d).toFixed(2)} - ${(b*c).toFixed(2)} = ${det.toFixed(4)}`;
            
            let interpretation = '';
            if (Math.abs(det) < 0.0001) {
                interpretation = 'üî¥ <strong>Singular matrix!</strong> The transformation collapses space to a lower dimension. This matrix has no inverse.';
            } else if (Math.abs(det) > 1) {
                interpretation = `üü¢ <strong>Expands area</strong> by a factor of ${Math.abs(det).toFixed(2)}. ` + 
                    (det < 0 ? 'Also <strong>flips orientation</strong>.' : 'Preserves orientation.');
            } else {
                interpretation = `üü° <strong>Shrinks area</strong> by a factor of ${Math.abs(det).toFixed(2)}. ` + 
                    (det < 0 ? 'Also <strong>flips orientation</strong>.' : 'Preserves orientation.');
            }
            
            document.getElementById('detInterpretation').innerHTML = interpretation;
            document.getElementById('determinantResult').style.display = 'block';
        }

        function calculateInverse() {
            const a = parseFloat(document.getElementById('inv11').value);
            const b = parseFloat(document.getElementById('inv12').value);
            const c = parseFloat(document.getElementById('inv21').value);
            const d = parseFloat(document.getElementById('inv22').value);
            
            const det = a * d - b * c;
            
            if (Math.abs(det) < 0.0001) {
                document.getElementById('inverseSteps').innerHTML = `
                    <strong>‚ùå Cannot compute inverse!</strong><br>
                    The determinant is ${det.toFixed(6)} ‚âà 0, which means this matrix is singular and has no inverse.
                `;
                document.getElementById('inverseSteps').style.display = 'block';
                document.getElementById('inverseResult').style.display = 'none';
                return;
            }
            
            const inv_a = d / det;
            const inv_b = -b / det;
            const inv_c = -c / det;
            const inv_d = a / det;
            
            document.getElementById('inverseMatrix').innerHTML = `
                [${inv_a.toFixed(4)}  ${inv_b.toFixed(4)}]<br>
                [${inv_c.toFixed(4)}  ${inv_d.toFixed(4)}]
            `;
            document.getElementById('inverseResult').style.display = 'block';
            
            document.getElementById('inverseSteps').innerHTML = `
                <strong>Formula for 2√ó2 Inverse:</strong><br>
                A‚Åª¬π = (1/det(A)) √ó [d  -b]<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[-c  a]<br><br>
                <strong>Calculation:</strong><br>
                det = ${det.toFixed(4)}<br>
                1/det = ${(1/det).toFixed(4)}<br><br>
                <strong>Verification: A √ó A‚Åª¬π = I</strong><br>
                (Try multiplying them to verify!)
            `;
            document.getElementById('inverseSteps').style.display = 'block';
        }

        function solveSystem() {
            const a11 = parseFloat(document.getElementById('sys11').value);
            const a12 = parseFloat(document.getElementById('sys12').value);
            const a21 = parseFloat(document.getElementById('sys21').value);
            const a22 = parseFloat(document.getElementById('sys22').value);
            const b1 = parseFloat(document.getElementById('b1').value);
            const b2 = parseFloat(document.getElementById('b2').value);
            
            const det = a11 * a22 - a12 * a21;
            
            if (Math.abs(det) < 0.0001) {
                alert('System has no unique solution (determinant ‚âà 0)');
                return;
            }
            
            const x1 = (a22 * b1 - a12 * b2) / det;
            const x2 = (a11 * b2 - a21 * b1) / det;
            
            document.getElementById('solutionVector').innerHTML = `[${x1.toFixed(4)}, ${x2.toFixed(4)}]·µÄ`;
            
            document.getElementById('equationSystem').innerHTML = `
                ${a11}x + ${a12}y = ${b1}<br>
                ${a21}x + ${a22}y = ${b2}<br><br>
                <strong>Solution:</strong><br>
                x = ${x1.toFixed(4)}<br>
                y = ${x2.toFixed(4)}<br><br>
                <strong>Verification:</strong><br>
                Equation 1: ${a11}(${x1.toFixed(2)}) + ${a12}(${x2.toFixed(2)}) = ${(a11*x1 + a12*x2).toFixed(2)} ‚úì<br>
                Equation 2: ${a21}(${x1.toFixed(2)}) + ${a22}(${x2.toFixed(2)}) = ${(a21*x1 + a22*x2).toFixed(2)} ‚úì
            `;
            
            document.getElementById('systemResult').style.display = 'block';
        }

        // Eigenvalue functions
        function calculateEigenvalues() {
            const a = parseFloat(document.getElementById('eig11').value);
            const b = parseFloat(document.getElementById('eig12').value);
            const c = parseFloat(document.getElementById('eig21').value);
            const d = parseFloat(document.getElementById('eig22').value);
            
            eigenMatrix = [[a, b], [c, d]];
            
            // Characteristic equation: Œª¬≤ - (a+d)Œª + (ad-bc) = 0
            const trace = a + d;
            const det = a * d - b * c;
            
            // Quadratic formula
            const discriminant = trace * trace - 4 * det;
            
            let lambda1, lambda2;
            let eigenHTML = '';
            
            if (discriminant >= 0) {
                lambda1 = (trace + Math.sqrt(discriminant)) / 2;
                lambda2 = (trace - Math.sqrt(discriminant)) / 2;
                
                eigenHTML = `
                    <strong>Eigenvalue Œª‚ÇÅ:</strong> ${lambda1.toFixed(4)}<br>
                    <strong>Eigenvalue Œª‚ÇÇ:</strong> ${lambda2.toFixed(4)}<br><br>
                    <strong>Properties:</strong><br>
                    Sum: Œª‚ÇÅ + Œª‚ÇÇ = ${(lambda1 + lambda2).toFixed(4)} = trace(A) = ${trace.toFixed(4)} ‚úì<br>
                    Product: Œª‚ÇÅ √ó Œª‚ÇÇ = ${(lambda1 * lambda2).toFixed(4)} = det(A) = ${det.toFixed(4)} ‚úì
                `;
            } else {
                const realPart = trace / 2;
                const imagPart = Math.sqrt(-discriminant) / 2;
                
                eigenHTML = `
                    <strong>Complex Eigenvalues!</strong><br>
                    Œª‚ÇÅ = ${realPart.toFixed(4)} + ${imagPart.toFixed(4)}i<br>
                    Œª‚ÇÇ = ${realPart.toFixed(4)} - ${imagPart.toFixed(4)}i<br><br>
                    <strong>This indicates a rotation component!</strong><br>
                    Real part: ${realPart.toFixed(4)} (scaling)<br>
                    Imaginary part: ¬±${imagPart.toFixed(4)} (rotation)
                `;
            }
            
            document.getElementById('eigenvaluesList').innerHTML = eigenHTML;
            document.getElementById('charEquation').innerHTML = 
                `Œª¬≤ - (${trace.toFixed(2)})Œª + (${det.toFixed(2)}) = 0<br>
                Discriminant = ${discriminant.toFixed(4)}`;
            
            document.getElementById('eigenResult').style.display = 'block';
            
            drawEigenvectors();
        }

        function drawEigenvectors() {
            const canvas = document.getElementById('eigenCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const w = canvas.width;
            const h = canvas.height;
            const centerX = w / 2;
            const centerY = h / 2;
            const scale = 100;
            
            ctx.clearRect(0, 0, w, h);
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(w, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, h);
            ctx.stroke();
            
            const [[a, b], [c, d]] = eigenMatrix;
            
            // Calculate eigenvalues
            const trace = a + d;
            const det = a * d - b * c;
            const discriminant = trace * trace - 4 * det;
            
            if (discriminant >= 0) {
                const lambda1 = (trace + Math.sqrt(discriminant)) / 2;
                const lambda2 = (trace - Math.sqrt(discriminant)) / 2;
                
                // Find eigenvectors
                // For Œª‚ÇÅ: (A - Œª‚ÇÅI)v = 0
                let v1x, v1y;
                if (Math.abs(b) > 0.001) {
                    v1x = 1;
                    v1y = (lambda1 - a) / b;
                } else if (Math.abs(c) > 0.001) {
                    v1x = (lambda1 - d) / c;
                    v1y = 1;
                } else {
                    v1x = 1;
                    v1y = 0;
                }
                
                // Normalize
                const norm1 = Math.sqrt(v1x * v1x + v1y * v1y);
                v1x /= norm1;
                v1y /= norm1;
                
                // For Œª‚ÇÇ
                let v2x, v2y;
                if (Math.abs(b) > 0.001) {
                    v2x = 1;
                    v2y = (lambda2 - a) / b;
                } else if (Math.abs(c) > 0.001) {
                    v2x = (lambda2 - d) / c;
                    v2y = 1;
                } else {
                    v2x = 0;
                    v2y = 1;
                }
                
                const norm2 = Math.sqrt(v2x * v2x + v2y * v2y);
                v2x /= norm2;
                v2y /= norm2;
                
                // Draw eigenvectors
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 4;
                drawVector(ctx, centerX, centerY, v1x * scale * 1.5, -v1y * scale * 1.5, '#e74c3c');
                drawVector(ctx, centerX, centerY, -v1x * scale * 1.5, v1y * scale * 1.5, '#e74c3c');
                
                ctx.strokeStyle = '#f39c12';
                drawVector(ctx, centerX, centerY, v2x * scale * 1.5, -v2y * scale * 1.5, '#f39c12');
                drawVector(ctx, centerX, centerY, -v2x * scale * 1.5, v2y * scale * 1.5, '#f39c12');
                
                // Draw some regular vectors and their transformations
                for (let angle = 0; angle < 2 * Math.PI; angle += Math.PI / 6) {
                    const vx = Math.cos(angle);
                    const vy = Math.sin(angle);
                    
                    // Transformed vector
                    const tvx = a * vx + b * vy;
                    const tvy = c * vx + d * vy;
                    
                    // Draw original (light blue)
                    ctx.strokeStyle = 'rgba(52, 152, 219, 0.3)';
                    ctx.lineWidth = 2;
                    drawVector(ctx, centerX, centerY, vx * scale, -vy * scale, 'rgba(52, 152, 219, 0.3)');
                    
                    // Draw transformed (blue)
                    ctx.strokeStyle = '#3498db';
                    drawVector(ctx, centerX, centerY, tvx * scale, -tvy * scale, '#3498db');
                }
            } else {
                // Complex eigenvalues - draw rotation effect
                ctx.font = 'bold 20px Arial';
                ctx.fillStyle = '#e74c3c';
                ctx.textAlign = 'center';
                ctx.fillText('Complex Eigenvalues - Rotation Component', centerX, 50);
                
                // Draw spiral pattern to show rotation
                for (let angle = 0; angle < 2 * Math.PI; angle += Math.PI / 8) {
                    const vx = Math.cos(angle);
                    const vy = Math.sin(angle);
                    
                    const tvx = a * vx + b * vy;
                    const tvy = c * vx + d * vy;
                    
                    ctx.strokeStyle = 'rgba(52, 152, 219, 0.3)';
                    ctx.lineWidth = 2;
                    drawVector(ctx, centerX, centerY, vx * scale, -vy * scale, 'rgba(52, 152, 219, 0.3)');
                    
                    ctx.strokeStyle = '#3498db';
                    drawVector(ctx, centerX, centerY, tvx * scale, -tvy * scale, '#3498db');
                }
            }
        }

        function drawVector(ctx, x1, y1, dx, dy, color) {
            const x2 = x1 + dx;
            const y2 = y1 + dy;
            
            ctx.strokeStyle = color;
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            drawArrow(ctx, x1, y1, x2, y2, color);
        }

        function loadEigenExample(type) {
            let matrix;
            switch(type) {
                case 'diagonal':
                    matrix = [[2, 0], [0, 3]];
                    break;
                case 'rotation':
                    matrix = [[0, -1], [1, 0]];
                    break;
                case 'shear':
                    matrix = [[1, 1], [0, 1]];
                    break;
                case 'symmetric':
                    matrix = [[3, 1], [1, 3]];
                    break;
            }
            
            document.getElementById('eig11').value = matrix[0][0];
            document.getElementById('eig12').value = matrix[0][1];
            document.getElementById('eig21').value = matrix[1][0];
            document.getElementById('eig22').value = matrix[1][1];
            
            eigenMatrix = matrix;
            calculateEigenvalues();
        }

        function animateEigenvectors() {
            // Animation would go here - similar to transform animation
            alert('Animation feature - shows how eigenvectors only scale, not rotate!');
        }

        // Practice Questions
        function loadQuestion() {
            const q = practiceQuestions[currentQuestionIndex];
            const questionHTML = `
                <h4>Question ${currentQuestionIndex + 1} of ${practiceQuestions.length}</h4>
                <p style="font-size: 1.2em; margin: 20px 0;">${q.question}</p>
                <div class="options-grid">
                    ${q.options.map((opt, i) => `
                        <button class="option-btn" onclick="checkAnswer(${i})">${opt}</button>
                    `).join('')}
                </div>
                <div id="feedback"></div>
            `;
            
            document.getElementById('currentQuestion').innerHTML = questionHTML;
        }

        function checkAnswer(selected) {
            const q = practiceQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.option-btn');
            const feedback = document.getElementById('feedback');
            
            totalQuestions++;
            
            options.forEach((btn, i) => {
                btn.disabled = true;
                if (i === q.correct) {
                    btn.classList.add('correct');
                } else if (i === selected) {
                    btn.classList.add('incorrect');
                }
            });
            
            if (selected === q.correct) {
                correctAnswers++;
                feedback.innerHTML = `
                    <div class="feedback correct">
                        ‚úÖ Correct! ${q.explanation}
                    </div>
                    <button class="btn btn-primary" onclick="nextQuestion()">Next Question ‚Üí</button>
                `;
            } else {
                feedback.innerHTML = `
                    <div class="feedback incorrect">
                        ‚ùå Not quite. ${q.explanation}
                    </div>
                    <button class="btn btn-primary" onclick="nextQuestion()">Next Question ‚Üí</button>
                `;
            }
            
            updateScore();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex >= practiceQuestions.length) {
                const percentage = Math.round((correctAnswers / totalQuestions) * 100);
                document.getElementById('currentQuestion').innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <h3 style="color: #4facfe; font-size: 2em; margin-bottom: 20px;">üéâ Quiz Complete!</h3>
                        <p style="font-size: 1.3em; margin: 20px 0;">Great job working through these problems!</p>
                        <div class="score-display" style="max-width: 400px; margin: 30px auto;">
                            <div style="font-size: 1.5em; margin: 10px 0;">Your Score: <strong>${percentage}%</strong></div>
                            <div style="font-size: 1.2em; margin: 10px 0;">Correct: ${correctAnswers} / ${totalQuestions}</div>
                        </div>
                        <button class="btn btn-primary" onclick="restartQuiz()" style="font-size: 1.3em; padding: 20px 50px;">
                            üîÑ Try Again
                        </button>
                    </div>
                `;
            } else {
                loadQuestion();
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            totalQuestions = 0;
            loadQuestion();
            updateScore();
        }

        function updateScore() {
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('totalCount').textContent = totalQuestions;
            const percentage = totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) : 0;
            document.getElementById('percentage').textContent = percentage + '%';
        }

        // Initialize on load
        window.onload = function() {
            updateMatrixDisplay();
            drawTransform();
        };
    </script>
</body>
</html>