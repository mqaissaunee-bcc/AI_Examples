<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive lesson on CMMC 2.0 Information Classification for CompTIA Security+ students">
    <title>CMMC 2.0 Information Classification | Security+ Training Module</title>
    <style>
        /* CSS Custom Properties - Web Safe Colors with AAA Contrast */
        :root {
            --primary-dark: #003366;
            --primary-medium: #336699;
            --primary-light: #6699CC;
            --accent-gold: #CC9900;
            --accent-orange: #CC6600;
            --success-green: #006633;
            --warning-red: #CC3300;
            --neutral-dark: #333333;
            --neutral-medium: #666666;
            --neutral-light: #999999;
            --bg-cream: #FFFFCC;
            --bg-white: #FFFFFF;
            --bg-light-blue: #E6F0FF;
            --border-color: #CCCCCC;
            --shadow-color: rgba(0, 51, 102, 0.15);
            --focus-ring: #0066CC;
            --font-display: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --font-body: Georgia, 'Times New Roman', serif;
            --font-mono: 'Consolas', 'Courier New', monospace;
        }

        /* Reset and Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            font-size: 18px;
            line-height: 1.7;
            color: var(--neutral-dark);
            background: linear-gradient(135deg, var(--bg-light-blue) 0%, var(--bg-white) 50%, var(--bg-cream) 100%);
            min-height: 100vh;
        }

        /* Skip Link for Accessibility */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 12px 24px;
            border-radius: 0 0 8px 8px;
            text-decoration: none;
            font-family: var(--font-display);
            font-weight: 600;
            z-index: 1000;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 0;
            outline: 3px solid var(--accent-gold);
            outline-offset: 2px;
        }

        /* Focus Styles for Accessibility */
        *:focus {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        *:focus:not(:focus-visible) {
            outline: none;
        }

        *:focus-visible {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* Header */
        header {
            background: linear-gradient(180deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--bg-white);
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 20px var(--shadow-color);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 20px,
                rgba(255,255,255,0.03) 20px,
                rgba(255,255,255,0.03) 40px
            );
            pointer-events: none;
        }

        header h1 {
            font-family: var(--font-display);
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
            position: relative;
        }

        .header-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            font-style: italic;
        }

        .badge-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .badge {
            background: var(--accent-gold);
            color: var(--primary-dark);
            padding: 6px 16px;
            border-radius: 20px;
            font-family: var(--font-display);
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Navigation */
        nav {
            background: var(--bg-white);
            border-bottom: 3px solid var(--primary-light);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            display: block;
            padding: 10px 20px;
            color: var(--primary-dark);
            text-decoration: none;
            font-family: var(--font-display);
            font-weight: 600;
            border-radius: 6px;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        nav a:hover,
        nav a:focus {
            background: var(--bg-light-blue);
            border-color: var(--primary-light);
        }

        nav a[aria-current="page"] {
            background: var(--primary-dark);
            color: var(--bg-white);
        }

        /* Main Content */
        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section Styling */
        section {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px var(--shadow-color);
            border: 1px solid var(--border-color);
        }

        section h2 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            color: var(--primary-dark);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--accent-gold);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        section h2::before {
            content: attr(data-icon);
            font-size: 1.5rem;
        }

        section h3 {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--primary-medium);
            margin: 30px 0 15px;
        }

        section h4 {
            font-family: var(--font-display);
            font-size: 1.1rem;
            color: var(--neutral-dark);
            margin: 20px 0 10px;
        }

        p {
            margin-bottom: 15px;
        }

        /* Definition Boxes */
        .definition-box {
            background: linear-gradient(135deg, var(--bg-light-blue) 0%, var(--bg-white) 100%);
            border-left: 5px solid var(--primary-dark);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }

        .definition-box h4 {
            color: var(--primary-dark);
            margin-top: 0;
            font-size: 1.2rem;
        }

        .definition-box.fci {
            border-left-color: var(--primary-medium);
            background: linear-gradient(135deg, #E6F0FF 0%, var(--bg-white) 100%);
        }

        .definition-box.cui-basic {
            border-left-color: var(--accent-gold);
            background: linear-gradient(135deg, #FFF9E6 0%, var(--bg-white) 100%);
        }

        .definition-box.cui-specified {
            border-left-color: var(--accent-orange);
            background: linear-gradient(135deg, #FFF0E6 0%, var(--bg-white) 100%);
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 25px 0;
            font-size: 0.95rem;
        }

        .comparison-table caption {
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 1.1rem;
            padding: 15px;
            background: var(--primary-dark);
            color: var(--bg-white);
            border-radius: 8px 8px 0 0;
            text-align: left;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--primary-medium);
            color: var(--bg-white);
            font-family: var(--font-display);
            font-weight: 600;
        }

        .comparison-table tbody tr:nth-child(even) {
            background: var(--bg-light-blue);
        }

        .comparison-table tbody tr:hover {
            background: var(--bg-cream);
        }

        .comparison-table td:first-child {
            font-weight: 600;
            color: var(--primary-dark);
        }

        /* CMMC Level Cards */
        .level-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .level-card {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .level-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow-color);
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
        }

        .level-card.level-1::before {
            background: var(--primary-light);
        }

        .level-card.level-2::before {
            background: var(--accent-gold);
        }

        .level-card.level-3::before {
            background: var(--accent-orange);
        }

        .level-card h4 {
            font-family: var(--font-display);
            font-size: 1.3rem;
            margin: 0 0 15px;
        }

        .level-card .level-number {
            display: inline-block;
            background: var(--primary-dark);
            color: var(--bg-white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-family: var(--font-display);
            font-weight: 700;
            margin-right: 10px;
        }

        .level-card ul {
            margin-left: 20px;
            margin-top: 15px;
        }

        .level-card li {
            margin-bottom: 8px;
        }

        /* Key Points Box */
        .key-points {
            background: var(--bg-cream);
            border: 2px solid var(--accent-gold);
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .key-points h4 {
            color: var(--primary-dark);
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points ul {
            margin-left: 25px;
        }

        .key-points li {
            margin-bottom: 10px;
        }

        /* Code/Reference Styling */
        code {
            font-family: var(--font-mono);
            background: var(--bg-light-blue);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--primary-dark);
        }

        /* Assignment Section */
        #assignment {
            border: 3px solid var(--primary-dark);
        }

        .assignment-intro {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--bg-white);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .assignment-intro h3 {
            color: var(--bg-white);
            margin-top: 0;
        }

        /* Progress Bar */
        .progress-container {
            background: var(--border-color);
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--success-green) 0%, var(--primary-medium) 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--neutral-dark);
        }

        /* Question Card */
        .question-card {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            transition: border-color 0.3s ease;
        }

        .question-card.answered {
            border-color: var(--success-green);
            background: linear-gradient(135deg, #E6FFE6 0%, var(--bg-white) 100%);
        }

        .question-card.incorrect {
            border-color: var(--warning-red);
            background: linear-gradient(135deg, #FFE6E6 0%, var(--bg-white) 100%);
        }

        .question-number {
            display: inline-block;
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 5px 15px;
            border-radius: 20px;
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .question-scenario {
            background: var(--bg-light-blue);
            border-left: 4px solid var(--primary-medium);
            padding: 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }

        .question-prompt {
            font-weight: 600;
            color: var(--primary-dark);
            margin: 20px 0 15px;
        }

        /* Radio Button Group */
        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-label {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 15px;
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option-label:hover {
            background: var(--bg-light-blue);
            border-color: var(--primary-light);
        }

        .option-label input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            accent-color: var(--primary-dark);
        }

        .option-label.selected {
            background: var(--bg-light-blue);
            border-color: var(--primary-dark);
        }

        .option-label.correct {
            background: #E6FFE6;
            border-color: var(--success-green);
        }

        .option-label.wrong {
            background: #FFE6E6;
            border-color: var(--warning-red);
        }

        /* Justification Textarea */
        .justification-group {
            margin-top: 20px;
        }

        .justification-group label {
            display: block;
            font-family: var(--font-display);
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .justification-group textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            font-family: var(--font-body);
            font-size: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            resize: vertical;
            transition: border-color 0.2s ease;
        }

        .justification-group textarea:focus {
            border-color: var(--primary-dark);
        }

        /* Feedback Box */
        .feedback-box {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            display: none;
        }

        .feedback-box.correct {
            background: #E6FFE6;
            border: 2px solid var(--success-green);
            display: block;
        }

        .feedback-box.incorrect {
            background: #FFE6E6;
            border: 2px solid var(--warning-red);
            display: block;
        }

        .feedback-box h5 {
            font-family: var(--font-display);
            margin-bottom: 10px;
        }

        .feedback-box.correct h5 {
            color: var(--success-green);
        }

        .feedback-box.incorrect h5 {
            color: var(--warning-red);
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--primary-dark);
            color: var(--bg-white);
        }

        .btn-primary:hover,
        .btn-primary:focus {
            background: var(--primary-medium);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--primary-dark);
            border: 2px solid var(--primary-dark);
        }

        .btn-secondary:hover,
        .btn-secondary:focus {
            background: var(--bg-light-blue);
        }

        .btn-success {
            background: var(--success-green);
            color: var(--bg-white);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* Results Section */
        #results {
            display: none;
        }

        #results.visible {
            display: block;
        }

        .results-summary {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--bg-white);
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
        }

        .score-display {
            font-family: var(--font-display);
            font-size: 4rem;
            font-weight: 700;
            margin: 20px 0;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .breakdown-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
        }

        .breakdown-item h4 {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .breakdown-item .number {
            font-size: 2rem;
            font-weight: 700;
        }

        /* Accordion for Review */
        .accordion {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .accordion-header {
            background: var(--bg-light-blue);
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-display);
            font-weight: 600;
            border: none;
            width: 100%;
            text-align: left;
            font-size: 1rem;
        }

        .accordion-header:hover {
            background: var(--bg-cream);
        }

        .accordion-header .status-icon {
            font-size: 1.2rem;
        }

        .accordion-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .accordion.open .accordion-content {
            max-height: 1000px;
            padding: 20px;
        }

        .accordion-header .arrow {
            transition: transform 0.3s ease;
        }

        .accordion.open .accordion-header .arrow {
            transform: rotate(180deg);
        }

        /* Footer */
        footer {
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 40px 20px;
            text-align: center;
        }

        footer p {
            margin-bottom: 10px;
            opacity: 0.9;
        }

        footer a {
            color: var(--accent-gold);
        }

        /* Utility Classes */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .text-center {
            text-align: center;
        }

        /* Print Styles - Only show results */
        @media print {
            /* Hide everything by default */
            body * {
                visibility: hidden;
            }
            
            /* Show only results section and its contents */
            #results,
            #results * {
                visibility: visible;
            }
            
            /* Position results at top of page */
            #results {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            
            /* Hide navigation, buttons, skip link */
            nav, .skip-link, header, footer,
            #learning-objectives, #data-classifications, 
            #fci-section, #cui-section, #cmmc-levels, #assignment {
                display: none !important;
            }
            
            /* Hide buttons in results */
            #results .button-group,
            #results .btn,
            .submission-info {
                display: none !important;
            }
            
            /* Style adjustments for print */
            #results {
                padding: 20px;
                background: white !important;
            }
            
            .results-summary {
                background: #f0f0f0 !important;
                color: black !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .results-summary h3,
            .results-summary h4,
            .results-summary p,
            .results-summary .score-display,
            .results-summary .number,
            #studentNameDisplay {
                color: black !important;
            }
            
            .accordion {
                break-inside: avoid;
                border: 1px solid #000;
                margin-bottom: 10px;
            }
            
            .accordion-content {
                max-height: none !important;
                padding: 15px !important;
            }
            
            .accordion-header .arrow {
                display: none;
            }
            
            section {
                box-shadow: none;
                border: 1px solid #000;
            }
            
            /* Add header for print */
            #results::before {
                content: "CMMC 2.0 Information Classification Exercise - Assessment Results";
                display: block;
                font-size: 18pt;
                font-weight: bold;
                text-align: center;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 2px solid black;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            section {
                padding: 25px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .comparison-table {
                font-size: 0.85rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 10px;
            }
            
            .level-cards {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            :root {
                --border-color: #000000;
                --shadow-color: rgba(0, 0, 0, 0.3);
            }
            
            .option-label,
            .question-card,
            section {
                border-width: 3px;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            html {
                scroll-behavior: auto;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header role="banner">
        <h1>CMMC 2.0 Information Classification</h1>
        <p class="header-subtitle">Interactive Training Module for CompTIA Security+ Students</p>
        <div class="badge-container">
            <span class="badge">Security+ SY0-701</span>
            <span class="badge">CMMC 2.0</span>
            <span class="badge">DoD Compliance</span>
        </div>
    </header>
    
    <nav role="navigation" aria-label="Main navigation">
        <ul>
            <li><a href="#learning-objectives" aria-current="page">Objectives</a></li>
            <li><a href="#data-classifications">Classifications</a></li>
            <li><a href="#fci-section">FCI</a></li>
            <li><a href="#cui-section">CUI</a></li>
            <li><a href="#cmmc-levels">CMMC Levels</a></li>
            <li><a href="#assignment">Assignment</a></li>
        </ul>
    </nav>
    
    <main id="main-content" role="main">
        <!-- Learning Objectives Section -->
        <section id="learning-objectives" aria-labelledby="objectives-heading">
            <h2 id="objectives-heading" data-icon="üéØ">Learning Objectives</h2>
            
            <p>Upon completing this module, you will be able to:</p>
            
            <div class="key-points">
                <h4>üîë Key Learning Goals</h4>
                <ul>
                    <li><strong>Define and differentiate</strong> between Federal Contract Information (FCI) and Controlled Unclassified Information (CUI)</li>
                    <li><strong>Explain</strong> the legal basis for FCI protection under FAR 52.204-21</li>
                    <li><strong>Navigate</strong> the NARA CUI Registry to identify CUI categories</li>
                    <li><strong>Distinguish</strong> between CUI Basic and CUI Specified handling requirements</li>
                    <li><strong>Determine</strong> appropriate CMMC levels required for different data types</li>
                    <li><strong>Apply</strong> classification principles to real-world scenarios</li>
                </ul>
            </div>
            
            <h3>Connection to Security+ Exam Objectives</h3>
            <p>This module directly addresses the following CompTIA Security+ (SY0-701) exam objectives:</p>
            
            <table class="comparison-table" role="table">
                <caption>Security+ Exam Objective Mapping</caption>
                <thead>
                    <tr>
                        <th scope="col">Domain</th>
                        <th scope="col">Objective</th>
                        <th scope="col">Topics Covered</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>3.3</td>
                        <td>Data Types and Classifications</td>
                        <td>Public, Private, Sensitive, Confidential, Critical, Restricted classifications</td>
                    </tr>
                    <tr>
                        <td>3.3</td>
                        <td>States of Data</td>
                        <td>Data at rest, data in transit, data in use protections</td>
                    </tr>
                    <tr>
                        <td>5.1</td>
                        <td>Compliance Requirements</td>
                        <td>Government regulations, industry standards, handling procedures</td>
                    </tr>
                    <tr>
                        <td>5.4</td>
                        <td>Data Privacy and Protection</td>
                        <td>Labeling, classification, retention, disposal procedures</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Data Classifications Overview -->
        <section id="data-classifications" aria-labelledby="classifications-heading">
            <h2 id="classifications-heading" data-icon="üìä">Data Classifications Overview</h2>
            
            <p>Data classification is the process of organizing data into categories based on its sensitivity level and the impact if the data were disclosed, altered, or destroyed without authorization. Proper classification ensures that data receives appropriate security controls proportional to its sensitivity.</p>
            
            <h3>Standard Classification Levels</h3>
            
            <table class="comparison-table" role="table">
                <caption>Data Classification Hierarchy</caption>
                <thead>
                    <tr>
                        <th scope="col">Level</th>
                        <th scope="col">Description</th>
                        <th scope="col">Examples</th>
                        <th scope="col">Handling</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Public</td>
                        <td>Information intended for public release with no adverse impact</td>
                        <td>Press releases, marketing materials, public websites</td>
                        <td>No special controls required</td>
                    </tr>
                    <tr>
                        <td>Internal/Private</td>
                        <td>Organizational information not intended for public disclosure</td>
                        <td>Internal policies, org charts, process documentation</td>
                        <td>Basic access controls, internal use only</td>
                    </tr>
                    <tr>
                        <td>Confidential</td>
                        <td>Sensitive information requiring protection from unauthorized disclosure</td>
                        <td>Financial data, employee records, customer information</td>
                        <td>Encryption, access logging, need-to-know basis</td>
                    </tr>
                    <tr>
                        <td>Restricted/Critical</td>
                        <td>Highly sensitive information with significant impact if compromised</td>
                        <td>Trade secrets, classified government data, critical infrastructure</td>
                        <td>Strict access controls, encryption, audit trails</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Data States</h3>
            <p>Security controls must protect data in all three states:</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4><span class="level-number" aria-hidden="true">1</span>Data at Rest</h4>
                    <p>Data stored on physical or digital media (hard drives, databases, backup tapes)</p>
                    <ul>
                        <li>Full Disk Encryption (FDE)</li>
                        <li>File-level encryption</li>
                        <li>Database encryption</li>
                        <li>Physical security controls</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4><span class="level-number" aria-hidden="true">2</span>Data in Transit</h4>
                    <p>Data being transmitted across networks or between systems</p>
                    <ul>
                        <li>TLS/SSL encryption</li>
                        <li>VPN tunnels</li>
                        <li>Secure email (S/MIME, PGP)</li>
                        <li>SFTP/SCP protocols</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4><span class="level-number" aria-hidden="true">3</span>Data in Use</h4>
                    <p>Data actively being processed or accessed by applications</p>
                    <ul>
                        <li>Memory encryption</li>
                        <li>Secure enclaves</li>
                        <li>Access controls</li>
                        <li>Session management</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- FCI Section -->
        <section id="fci-section" aria-labelledby="fci-heading">
            <h2 id="fci-heading" data-icon="üìÑ">Federal Contract Information (FCI)</h2>
            
            <div class="definition-box fci">
                <h4>Official Definition (FAR 52.204-21)</h4>
                <p><strong>Federal Contract Information (FCI)</strong> means information, not intended for public release, that is provided by or generated for the Government under a contract to develop or deliver a product or service to the Government, but not including information provided by the Government to the public (such as on public websites) or simple transactional information (such as necessary to process payments).</p>
            </div>
            
            <h3>Key Characteristics of FCI</h3>
            <ul>
                <li><strong>Origin:</strong> Created by contractors or provided by the government during contract performance</li>
                <li><strong>Restriction:</strong> Not intended for public release</li>
                <li><strong>Scope:</strong> Related to developing or delivering products/services to the government</li>
                <li><strong>Protection:</strong> Requires basic safeguarding per FAR 52.204-21</li>
            </ul>
            
            <h3>Examples of FCI</h3>
            <div class="key-points">
                <h4>üìã Common FCI Document Types</h4>
                <ul>
                    <li>Contract performance reports and status updates</li>
                    <li>Organizational charts related to contract work</li>
                    <li>Process documentation for contract deliverables</li>
                    <li>Proposal responses and pricing information</li>
                    <li>Delivery schedules and milestone tracking</li>
                    <li>Invoices and billing documentation</li>
                    <li>Internal project communications about government work</li>
                    <li>Quality assurance documentation</li>
                </ul>
            </div>
            
            <h3>FAR 52.204-21: Basic Safeguarding Requirements</h3>
            <p>The Federal Acquisition Regulation clause 52.204-21 specifies <strong>15 basic security controls</strong> that contractors must implement to protect FCI:</p>
            
            <table class="comparison-table" role="table">
                <caption>FAR 52.204-21 Security Controls Summary</caption>
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Control Category</th>
                        <th scope="col">Requirement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Access Control</td>
                        <td>Limit system access to authorized users</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Access Control</td>
                        <td>Limit access to authorized transaction types</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Access Control</td>
                        <td>Verify/control connections to external systems</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>Access Control</td>
                        <td>Control information on public-facing systems</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>Identification</td>
                        <td>Identify users, processes, and devices</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>Authentication</td>
                        <td>Authenticate identities before granting access</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>Media Protection</td>
                        <td>Sanitize/destroy media before disposal</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>Physical Protection</td>
                        <td>Limit physical access to systems</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>Physical Protection</td>
                        <td>Escort visitors and monitor activity</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>Physical Protection</td>
                        <td>Maintain audit logs of physical access</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>Physical Protection</td>
                        <td>Control and manage physical access devices</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>Communications</td>
                        <td>Monitor/protect communications at boundaries</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>Communications</td>
                        <td>Implement subnetworks for public components</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>System Integrity</td>
                        <td>Identify, report, correct system flaws timely</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>System Integrity</td>
                        <td>Provide malicious code protection</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- CUI Section -->
        <section id="cui-section" aria-labelledby="cui-heading">
            <h2 id="cui-heading" data-icon="üîí">Controlled Unclassified Information (CUI)</h2>
            
            <div class="definition-box">
                <h4>Official Definition (Executive Order 13556)</h4>
                <p><strong>Controlled Unclassified Information (CUI)</strong> is information the Government creates or possesses, or that an entity creates or possesses for or on behalf of the Government, that a law, regulation, or Government-wide policy requires or permits an agency to handle using safeguarding or dissemination controls.</p>
            </div>
            
            <h3>The NARA CUI Registry</h3>
            <p>The <strong>National Archives and Records Administration (NARA)</strong> maintains the official CUI Registry, which serves as the authoritative source for:</p>
            <ul>
                <li>All approved CUI categories and subcategories</li>
                <li>Descriptions and definitions for each category</li>
                <li>The legal basis (law, regulation, policy) for each category</li>
                <li>Required markings and handling procedures</li>
                <li>Whether information is CUI Basic or CUI Specified</li>
            </ul>
            
            <p>The CUI Registry currently contains <strong>over 125 categories</strong> organized into <strong>20 organizational index groupings</strong>, including:</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4>Defense</h4>
                    <ul>
                        <li>Controlled Technical Information</li>
                        <li>Naval Nuclear Propulsion</li>
                        <li>DoD Critical Infrastructure</li>
                    </ul>
                </div>
                <div class="level-card level-2">
                    <h4>Critical Infrastructure</h4>
                    <ul>
                        <li>Chemical-terrorism vulnerability</li>
                        <li>Water assessments</li>
                        <li>Energy security information</li>
                    </ul>
                </div>
                <div class="level-card level-3">
                    <h4>Privacy</h4>
                    <ul>
                        <li>Personally Identifiable Information</li>
                        <li>Health Information (HIPAA)</li>
                        <li>Personnel records</li>
                    </ul>
                </div>
            </div>
            
            <h3>CUI Basic vs. CUI Specified</h3>
            <p>All CUI falls into one of two subsets based on handling requirements:</p>
            
            <div class="definition-box cui-basic">
                <h4>CUI Basic</h4>
                <p><strong>CUI Basic</strong> is the subset of CUI for which the authorizing law, regulation, or Government-wide policy <em>does not</em> set out specific handling or dissemination controls. CUI Basic requires protection according to the uniform set of controls established in 32 CFR Part 2002 and NIST SP 800-171.</p>
                <p><strong>Key Point:</strong> Apply standard NIST 800-171 controls‚Äîno additional special handling required.</p>
            </div>
            
            <div class="definition-box cui-specified">
                <h4>CUI Specified</h4>
                <p><strong>CUI Specified</strong> is the subset of CUI for which the authorizing law, regulation, or Government-wide policy <em>contains specific handling controls</em> that it requires or permits agencies to use that exceed those for CUI Basic.</p>
                <p><strong>Key Point:</strong> Requires NIST 800-171 controls PLUS additional controls specified by the governing authority.</p>
            </div>
            
            <table class="comparison-table" role="table">
                <caption>Comparison: CUI Basic vs. CUI Specified</caption>
                <thead>
                    <tr>
                        <th scope="col">Aspect</th>
                        <th scope="col">CUI Basic</th>
                        <th scope="col">CUI Specified</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Handling Controls</td>
                        <td>Standard CUI Program controls</td>
                        <td>Specific controls from authorizing law/regulation</td>
                    </tr>
                    <tr>
                        <td>Marking</td>
                        <td>CUI or CONTROLLED</td>
                        <td>CUI//SP or specific category marking</td>
                    </tr>
                    <tr>
                        <td>Security Baseline</td>
                        <td>NIST SP 800-171</td>
                        <td>NIST SP 800-171 + additional requirements</td>
                    </tr>
                    <tr>
                        <td>Examples</td>
                        <td>General procurement-sensitive, budget drafts</td>
                        <td>Export-controlled (ITAR/EAR), HIPAA data, tax returns</td>
                    </tr>
                    <tr>
                        <td>Dissemination</td>
                        <td>Standard limited dissemination controls</td>
                        <td>May have specific dissemination restrictions</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Examples of CUI Categories</h3>
            
            <div class="key-points">
                <h4>üìÅ Common CUI Specified Categories</h4>
                <ul>
                    <li><strong>Export Controlled (EXPT):</strong> ITAR/EAR controlled technical data</li>
                    <li><strong>HIPAA:</strong> Protected Health Information</li>
                    <li><strong>Tax (FTI):</strong> Federal Tax Information</li>
                    <li><strong>Privacy (PRVCY):</strong> Specific privacy-protected information</li>
                    <li><strong>Intelligence (INTEL):</strong> Intelligence-related information</li>
                    <li><strong>Patent (PAT):</strong> Unpublished patent applications</li>
                </ul>
            </div>
        </section>

        <!-- CMMC Levels Section -->
        <section id="cmmc-levels" aria-labelledby="cmmc-heading">
            <h2 id="cmmc-heading" data-icon="üõ°Ô∏è">CMMC 2.0 Levels and Requirements</h2>
            
            <p>The <strong>Cybersecurity Maturity Model Certification (CMMC) 2.0</strong> is the Department of Defense's framework for verifying that defense contractors have implemented required security measures to safeguard FCI and CUI. The final rule became effective <strong>December 16, 2024</strong>.</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4><span class="level-number">1</span>Level 1: Foundational</h4>
                    <p><strong>Information Type:</strong> FCI only</p>
                    <p><strong>Controls:</strong> 15 security requirements from FAR 52.204-21</p>
                    <p><strong>Assessment:</strong> Annual self-assessment</p>
                    <p><strong>Estimated Impact:</strong> 63% of DIB contractors</p>
                    <ul>
                        <li>Basic cyber hygiene practices</li>
                        <li>No process maturity requirements</li>
                        <li>Self-attestation in SPRS</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4><span class="level-number">2</span>Level 2: Advanced</h4>
                    <p><strong>Information Type:</strong> CUI</p>
                    <p><strong>Controls:</strong> 110 security requirements from NIST SP 800-171 Rev. 2</p>
                    <p><strong>Assessment:</strong> Self-assessment OR third-party (C3PAO)</p>
                    <p><strong>Estimated Impact:</strong> 36% of DIB contractors</p>
                    <ul>
                        <li>Comprehensive security program</li>
                        <li>Documentation required</li>
                        <li>POA&M allowed for some gaps</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4><span class="level-number">3</span>Level 3: Expert</h4>
                    <p><strong>Information Type:</strong> CUI for critical programs</p>
                    <p><strong>Controls:</strong> 110 + 24 additional from NIST SP 800-172</p>
                    <p><strong>Assessment:</strong> Government-led (DIBCAC)</p>
                    <p><strong>Estimated Impact:</strong> &lt;1% of DIB contractors</p>
                    <ul>
                        <li>Advanced persistent threat (APT) protection</li>
                        <li>Highly sensitive programs</li>
                        <li>Enhanced security measures</li>
                    </ul>
                </div>
            </div>
            
            <h3>Determining Required CMMC Level</h3>
            
            <table class="comparison-table" role="table">
                <caption>CMMC Level Selection Guide</caption>
                <thead>
                    <tr>
                        <th scope="col">If you handle...</th>
                        <th scope="col">Required CMMC Level</th>
                        <th scope="col">Assessment Type</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Only FCI (no CUI)</td>
                        <td>Level 1</td>
                        <td>Self-assessment</td>
                    </tr>
                    <tr>
                        <td>CUI (general protection)</td>
                        <td>Level 2</td>
                        <td>Self-assessment or C3PAO</td>
                    </tr>
                    <tr>
                        <td>CUI requiring higher protection</td>
                        <td>Level 2 (C3PAO)</td>
                        <td>Third-party assessment required</td>
                    </tr>
                    <tr>
                        <td>CUI for critical/high-value programs</td>
                        <td>Level 3</td>
                        <td>Government assessment (DIBCAC)</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="key-points">
                <h4>‚ö†Ô∏è Important Considerations</h4>
                <ul>
                    <li><strong>All CUI is FCI, but not all FCI is CUI</strong> ‚Äî CUI is a more sensitive subset</li>
                    <li><strong>Flowdown requirements</strong> ‚Äî Prime contractors must flow CMMC requirements to subcontractors handling FCI/CUI</li>
                    <li><strong>Scope limitation</strong> ‚Äî Organizations can limit their CMMC scope by isolating FCI/CUI to specific enclaves</li>
                    <li><strong>Phased implementation</strong> ‚Äî CMMC requirements will be phased into contracts over 3 years</li>
                </ul>
            </div>
        </section>

        <!-- Assignment Section -->
        <section id="assignment" aria-labelledby="assignment-heading">
            <h2 id="assignment-heading" data-icon="üìù">Assignment: Information Classification Exercise</h2>
            
            <div class="assignment-intro">
                <h3>Instructions</h3>
                <p>For each of the 20 scenarios below, you must:</p>
                <ol>
                    <li><strong>Classify the information</strong> as: Public, FCI, CUI Basic, or CUI Specified</li>
                    <li><strong>Select the minimum CMMC level</strong> required to handle the information</li>
                    <li><strong>Provide justification</strong> for your classification decision</li>
                </ol>
                <p><strong>Passing Score:</strong> 80% (16 of 20 correct classifications)</p>
            </div>
            
            <div class="student-info" style="background: var(--bg-light-blue); padding: 20px; border-radius: 8px; margin-bottom: 25px; border: 2px solid var(--primary-light);">
                <label for="studentName" style="font-family: var(--font-display); font-weight: 600; color: var(--primary-dark); display: block; margin-bottom: 10px;">
                    Student Name (required for submission):
                </label>
                <input type="text" 
                       id="studentName" 
                       name="studentName" 
                       placeholder="Enter your full name"
                       required
                       aria-required="true"
                       style="width: 100%; max-width: 400px; padding: 12px; font-size: 1rem; border: 2px solid var(--border-color); border-radius: 6px; font-family: var(--font-body);">
                
                <label for="studentEmail" style="font-family: var(--font-display); font-weight: 600; color: var(--primary-dark); display: block; margin: 15px 0 10px;">
                    Student Email (optional):
                </label>
                <input type="email" 
                       id="studentEmail" 
                       name="studentEmail" 
                       placeholder="your.email@example.com"
                       style="width: 100%; max-width: 400px; padding: 12px; font-size: 1rem; border: 2px solid var(--border-color); border-radius: 6px; font-family: var(--font-body);">
            </div>
            
            <div class="progress-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="20" aria-label="Assignment progress">
                <div class="progress-bar" id="progressBar"></div>
                <span class="progress-text" id="progressText">0 of 20 answered</span>
            </div>
            
            <form id="assignmentForm" aria-label="Classification exercise questions">
                <div id="questionsContainer">
                    <!-- Questions will be dynamically inserted here -->
                </div>
                
                <div class="button-group">
                    <button type="button" id="submitBtn" class="btn btn-primary" disabled>Submit Assignment</button>
                    <button type="button" id="resetBtn" class="btn btn-secondary">Reset All Answers</button>
                </div>
            </form>
        </section>

        <!-- Results Section -->
        <section id="results" aria-labelledby="results-heading" aria-live="polite">
            <h2 id="results-heading" data-icon="üìä">Assessment Results</h2>
            
            <div class="results-summary" id="resultsSummary">
                <p id="studentNameDisplay" style="font-size: 1.2rem; margin-bottom: 10px;"></p>
                <h3>Your Score</h3>
                <div class="score-display" id="scoreDisplay">--</div>
                <p id="scoreMessage"></p>
                
                <div class="score-breakdown">
                    <div class="breakdown-item">
                        <h4>Correct</h4>
                        <div class="number" id="correctCount">--</div>
                    </div>
                    <div class="breakdown-item">
                        <h4>Incorrect</h4>
                        <div class="number" id="incorrectCount">--</div>
                    </div>
                    <div class="breakdown-item">
                        <h4>Public</h4>
                        <div class="number" id="publicScore">--</div>
                    </div>
                    <div class="breakdown-item">
                        <h4>FCI</h4>
                        <div class="number" id="fciScore">--</div>
                    </div>
                    <div class="breakdown-item">
                        <h4>CUI Basic</h4>
                        <div class="number" id="cuiBasicScore">--</div>
                    </div>
                    <div class="breakdown-item">
                        <h4>CUI Specified</h4>
                        <div class="number" id="cuiSpecifiedScore">--</div>
                    </div>
                </div>
            </div>
            
            <h3>Question Review</h3>
            <div id="reviewContainer">
                <!-- Review accordions will be inserted here -->
            </div>
            
            <div class="button-group">
                <button type="button" id="retakeBtn" class="btn btn-primary">Retake Assignment</button>
                <button type="button" id="printBtn" class="btn btn-secondary">Print Results</button>
                <button type="button" id="exportBtn" class="btn btn-secondary">Export to File</button>
                <button type="button" id="copyBtn" class="btn btn-secondary">Copy to Clipboard</button>
                <button type="button" id="emailBtn" class="btn btn-secondary">Email Results</button>
            </div>
            
            <div class="submission-info" style="margin-top: 25px; padding: 20px; background: var(--bg-cream); border: 2px solid var(--accent-gold); border-radius: 8px;">
                <h4 style="margin-top: 0; font-family: var(--font-display); color: var(--primary-dark);">üì§ Submitting Your Assignment</h4>
                <p>Choose one of these methods to submit your completed assignment to your instructor:</p>
                <ul style="margin-left: 20px;">
                    <li><strong>Export to File:</strong> Downloads a text file you can upload to your LMS or email</li>
                    <li><strong>Copy to Clipboard:</strong> Copies results to paste into an email or document</li>
                    <li><strong>Email Results:</strong> Opens your email client with results pre-filled</li>
                    <li><strong>Print Results:</strong> Creates a printable version for physical submission</li>
                </ul>
            </div>
        </section>
    </main>
    
    <footer role="contentinfo">
        <p><strong>CMMC 2.0 Information Classification Training Module</strong></p>
        <p>CompTIA Security+ SY0-701 Supplemental Material</p>
        <p>References: FAR 52.204-21 | NIST SP 800-171 | NARA CUI Registry | 32 CFR Part 170</p>
        <p><a href="https://www.archives.gov/cui/registry/category-list" target="_blank" rel="noopener noreferrer">Visit the NARA CUI Registry</a></p>
    </footer>

    <script>
        // Question Data - 20 scenarios for classification exercise
        const questions = [
            {
                id: 1,
                scenario: "A defense contractor creates a weekly status report for a software development contract. The report includes project milestones, team assignments, and budget burn rate. The information was generated specifically for the DoD contract and has not been marked with any special designations.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is Federal Contract Information (FCI) because it was generated for a government contract, is not intended for public release, and does not contain any specially designated CUI categories. Standard FAR 52.204-21 protections apply, requiring CMMC Level 1."
            },
            {
                id: 2,
                scenario: "Technical specifications for a missile guidance system, including detailed schematics and performance parameters. The document is marked with export control notices and references ITAR regulations.",
                correctClassification: "cui-specified",
                correctCMMC: "level2-c3pao",
                explanation: "This is CUI Specified because it contains export-controlled technical data under ITAR. Export-controlled information has specific handling requirements beyond standard CUI controls. CMMC Level 2 with third-party assessment is required due to the sensitive nature of defense technical data."
            },
            {
                id: 3,
                scenario: "A press release announcing that a company has won a new DoD contract to provide cloud services. The release has been approved for public distribution and is posted on the company's website.",
                correctClassification: "public",
                correctCMMC: "none",
                explanation: "This is Public information because it has been approved for public release and is intended for distribution. No CMMC requirements apply to publicly available information."
            },
            {
                id: 4,
                scenario: "Medical records of military personnel being processed by a healthcare contractor for the Veterans Administration. The records contain diagnoses, treatment plans, and prescription information.",
                correctClassification: "cui-specified",
                correctCMMC: "level2-c3pao",
                explanation: "This is CUI Specified because Protected Health Information (PHI) falls under HIPAA regulations, which mandate specific handling controls. The CUI category is Privacy/Health Information, requiring CMMC Level 2 with third-party assessment."
            },
            {
                id: 5,
                scenario: "An internal organizational chart showing the reporting structure for a team working on a Navy shipbuilding contract. The chart shows employee names, titles, and which contract tasks they support.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because it is organizational documentation generated for contract performance that is not intended for public release. It does not fall into any CUI category, so CMMC Level 1 with basic FAR 52.204-21 controls is sufficient."
            },
            {
                id: 6,
                scenario: "Source code for a cybersecurity tool being developed for the Department of Homeland Security. The code implements novel intrusion detection algorithms and is marked as Controlled Technical Information.",
                correctClassification: "cui-basic",
                correctCMMC: "level2",
                explanation: "This is CUI Basic because Controlled Technical Information (CTI) is a CUI category under the Defense index. CTI requires protection under NIST SP 800-171 but does not have additional specified handling requirements beyond the standard CUI controls. CMMC Level 2 is required."
            },
            {
                id: 7,
                scenario: "A contractor's standard capabilities brochure that describes their general IT services, certifications held, and past project summaries. This brochure is distributed at industry conferences and trade shows.",
                correctClassification: "public",
                correctCMMC: "none",
                explanation: "This is Public information because it is marketing material intended for wide distribution. The company voluntarily shares this information with the public, so no special protections or CMMC requirements apply."
            },
            {
                id: 8,
                scenario: "Federal tax return information for a government contractor being audited by the IRS. The contractor provides these records to a subcontractor providing accounting services.",
                correctClassification: "cui-specified",
                correctCMMC: "level2-c3pao",
                explanation: "This is CUI Specified because Federal Tax Information (FTI) has specific handling requirements under IRS Publication 1075. Tax return information is in the Tax CUI category with mandated controls that exceed standard CUI handling."
            },
            {
                id: 9,
                scenario: "Performance metrics and quality assurance test results for aircraft components manufactured under an Air Force contract. The data shows pass/fail rates and defect categories but contains no design specifications.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because it is contract-generated information about deliverables that is not intended for public release. Without design specifications or technical data, it does not meet CUI criteria. CMMC Level 1 protections apply."
            },
            {
                id: 10,
                scenario: "Vulnerability assessment results for a DoD network infrastructure, identifying specific security weaknesses, potential attack vectors, and recommended remediation steps. The report is marked as security-sensitive.",
                correctClassification: "cui-basic",
                correctCMMC: "level2",
                explanation: "This is CUI Basic because vulnerability information related to federal systems falls under the Critical Infrastructure CUI category. It requires NIST SP 800-171 protections but does not have additional specified handling requirements. CMMC Level 2 is required."
            },
            {
                id: 11,
                scenario: "An invoice submitted by a contractor for services rendered under a GSA schedule contract. The invoice includes the contractor's bank account information for electronic payment processing.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because invoices are transactional documents generated for contract performance. While containing sensitive financial data, standard invoices do not fall into CUI categories. CMMC Level 1 with basic safeguarding applies."
            },
            {
                id: 12,
                scenario: "Engineering drawings for a nuclear submarine's propulsion system components. The drawings are marked with Naval Nuclear Propulsion Information (NNPI) designations and have strict access controls.",
                correctClassification: "cui-specified",
                correctCMMC: "level3",
                explanation: "This is CUI Specified because Naval Nuclear Propulsion Information has specific handling requirements under the Atomic Energy Act and DoD regulations. This highly sensitive category requires CMMC Level 3 with government-led assessment due to the critical nature of the information."
            },
            {
                id: 13,
                scenario: "Training materials developed by a contractor for a new logistics management system. The materials explain how to use the software but don't contain any system architecture details or security configurations.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because it is documentation created for contract performance. General user training materials without technical specifications or sensitive operational details are FCI requiring basic CMMC Level 1 protections."
            },
            {
                id: 14,
                scenario: "A draft budget proposal for a classified research program, marked as pre-decisional. The document contains funding allocations, personnel costs, and program schedule estimates for the upcoming fiscal year.",
                correctClassification: "cui-basic",
                correctCMMC: "level2",
                explanation: "This is CUI Basic because pre-decisional budget information is a CUI category (Budget) requiring protection. While sensitive, budget drafts don't have specified handling requirements beyond standard CUI controls. CMMC Level 2 is required."
            },
            {
                id: 15,
                scenario: "Social Security numbers and home addresses of employees working on a DoD contract, maintained in the contractor's HR database for payroll and benefits administration purposes.",
                correctClassification: "cui-specified",
                correctCMMC: "level2-c3pao",
                explanation: "This is CUI Specified because Personally Identifiable Information (PII) including SSNs has specific handling requirements under privacy laws and OMB guidance. The Privacy Act imposes particular controls, requiring CMMC Level 2 with third-party assessment."
            },
            {
                id: 16,
                scenario: "Meeting minutes from a program management review with the government customer. The minutes document action items, decisions made, and attendee names, but contain no technical or classified details.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because meeting documentation is generated during contract performance and is not intended for public release. Without CUI-designated content, standard FAR 52.204-21 protections and CMMC Level 1 apply."
            },
            {
                id: 17,
                scenario: "A company's published annual report filed with the SEC, which mentions government contracts as a revenue source and includes general information about business with defense agencies.",
                correctClassification: "public",
                correctCMMC: "none",
                explanation: "This is Public information because SEC filings are public documents. Even though they mention government contracts, the information disclosed is at a high level suitable for public investors. No CMMC requirements apply."
            },
            {
                id: 18,
                scenario: "Network diagrams showing the architecture of systems processing Defense Industrial Base threat intelligence. The diagrams reveal IP addresses, firewall configurations, and data flow paths for threat sharing systems.",
                correctClassification: "cui-basic",
                correctCMMC: "level2",
                explanation: "This is CUI Basic because system architecture information for federal systems falls under Critical Infrastructure Security Information. It requires NIST SP 800-171 controls but lacks additional specified requirements. CMMC Level 2 is required."
            },
            {
                id: 19,
                scenario: "Chemical formulas and manufacturing processes for explosive compounds being developed for the Army. The information is subject to export controls and has been marked with dissemination restrictions.",
                correctClassification: "cui-specified",
                correctCMMC: "level3",
                explanation: "This is CUI Specified because export-controlled technical data for munitions is highly regulated under ITAR and requires specific handling. Given the critical nature of weapons-related technical data, CMMC Level 3 is appropriate for enhanced protection against advanced threats."
            },
            {
                id: 20,
                scenario: "A Request for Proposal (RFP) response that includes proprietary pricing methodology, labor rates, and cost estimates. The proposal was submitted in response to a competitive DoD solicitation.",
                correctClassification: "fci",
                correctCMMC: "level1",
                explanation: "This is FCI because proposal documents are generated for government contracting purposes and contain business-sensitive information not intended for public release. While competitively sensitive, proposals without CUI content require CMMC Level 1 protections."
            }
        ];

        // Classification and CMMC level options
        const classificationOptions = [
            { value: "public", label: "Public - No restrictions, intended for public release" },
            { value: "fci", label: "FCI - Federal Contract Information (FAR 52.204-21)" },
            { value: "cui-basic", label: "CUI Basic - Standard CUI handling (NIST 800-171)" },
            { value: "cui-specified", label: "CUI Specified - Additional handling requirements" }
        ];

        const cmmcOptions = [
            { value: "none", label: "No CMMC Required - Public information" },
            { value: "level1", label: "Level 1 - Self-assessment (15 controls)" },
            { value: "level2", label: "Level 2 Self-Assessment - (110 controls)" },
            { value: "level2-c3pao", label: "Level 2 C3PAO - Third-party assessment required" },
            { value: "level3", label: "Level 3 - Government assessment (DIBCAC)" }
        ];

        // State management
        let answers = {};
        let submitted = false;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            renderQuestions();
            setupEventListeners();
        });

        // Render all questions
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = questions.map(q => createQuestionHTML(q)).join('');
        }

        // Create HTML for a single question
        function createQuestionHTML(question) {
            return `
                <article class="question-card" id="question-${question.id}" aria-labelledby="q${question.id}-heading">
                    <span class="question-number">Question ${question.id} of 20</span>
                    <h3 id="q${question.id}-heading" class="visually-hidden">Question ${question.id}</h3>
                    
                    <div class="question-scenario">
                        <p>${question.scenario}</p>
                    </div>
                    
                    <fieldset>
                        <legend class="question-prompt">1. What is the appropriate classification for this information?</legend>
                        <div class="options-group" role="radiogroup" aria-required="true">
                            ${classificationOptions.map(opt => `
                                <label class="option-label" for="q${question.id}-class-${opt.value}">
                                    <input type="radio" 
                                           id="q${question.id}-class-${opt.value}" 
                                           name="q${question.id}-classification" 
                                           value="${opt.value}"
                                           data-question="${question.id}"
                                           data-type="classification"
                                           aria-describedby="q${question.id}-class-desc">
                                    <span>${opt.label}</span>
                                </label>
                            `).join('')}
                        </div>
                    </fieldset>
                    
                    <fieldset>
                        <legend class="question-prompt">2. What is the minimum CMMC level required to handle this information?</legend>
                        <div class="options-group" role="radiogroup" aria-required="true">
                            ${cmmcOptions.map(opt => `
                                <label class="option-label" for="q${question.id}-cmmc-${opt.value}">
                                    <input type="radio" 
                                           id="q${question.id}-cmmc-${opt.value}" 
                                           name="q${question.id}-cmmc" 
                                           value="${opt.value}"
                                           data-question="${question.id}"
                                           data-type="cmmc"
                                           aria-describedby="q${question.id}-cmmc-desc">
                                    <span>${opt.label}</span>
                                </label>
                            `).join('')}
                        </div>
                    </fieldset>
                    
                    <div class="justification-group">
                        <label for="q${question.id}-justification">
                            3. Justify your classification decision (required):
                        </label>
                        <textarea 
                            id="q${question.id}-justification" 
                            name="q${question.id}-justification"
                            data-question="${question.id}"
                            data-type="justification"
                            placeholder="Explain why you chose this classification and CMMC level. Reference specific criteria, regulations, or CUI categories that support your decision."
                            required
                            aria-required="true"></textarea>
                    </div>
                    
                    <div class="feedback-box" id="feedback-${question.id}" aria-live="polite"></div>
                </article>
            `;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Radio button changes
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', handleAnswerChange);
            });
            
            // Textarea changes
            document.querySelectorAll('textarea').forEach(textarea => {
                textarea.addEventListener('input', handleAnswerChange);
            });
            
            // Submit button
            document.getElementById('submitBtn').addEventListener('click', submitAssignment);
            
            // Reset button
            document.getElementById('resetBtn').addEventListener('click', resetAssignment);
            
            // Retake button
            document.getElementById('retakeBtn').addEventListener('click', retakeAssignment);
        }

        // Handle answer changes
        function handleAnswerChange(event) {
            const questionId = event.target.dataset.question;
            const type = event.target.dataset.type;
            const value = event.target.value;
            
            if (!answers[questionId]) {
                answers[questionId] = {};
            }
            
            answers[questionId][type] = value;
            
            // Update visual selection for radio buttons
            if (type !== 'justification') {
                const labels = event.target.closest('.options-group').querySelectorAll('.option-label');
                labels.forEach(label => label.classList.remove('selected'));
                event.target.closest('.option-label').classList.add('selected');
            }
            
            updateProgress();
            validateSubmitButton();
        }

        // Update progress bar
        function updateProgress() {
            let completed = 0;
            
            questions.forEach(q => {
                const answer = answers[q.id];
                if (answer && answer.classification && answer.cmmc && answer.justification && answer.justification.trim().length >= 10) {
                    completed++;
                }
            });
            
            const percentage = (completed / questions.length) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${completed} of ${questions.length} answered`;
            
            // Update ARIA
            const progressContainer = document.querySelector('.progress-container');
            progressContainer.setAttribute('aria-valuenow', completed);
        }

        // Validate if submit button should be enabled
        function validateSubmitButton() {
            let allComplete = true;
            const studentName = document.getElementById('studentName').value.trim();
            
            // Check if student name is provided
            if (!studentName) {
                allComplete = false;
            }
            
            questions.forEach(q => {
                const answer = answers[q.id];
                if (!answer || !answer.classification || !answer.cmmc || !answer.justification || answer.justification.trim().length < 10) {
                    allComplete = false;
                }
            });
            
            document.getElementById('submitBtn').disabled = !allComplete;
        }
        
        // Also validate when student name changes
        document.getElementById('studentName').addEventListener('input', validateSubmitButton);

        // Submit the assignment
        function submitAssignment() {
            if (submitted) return;
            submitted = true;
            
            let correct = 0;
            let categoryScores = { public: { correct: 0, total: 0 }, fci: { correct: 0, total: 0 }, 'cui-basic': { correct: 0, total: 0 }, 'cui-specified': { correct: 0, total: 0 } };
            
            questions.forEach(q => {
                const answer = answers[q.id];
                const questionCard = document.getElementById(`question-${q.id}`);
                const feedbackBox = document.getElementById(`feedback-${q.id}`);
                
                categoryScores[q.correctClassification].total++;
                
                // Check if classification is correct (primary scoring criteria)
                const isCorrect = answer.classification === q.correctClassification;
                
                if (isCorrect) {
                    correct++;
                    categoryScores[q.correctClassification].correct++;
                    questionCard.classList.add('answered');
                    questionCard.classList.remove('incorrect');
                    feedbackBox.className = 'feedback-box correct';
                    feedbackBox.innerHTML = `
                        <h5>‚úì Correct!</h5>
                        <p><strong>Your classification:</strong> ${getClassificationLabel(answer.classification)}</p>
                        <p><strong>Explanation:</strong> ${q.explanation}</p>
                    `;
                } else {
                    questionCard.classList.add('incorrect');
                    questionCard.classList.remove('answered');
                    feedbackBox.className = 'feedback-box incorrect';
                    feedbackBox.innerHTML = `
                        <h5>‚úó Incorrect</h5>
                        <p><strong>Your answer:</strong> ${getClassificationLabel(answer.classification)}</p>
                        <p><strong>Correct answer:</strong> ${getClassificationLabel(q.correctClassification)}</p>
                        <p><strong>Explanation:</strong> ${q.explanation}</p>
                    `;
                }
                
                // Mark correct/wrong options
                document.querySelectorAll(`input[name="q${q.id}-classification"]`).forEach(radio => {
                    const label = radio.closest('.option-label');
                    if (radio.value === q.correctClassification) {
                        label.classList.add('correct');
                    } else if (radio.checked && radio.value !== q.correctClassification) {
                        label.classList.add('wrong');
                    }
                    radio.disabled = true;
                });
                
                document.querySelectorAll(`input[name="q${q.id}-cmmc"]`).forEach(radio => {
                    radio.disabled = true;
                });
                
                document.getElementById(`q${q.id}-justification`).disabled = true;
            });
            
            // Display results
            displayResults(correct, categoryScores);
            
            // Disable buttons
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('resetBtn').disabled = true;
        }

        // Get classification label
        function getClassificationLabel(value) {
            const option = classificationOptions.find(o => o.value === value);
            return option ? option.label : value;
        }

        // Display results
        function displayResults(correct, categoryScores) {
            const resultsSection = document.getElementById('results');
            const percentage = Math.round((correct / questions.length) * 100);
            const studentName = document.getElementById('studentName').value;
            
            document.getElementById('studentNameDisplay').textContent = `Student: ${studentName}`;
            document.getElementById('scoreDisplay').textContent = `${percentage}%`;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('incorrectCount').textContent = questions.length - correct;
            
            // Category breakdown
            document.getElementById('publicScore').textContent = `${categoryScores.public.correct}/${categoryScores.public.total}`;
            document.getElementById('fciScore').textContent = `${categoryScores.fci.correct}/${categoryScores.fci.total}`;
            document.getElementById('cuiBasicScore').textContent = `${categoryScores['cui-basic'].correct}/${categoryScores['cui-basic'].total}`;
            document.getElementById('cuiSpecifiedScore').textContent = `${categoryScores['cui-specified'].correct}/${categoryScores['cui-specified'].total}`;
            
            // Score message
            const messageEl = document.getElementById('scoreMessage');
            if (percentage >= 80) {
                messageEl.textContent = "Congratulations! You have passed the assessment. You demonstrate solid understanding of information classification concepts.";
            } else if (percentage >= 60) {
                messageEl.textContent = "You did not meet the passing threshold of 80%. Review the lesson materials and pay attention to the differences between FCI and CUI categories.";
            } else {
                messageEl.textContent = "Additional study is recommended. Focus on understanding the distinctions between classification levels and their regulatory basis.";
            }
            
            // Build review accordions
            buildReviewSection();
            
            // Show results
            resultsSection.classList.add('visible');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
            
            // Announce to screen readers
            resultsSection.setAttribute('aria-live', 'polite');
        }

        // Build review accordion section
        function buildReviewSection() {
            const container = document.getElementById('reviewContainer');
            container.innerHTML = questions.map(q => {
                const answer = answers[q.id];
                const isCorrect = answer.classification === q.correctClassification;
                const statusIcon = isCorrect ? '‚úì' : '‚úó';
                const statusClass = isCorrect ? 'correct' : 'incorrect';
                
                return `
                    <div class="accordion">
                        <button class="accordion-header" type="button" aria-expanded="false" onclick="toggleAccordion(this)">
                            <span>
                                <span class="status-icon" style="color: ${isCorrect ? 'var(--success-green)' : 'var(--warning-red)'}">${statusIcon}</span>
                                Question ${q.id}: ${isCorrect ? 'Correct' : 'Incorrect'}
                            </span>
                            <span class="arrow" aria-hidden="true">‚ñº</span>
                        </button>
                        <div class="accordion-content">
                            <p><strong>Scenario:</strong> ${q.scenario.substring(0, 150)}...</p>
                            <p><strong>Your Classification:</strong> ${getClassificationLabel(answer.classification)}</p>
                            <p><strong>Correct Classification:</strong> ${getClassificationLabel(q.correctClassification)}</p>
                            <p><strong>Your Justification:</strong> ${answer.justification || 'None provided'}</p>
                            <p><strong>Explanation:</strong> ${q.explanation}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Toggle accordion
        function toggleAccordion(button) {
            const accordion = button.closest('.accordion');
            const isOpen = accordion.classList.contains('open');
            
            accordion.classList.toggle('open');
            button.setAttribute('aria-expanded', !isOpen);
        }

        // Reset assignment
        function resetAssignment() {
            if (!confirm('Are you sure you want to reset all answers? This cannot be undone.')) {
                return;
            }
            
            answers = {};
            submitted = false;
            
            // Reset all form elements
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
                radio.disabled = false;
            });
            
            document.querySelectorAll('textarea').forEach(textarea => {
                textarea.value = '';
                textarea.disabled = false;
            });
            
            document.querySelectorAll('.option-label').forEach(label => {
                label.classList.remove('selected', 'correct', 'wrong');
            });
            
            document.querySelectorAll('.question-card').forEach(card => {
                card.classList.remove('answered', 'incorrect');
            });
            
            document.querySelectorAll('.feedback-box').forEach(box => {
                box.className = 'feedback-box';
                box.innerHTML = '';
            });
            
            // Reset progress
            updateProgress();
            
            // Re-enable buttons
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('resetBtn').disabled = false;
            
            // Hide results
            document.getElementById('results').classList.remove('visible');
            
            // Scroll to top of assignment
            document.getElementById('assignment').scrollIntoView({ behavior: 'smooth' });
        }

        // Retake assignment
        function retakeAssignment() {
            resetAssignment();
        }

        // Keyboard navigation for accordions
        document.addEventListener('keydown', function(e) {
            if (e.target.classList.contains('accordion-header')) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleAccordion(e.target);
                }
            }
        });

        // Navigation highlighting
        function setupNavigation() {
            const navLinks = document.querySelectorAll('nav a');
            const sections = document.querySelectorAll('main section[id]');
            
            // Update active nav on click
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // Remove current from all links
                    navLinks.forEach(l => l.removeAttribute('aria-current'));
                    // Add current to clicked link
                    this.setAttribute('aria-current', 'page');
                });
            });
            
            // Update active nav on scroll using Intersection Observer
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.removeAttribute('aria-current');
                            if (link.getAttribute('href') === '#' + id) {
                                link.setAttribute('aria-current', 'page');
                            }
                        });
                    }
                });
            }, observerOptions);
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }
        
        // Generate submission text
        function generateSubmissionText() {
            const timestamp = new Date().toLocaleString();
            const studentName = document.getElementById('studentName').value || 'Not provided';
            const studentEmail = document.getElementById('studentEmail').value || 'Not provided';
            let correct = 0;
            
            questions.forEach(q => {
                if (answers[q.id] && answers[q.id].classification === q.correctClassification) {
                    correct++;
                }
            });
            
            const percentage = Math.round((correct / questions.length) * 100);
            
            let text = `CMMC 2.0 INFORMATION CLASSIFICATION EXERCISE
============================================
Student Name: ${studentName}
Student Email: ${studentEmail}
Submission Date: ${timestamp}
Score: ${percentage}% (${correct}/${questions.length} correct)
Passing: ${percentage >= 80 ? 'YES' : 'NO'}

============================================
DETAILED RESPONSES
============================================

`;
            
            questions.forEach(q => {
                const answer = answers[q.id] || {};
                const isCorrect = answer.classification === q.correctClassification;
                
                text += `QUESTION ${q.id}: ${isCorrect ? '‚úì CORRECT' : '‚úó INCORRECT'}
----------------------------------------
Scenario: ${q.scenario}

Student Classification: ${getClassificationLabel(answer.classification) || 'Not answered'}
Correct Classification: ${getClassificationLabel(q.correctClassification)}

Student CMMC Level: ${getCMMCLabel(answer.cmmc) || 'Not answered'}
Correct CMMC Level: ${getCMMCLabel(q.correctCMMC)}

Student Justification:
${answer.justification || 'No justification provided'}

Explanation:
${q.explanation}

`;
            });
            
            text += `============================================
END OF SUBMISSION
============================================`;
            
            return text;
        }
        
        // Get CMMC level label
        function getCMMCLabel(value) {
            const option = cmmcOptions.find(o => o.value === value);
            return option ? option.label : value;
        }
        
        // Export to file
        function exportToFile() {
            if (!submitted) {
                alert('Please submit the assignment first before exporting.');
                return;
            }
            
            const studentName = document.getElementById('studentName').value.replace(/[^a-zA-Z0-9]/g, '_') || 'Student';
            const text = generateSubmissionText();
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `CMMC_Exercise_${studentName}_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Copy to clipboard
        async function copyToClipboard() {
            if (!submitted) {
                alert('Please submit the assignment first before copying.');
                return;
            }
            
            const text = generateSubmissionText();
            
            try {
                await navigator.clipboard.writeText(text);
                alert('Results copied to clipboard! You can now paste them into an email or document.');
            } catch (err) {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('Results copied to clipboard! You can now paste them into an email or document.');
            }
        }
        
        // Email results
        function emailResults() {
            if (!submitted) {
                alert('Please submit the assignment first before emailing.');
                return;
            }
            
            const studentName = document.getElementById('studentName').value;
            let correct = 0;
            questions.forEach(q => {
                if (answers[q.id] && answers[q.id].classification === q.correctClassification) {
                    correct++;
                }
            });
            const percentage = Math.round((correct / questions.length) * 100);
            
            const subject = encodeURIComponent(`CMMC Classification Exercise - ${studentName} - ${percentage}%`);
            const body = encodeURIComponent(generateSubmissionText());
            
            // Note: mailto has character limits, so we'll provide a shortened version
            const shortBody = encodeURIComponent(`CMMC 2.0 Classification Exercise Results

Student: ${studentName}
Score: ${percentage}% (${correct}/${questions.length} correct)
Date: ${new Date().toLocaleString()}
Status: ${percentage >= 80 ? 'PASSED' : 'DID NOT PASS'}

[Full detailed responses are too long for email link. Please use "Export to File" or "Copy to Clipboard" to include complete submission.]`);
            
            window.location.href = `mailto:?subject=${subject}&body=${shortBody}`;
            
            alert('Email client opened. Note: Due to email link limitations, please also use "Export to File" or "Copy to Clipboard" for the complete detailed submission.');
        }
        
        // Setup export buttons
        document.getElementById('exportBtn').addEventListener('click', exportToFile);
        document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
        document.getElementById('emailBtn').addEventListener('click', emailResults);
        
        // Print results - expand all accordions first
        document.getElementById('printBtn').addEventListener('click', function() {
            if (!submitted) {
                alert('Please submit the assignment first before printing.');
                return;
            }
            
            // Expand all accordions so content is visible when printing
            document.querySelectorAll('.accordion').forEach(accordion => {
                accordion.classList.add('open');
                const header = accordion.querySelector('.accordion-header');
                if (header) {
                    header.setAttribute('aria-expanded', 'true');
                }
            });
            
            // Small delay to ensure DOM updates before print
            setTimeout(() => {
                window.print();
            }, 100);
        });
        
        // Initialize navigation on page load
        setupNavigation();
    </script>
</body>
</html>
