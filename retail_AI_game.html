<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retail Tech Revolution: AI & Automation Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            font-size: 1.2em;
            color: #34495e;
            max-width: 800px;
            margin: 0 auto;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat {
            text-align: center;
            flex: 1;
        }

        .stat h3 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #e74c3c;
        }

        .main-game {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .store-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        .store-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #f39c12, #e74c3c);
        }

        .store-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .tech-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .tech-card.selected {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .tech-card.challenge {
            background: linear-gradient(135deg, #e17055, #d63031);
        }

        .tech-card h3 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .tech-card p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .cost-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #f39c12;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .scenario-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .scenario-panel h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .scenario-content {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }

        .choice-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .choice-btn {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 200px;
        }

        .choice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .result-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
            z-index: 1000;
            display: none;
        }

        .result-popup.show {
            display: block;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.7);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        .close-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 15px;
        }

        .help-btn {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .help-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .help-popup {
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .help-content {
            text-align: left;
            line-height: 1.6;
        }

        .help-content h3 {
            color: #2c3e50;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }

        .help-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .help-content li {
            margin: 8px 0;
        }

        .metric-explanation {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            width: 0%;
            transition: width 0.5s ease;
        }

        .achievement {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            margin: 5px;
            display: inline-block;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .main-game {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .choice-buttons {
                flex-direction: column;
            }
            
            .choice-btn {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üöÄ Retail Tech Revolution</h1>
            <p>Learn about AI, Robotics, and Automation in modern retail through interactive scenarios!</p>
            <button class="help-btn" id="helpButton">‚ùì How to Play</button>
        </div>

        <div class="game-stats">
            <div class="stat">
                <h3>üí∞ Budget</h3>
                <div class="stat-value" id="budget">$10,000,000</div>
            </div>
            <div class="stat">
                <h3>üìà Efficiency</h3>
                <div class="stat-value" id="efficiency">50%</div>
            </div>
            <div class="stat">
                <h3>üòä Customer Satisfaction</h3>
                <div class="stat-value" id="satisfaction">70%</div>
            </div>
            <div class="stat">
                <h3>üîí Security Score</h3>
                <div class="stat-value" id="security">60%</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="main-game">
            <div class="store-section">
                <h2>üè™ Technology Implementation</h2>
                <div class="tech-grid" id="techGrid">
                    <!-- Technologies will be populated by JavaScript -->
                </div>
            </div>

            <div class="store-section">
                <h2>‚ö° Challenges & Benefits</h2>
                <div id="challengeArea">
                    <p>Select technologies from the left to see their impact on your retail operation!</p>
                </div>
            </div>
        </div>

        <div class="scenario-panel">
            <h2>üìã Current Scenario</h2>
            <div class="scenario-content" id="scenarioContent">
                Welcome to your retail automation journey! You're the CTO of a major retail chain. Your goal is to implement AI, robotics, and automation technologies while managing costs, efficiency, customer satisfaction, and security. Each technology choice will impact your business metrics. Choose wisely!
            </div>
            <div class="choice-buttons" id="choiceButtons">
                <button class="choice-btn" id="startButton">Begin Your Journey</button>
            </div>
        </div>

        <div id="achievements">
            <!-- Achievements will be added here -->
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="result-popup" id="resultPopup">
        <h2 id="resultTitle">Result</h2>
        <p id="resultContent">Content goes here</p>
        <button class="close-btn" onclick="closePopup()">Continue</button>
    </div>

    <div class="result-popup help-popup" id="helpPopup">
        <div class="help-content">
            <h2>üéÆ How to Play Retail Tech Revolution</h2>
            
            <h3>üéØ Your Mission</h3>
            <p>You're the <strong>Chief Technology Officer (CTO)</strong> of a major retail chain. Transform your business with AI, robotics, and automation while managing costs and challenges!</p>
            
            <div class="metric-explanation">
                <h3>üìä Key Metrics to Manage</h3>
                <ul>
                    <li><strong>üí∞ Budget:</strong> Start with $10M - spend wisely on technologies</li>
                    <li><strong>üìà Efficiency:</strong> How well your operations run (target: 85%+)</li>
                    <li><strong>üòä Customer Satisfaction:</strong> How happy your customers are (target: 85%+)</li>
                    <li><strong>üîí Security Score:</strong> Protection from cyber threats (target: 85%+)</li>
                </ul>
            </div>

            <h3>üè™ Technology Implementation</h3>
            <ul>
                <li><strong>Click technology cards</strong> (left panel) to implement them</li>
                <li>Each technology has a <strong>cost</strong> and affects different metrics</li>
                <li><strong>Green cards</strong> = already implemented</li>
                <li><strong>Grayed out cards</strong> = too expensive</li>
                <li>Technologies are based on <strong>real examples</strong> from Amazon, Walmart, Target</li>
            </ul>

            <h3>üìã Strategic Scenarios</h3>
            <ul>
                <li>Make important decisions about <strong>cybersecurity, workforce, and implementation</strong></li>
                <li>Each choice affects your metrics differently</li>
                <li>Based on <strong>real challenges</strong> major retailers face today</li>
            </ul>

            <h3>üèÜ Achievements to Unlock</h3>
            <ul>
                <li>‚ö° <strong>Efficiency Master:</strong> Reach 90% efficiency</li>
                <li>üòä <strong>Customer Hero:</strong> Reach 95% customer satisfaction</li>
                <li>üîí <strong>Security Expert:</strong> Reach 90% security score</li>
                <li>üöÄ <strong>Tech Pioneer:</strong> Implement 5+ technologies</li>
            </ul>

            <h3>üéì What You'll Learn</h3>
            <ul>
                <li>Real costs and ROI of retail automation ($25B+ market)</li>
                <li>How Amazon, Walmart, and Target implement AI and robotics</li>
                <li>Cybersecurity challenges (breaches cost $4.88M average)</li>
                <li>Workforce impact and retraining needs</li>
                <li>Balancing efficiency, satisfaction, and security</li>
            </ul>

            <h3>üéØ Winning Strategy</h3>
            <p>Aim for <strong>85%+ in all metrics</strong> while implementing multiple technologies. Remember: real retailers like Amazon invested $20B+ in AI infrastructure!</p>
        </div>
        <button class="close-btn" onclick="closeHelpPopup()">Got It - Let's Play!</button>
    </div>

    <script>
        class RetailTechGame {
            constructor() {
                this.budget = 10000000;
                this.efficiency = 50;
                this.satisfaction = 70;
                this.security = 60;
                this.selectedTech = [];
                this.currentScenario = 0;
                this.achievements = [];
                
                this.technologies = [
                    {
                        name: "AI-Powered Logistics",
                        cost: 2000000,
                        efficiency: +25,
                        satisfaction: +10,
                        security: +5,
                        description: "Route optimization and predictive analytics like Walmart's system"
                    },
                    {
                        name: "Robotic Warehouses",
                        cost: 3000000,
                        efficiency: +35,
                        satisfaction: +5,
                        security: +10,
                        description: "Amazon's Vulcan robots and automated fulfillment centers"
                    },
                    {
                        name: "Cashierless Stores",
                        cost: 1500000,
                        efficiency: +20,
                        satisfaction: +15,
                        security: -5,
                        description: "Just Walk Out technology (but watch for challenges!)"
                    },
                    {
                        name: "IoT Smart Shelves",
                        cost: 800000,
                        efficiency: +15,
                        satisfaction: +8,
                        security: +8,
                        description: "Real-time inventory tracking and automated restocking"
                    },
                    {
                        name: "Cybersecurity AI",
                        cost: 1200000,
                        efficiency: +5,
                        satisfaction: +5,
                        security: +30,
                        description: "Advanced threat detection - saves $2.22M on average"
                    },
                    {
                        name: "Customer Analytics AI",
                        cost: 1000000,
                        efficiency: +10,
                        satisfaction: +20,
                        security: +5,
                        description: "Personalized shopping experiences and demand forecasting"
                    }
                ];

                this.scenarios = [
                    {
                        title: "Starting Your Transformation",
                        content: "You have $10M to transform your retail operations. Major retailers like Amazon invested $20B in AI infrastructure. What's your first priority?",
                        choices: [
                            {
                                text: "Focus on warehouse automation first",
                                effect: { budget: 0, efficiency: +5, satisfaction: 0, security: 0 }
                            },
                            {
                                text: "Prioritize customer-facing technology",
                                effect: { budget: 0, efficiency: 0, satisfaction: +10, security: 0 }
                            },
                            {
                                text: "Invest heavily in cybersecurity",
                                effect: { budget: 0, efficiency: 0, satisfaction: 0, security: +15 }
                            }
                        ]
                    },
                    {
                        title: "The Cybersecurity Challenge",
                        content: "A data breach costs retailers $4.88M on average. 68% of breaches involve human error. How do you protect your customers?",
                        choices: [
                            {
                                text: "Implement comprehensive AI security",
                                effect: { budget: -1000000, efficiency: 0, satisfaction: +5, security: +25 }
                            },
                            {
                                text: "Focus on employee training",
                                effect: { budget: -200000, efficiency: +5, satisfaction: +5, security: +15 }
                            },
                            {
                                text: "Basic security measures only",
                                effect: { budget: -100000, efficiency: +10, satisfaction: 0, security: +5 }
                            }
                        ]
                    },
                    {
                        title: "The Workforce Dilemma",
                        content: "Automation can displace jobs but also create new opportunities. Amazon's CEO warns white-collar jobs could become obsolete without reskilling. What's your approach?",
                        choices: [
                            {
                                text: "Massive retraining programs",
                                effect: { budget: -800000, efficiency: +10, satisfaction: +15, security: +5 }
                            },
                            {
                                text: "Gradual automation with job transitions",
                                effect: { budget: -300000, efficiency: +15, satisfaction: +10, security: 0 }
                            },
                            {
                                text: "Fast automation, minimal training",
                                effect: { budget: 0, efficiency: +20, satisfaction: -10, security: -5 }
                            }
                        ]
                    }
                ];

                this.init();
            }

            init() {
                this.renderTechnologies();
                this.updateStats();
                this.setupEventListeners();
            }

            setupEventListeners() {
                // Set up the start button
                const startButton = document.getElementById('startButton');
                if (startButton) {
                    startButton.onclick = () => this.startNextScenario();
                }

                // Set up help button
                const helpButton = document.getElementById('helpButton');
                if (helpButton) {
                    helpButton.onclick = () => this.showHelpPopup();
                }

                // Set up close popup functionality
                window.closePopup = () => {
                    document.getElementById('overlay').classList.remove('show');
                    document.getElementById('resultPopup').classList.remove('show');
                };

                window.closeHelpPopup = () => {
                    document.getElementById('overlay').classList.remove('show');
                    document.getElementById('helpPopup').classList.remove('show');
                };
            }

            showHelpPopup() {
                document.getElementById('overlay').classList.add('show');
                document.getElementById('helpPopup').classList.add('show');
            }

            renderTechnologies() {
                const techGrid = document.getElementById('techGrid');
                techGrid.innerHTML = '';

                this.technologies.forEach((tech, index) => {
                    const techCard = document.createElement('div');
                    techCard.className = 'tech-card';
                    techCard.onclick = () => this.selectTechnology(index);
                    
                    const isAffordable = this.budget >= tech.cost;
                    if (!isAffordable) {
                        techCard.style.opacity = '0.5';
                        techCard.style.cursor = 'not-allowed';
                    }

                    techCard.innerHTML = `
                        <h3>${tech.name}</h3>
                        <p>${tech.description}</p>
                        <div class="cost-badge">$${(tech.cost / 1000000).toFixed(1)}M</div>
                    `;

                    techGrid.appendChild(techCard);
                });
            }

            selectTechnology(index) {
                const tech = this.technologies[index];
                
                if (this.budget < tech.cost) {
                    this.showPopup("Insufficient Budget", "You don't have enough budget for this technology. Consider cheaper alternatives or improve your budget through successful scenarios.");
                    return;
                }

                if (this.selectedTech.includes(index)) {
                    this.showPopup("Already Implemented", "You've already implemented this technology!");
                    return;
                }

                this.budget -= tech.cost;
                this.efficiency = Math.min(100, this.efficiency + tech.efficiency);
                this.satisfaction = Math.min(100, this.satisfaction + tech.satisfaction);
                this.security = Math.min(100, this.security + tech.security);

                this.selectedTech.push(index);

                const cards = document.querySelectorAll('.tech-card');
                cards[index].classList.add('selected');

                this.updateStats();
                this.updateChallengeArea(tech);
                this.checkAchievements();

                const roi = this.calculateROI(tech);
                this.showPopup(
                    `${tech.name} Implemented!`,
                    `Cost: $${(tech.cost / 1000000).toFixed(1)}M\nExpected ROI: ${roi}%\nEfficiency: ${tech.efficiency > 0 ? '+' : ''}${tech.efficiency}%\nSatisfaction: ${tech.satisfaction > 0 ? '+' : ''}${tech.satisfaction}%\nSecurity: ${tech.security > 0 ? '+' : ''}${tech.security}%`
                );
            }

            calculateROI(tech) {
                const efficiencyGain = tech.efficiency * 50000; // $50k per efficiency point
                const satisfactionGain = tech.satisfaction * 30000; // $30k per satisfaction point
                const securitySaving = tech.security * 100000; // $100k per security point
                const totalGain = efficiencyGain + satisfactionGain + securitySaving;
                return Math.round((totalGain / tech.cost) * 100);
            }

            updateChallengeArea(tech) {
                const challengeArea = document.getElementById('challengeArea');
                let challenges = [];
                let benefits = [];

                if (tech.name === "Cashierless Stores") {
                    challenges.push("‚ö†Ô∏è High theft rates reported", "‚ö†Ô∏è Customer confusion", "‚ö†Ô∏è Requires human oversight (1000+ reviewers for Amazon)");
                    benefits.push("‚úÖ Faster checkout", "‚úÖ Reduced labor costs", "‚úÖ Novel customer experience");
                } else if (tech.name === "AI-Powered Logistics") {
                    benefits.push("‚úÖ 70% faster processing", "‚úÖ Reduced emissions", "‚úÖ Better demand forecasting");
                    challenges.push("‚ö†Ô∏è Complex integration", "‚ö†Ô∏è Staff training required");
                } else if (tech.name === "Cybersecurity AI") {
                    benefits.push("‚úÖ Average $2.22M cost savings", "‚úÖ Real-time threat detection", "‚úÖ Compliance support");
                    challenges.push("‚ö†Ô∏è False positives", "‚ö†Ô∏è Ongoing maintenance");
                }

                challengeArea.innerHTML = `
                    <h3>üìä ${tech.name} Impact</h3>
                    <div style="margin-top: 15px;">
                        <h4 style="color: #27ae60;">Benefits:</h4>
                        ${benefits.map(b => `<p style="margin: 5px 0;">${b}</p>`).join('')}
                        <h4 style="color: #e74c3c; margin-top: 15px;">Challenges:</h4>
                        ${challenges.map(c => `<p style="margin: 5px 0;">${c}</p>`).join('')}
                    </div>
                `;
            }

            updateStats() {
                document.getElementById('budget').textContent = `$${(this.budget / 1000000).toFixed(1)}M`;
                document.getElementById('efficiency').textContent = `${this.efficiency}%`;
                document.getElementById('satisfaction').textContent = `${this.satisfaction}%`;
                document.getElementById('security').textContent = `${this.security}%`;

                const progress = (this.selectedTech.length / this.technologies.length) * 100;
                document.getElementById('progressFill').style.width = `${progress}%`;

                this.renderTechnologies();
            }

            startNextScenario() {
                if (this.currentScenario < this.scenarios.length) {
                    const scenario = this.scenarios[this.currentScenario];
                    document.getElementById('scenarioContent').textContent = scenario.content;
                    
                    const choiceButtons = document.getElementById('choiceButtons');
                    choiceButtons.innerHTML = '';
                    
                    scenario.choices.forEach((choice, index) => {
                        const button = document.createElement('button');
                        button.className = 'choice-btn';
                        button.textContent = choice.text;
                        button.onclick = () => this.makeChoice(choice.effect);
                        choiceButtons.appendChild(button);
                    });
                    
                    this.currentScenario++;
                } else {
                    this.endGame();
                }
            }

            makeChoice(effect) {
                this.budget += effect.budget || 0;
                this.efficiency = Math.max(0, Math.min(100, this.efficiency + (effect.efficiency || 0)));
                this.satisfaction = Math.max(0, Math.min(100, this.satisfaction + (effect.satisfaction || 0)));
                this.security = Math.max(0, Math.min(100, this.security + (effect.security || 0)));

                this.updateStats();
                this.checkAchievements();
                
                setTimeout(() => {
                    this.startNextScenario();
                }, 1000);
            }

            checkAchievements() {
                const newAchievements = [];
                
                if (this.efficiency >= 90 && !this.achievements.includes('efficiency-master')) {
                    newAchievements.push({ id: 'efficiency-master', text: '‚ö° Efficiency Master' });
                }
                if (this.satisfaction >= 95 && !this.achievements.includes('customer-hero')) {
                    newAchievements.push({ id: 'customer-hero', text: 'üòä Customer Hero' });
                }
                if (this.security >= 90 && !this.achievements.includes('security-expert')) {
                    newAchievements.push({ id: 'security-expert', text: 'üîí Security Expert' });
                }
                if (this.selectedTech.length >= 5 && !this.achievements.includes('tech-pioneer')) {
                    newAchievements.push({ id: 'tech-pioneer', text: 'üöÄ Tech Pioneer' });
                }

                newAchievements.forEach(achievement => {
                    this.achievements.push(achievement.id);
                    this.displayAchievement(achievement.text);
                });
            }

            displayAchievement(text) {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = 'achievement';
                achievementDiv.textContent = text;
                document.getElementById('achievements').appendChild(achievementDiv);
            }

            endGame() {
                const totalScore = (this.efficiency + this.satisfaction + this.security) / 3;
                const remainingBudget = this.budget;
                
                let performance = '';
                if (totalScore >= 85) performance = 'Excellent! You\'re a retail innovation leader!';
                else if (totalScore >= 70) performance = 'Good job! Your retail transformation is on track.';
                else if (totalScore >= 50) performance = 'Not bad, but there\'s room for improvement.';
                else performance = 'Your transformation needs work. Try different strategies!';

                document.getElementById('scenarioContent').innerHTML = `
                    <h3>üéØ Final Results</h3>
                    <p><strong>Overall Performance:</strong> ${totalScore.toFixed(1)}%</p>
                    <p><strong>Remaining Budget:</strong> $${(remainingBudget / 1000000).toFixed(1)}M</p>
                    <p><strong>Technologies Implemented:</strong> ${this.selectedTech.length}/${this.technologies.length}</p>
                    <p><strong>Assessment:</strong> ${performance}</p>
                    <br>
                    <p>üéì <strong>What You Learned:</strong></p>
                    <ul>
                        <li>Retail automation market is worth $25B+ and growing at 10%+ annually</li>
                        <li>Major retailers invest billions (Amazon: $20B) in AI infrastructure</li>
                        <li>Cybersecurity is crucial - breaches cost $4.88M on average</li>
                        <li>Workforce retraining is essential for successful automation</li>
                        <li>ROI typically appears within 12-36 months</li>
                        <li>Balance between efficiency, customer satisfaction, and security is key</li>
                    </ul>
                `;

                document.getElementById('choiceButtons').innerHTML = `
                    <button class="choice-btn" id="playAgainButton">Play Again</button>
                `;

                // Set up play again button
                setTimeout(() => {
                    const playAgainButton = document.getElementById('playAgainButton');
                    if (playAgainButton) {
                        playAgainButton.onclick = () => location.reload();
                    }
                }, 100);
            }

            showPopup(title, content) {
                document.getElementById('resultTitle').textContent = title;
                document.getElementById('resultContent').textContent = content;
                document.getElementById('overlay').classList.add('show');
                document.getElementById('resultPopup').classList.add('show');
            }
        }

        // Initialize the game
        const game = new RetailTechGame();
    </script>
</body>
</html>