<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Container Technology - Interactive Learning Module</title>
    <style>
        /* ============================================
           CSS CUSTOM PROPERTIES (Web-Safe Colors)
           ============================================ */
        :root {
            --primary-blue: #003366;
            --primary-blue-light: #004488;
            --accent-red: #CC3300;
            --accent-green: #006600;
            --accent-green-light: #008800;
            --warning-orange: #CC6600;
            --bg-light: #F5F5F5;
            --bg-white: #FFFFFF;
            --text-dark: #1A1A1A;
            --text-muted: #555555;
            --border-color: #CCCCCC;
            --code-bg: #2D2D2D;
            --code-text: #F8F8F2;
            --success-green: #006600;
            --error-red: #CC0000;
            --focus-ring: #0066CC;
            --tooltip-bg: #1A1A1A;
            --tooltip-text: #FFFFFF;
        }

        /* ============================================
           BASE STYLES
           ============================================ */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        body {
            font-family: 'Source Sans 3', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--text-dark);
            background-color: var(--bg-light);
            margin: 0;
            padding: 0;
            font-size: 18px;
        }

        /* ============================================
           SKIP LINK (Accessibility)
           ============================================ */
        .skip-link {
            position: absolute;
            top: -50px;
            left: 0;
            background: var(--primary-blue);
            color: var(--bg-white);
            padding: 12px 24px;
            z-index: 1000;
            text-decoration: none;
            font-weight: 600;
            border-radius: 0 0 8px 0;
        }

        .skip-link:focus {
            top: 0;
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* ============================================
           FOCUS STYLES (Accessibility)
           ============================================ */
        :focus {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        :focus:not(:focus-visible) {
            outline: none;
        }

        :focus-visible {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* ============================================
           NAVIGATION
           ============================================ */
        .main-nav {
            background: var(--primary-blue);
            color: var(--bg-white);
            padding: 16px 24px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .nav-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
        }

        .nav-progress {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .progress-bar {
            width: 200px;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-green-light);
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Enhanced: aria-live for progress announcements */
        #progress-text {
            font-size: 0.9rem;
        }

        /* ============================================
           MAIN CONTENT CONTAINER
           ============================================ */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        /* ============================================
           HEADER
           ============================================ */
        .lesson-header {
            text-align: center;
            margin-bottom: 48px;
            padding: 48px 24px;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
            color: var(--bg-white);
            border-radius: 12px;
        }

        .lesson-header h1 {
            font-size: 2.5rem;
            margin: 0 0 16px 0;
            font-weight: 700;
        }

        .lesson-header .subtitle {
            font-size: 1.25rem;
            opacity: 0.9;
            margin: 0;
        }

        .learning-objectives {
            background: var(--bg-white);
            padding: 32px;
            border-radius: 12px;
            margin-top: 32px;
            text-align: left;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .learning-objectives h2 {
            color: var(--primary-blue);
            margin: 0 0 16px 0;
            font-size: 1.5rem;
        }

        .learning-objectives ul {
            margin: 0;
            padding-left: 24px;
        }

        .learning-objectives li {
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        /* ============================================
           SECTION STYLES
           ============================================ */
        .section {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .section h2 {
            color: var(--primary-blue);
            font-size: 1.75rem;
            margin: 0 0 24px 0;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--primary-blue);
        }

        .section h3 {
            color: var(--primary-blue);
            font-size: 1.35rem;
            margin: 32px 0 16px 0;
        }

        .section h4 {
            color: var(--text-dark);
            font-size: 1.15rem;
            margin: 24px 0 12px 0;
        }

        .section p {
            margin: 0 0 16px 0;
        }

        /* ============================================
           CALLOUT BOXES
           ============================================ */
        .callout {
            padding: 20px 24px;
            border-radius: 8px;
            margin: 24px 0;
            border-left: 5px solid;
        }

        .callout-note {
            background: #E8F4FD;
            border-color: var(--primary-blue);
        }

        .callout-warning {
            background: #FFF3E0;
            border-color: var(--warning-orange);
        }

        .callout-tip {
            background: #E8F5E9;
            border-color: var(--accent-green);
        }

        .callout-danger {
            background: #FFEBEE;
            border-color: var(--accent-red);
        }

        .callout-title {
            font-weight: 700;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .callout-note .callout-title { color: var(--primary-blue); }
        .callout-warning .callout-title { color: var(--warning-orange); }
        .callout-tip .callout-title { color: var(--accent-green); }
        .callout-danger .callout-title { color: var(--accent-red); }

        /* ============================================
           CODE BLOCKS
           ============================================ */
        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 20px 24px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 16px 0;
            font-family: 'Source Code Pro', 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
        }

        .code-block code {
            font-family: inherit;
        }

        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--code-text);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .copy-btn:hover, .copy-btn:focus {
            background: rgba(255, 255, 255, 0.2);
        }

        .copy-btn.copied {
            background: var(--accent-green);
        }

        code {
            font-family: 'Source Code Pro', 'Consolas', 'Monaco', monospace;
            background: #EEEEEE;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        /* ============================================
           TOOLTIPS (Enhanced for WCAG 1.4.13)
           ============================================ */
        .tooltip-term {
            border-bottom: 2px dotted var(--primary-blue);
            cursor: help;
            position: relative;
            display: inline;
            color: var(--primary-blue);
            font-weight: 500;
        }

        .tooltip-content {
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            background: var(--tooltip-bg);
            color: var(--tooltip-text);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 400;
            line-height: 1.5;
            width: max-content;
            max-width: 300px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
        }

        .tooltip-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: var(--tooltip-bg);
        }

        /* Enhanced: Tooltip stays visible when hovered */
        .tooltip-term:hover .tooltip-content,
        .tooltip-term:focus .tooltip-content,
        .tooltip-content:hover {
            opacity: 1;
            visibility: visible;
        }

        /* Viewport-aware positioning */
        .tooltip-term.tooltip-bottom .tooltip-content {
            bottom: auto;
            top: calc(100% + 10px);
        }

        .tooltip-term.tooltip-bottom .tooltip-content::after {
            top: auto;
            bottom: 100%;
            border-top-color: transparent;
            border-bottom-color: var(--tooltip-bg);
        }

        /* ============================================
           ACCORDION
           ============================================ */
        .accordion {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 24px 0;
            overflow: hidden;
        }

        .accordion-item {
            border-bottom: 1px solid var(--border-color);
        }

        .accordion-item:last-child {
            border-bottom: none;
        }

        .accordion-header {
            width: 100%;
            background: var(--bg-light);
            border: none;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-align: left;
            min-height: 44px;
            transition: background 0.2s;
        }

        .accordion-header:hover {
            background: #E8E8E8;
        }

        .accordion-header::after {
            content: '+';
            font-size: 1.5rem;
            font-weight: 400;
            color: var(--primary-blue);
            transition: transform 0.2s;
        }

        .accordion-header[aria-expanded="true"]::after {
            content: '‚àí';
        }

        .accordion-panel {
            padding: 0 24px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .accordion-panel[aria-hidden="false"] {
            padding: 24px;
            max-height: 2000px;
        }

        /* ============================================
           TABS
           ============================================ */
        .tabs {
            margin: 24px 0;
        }

        .tab-list {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            gap: 4px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: transparent;
            border: none;
            padding: 16px 24px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            position: relative;
            min-height: 44px;
            transition: color 0.2s;
        }

        .tab-btn:hover {
            color: var(--primary-blue);
        }

        .tab-btn[aria-selected="true"] {
            color: var(--primary-blue);
        }

        .tab-btn[aria-selected="true"]::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-blue);
        }

        .tab-panel {
            padding: 24px 0;
            display: none;
        }

        .tab-panel[aria-hidden="false"] {
            display: block;
        }

        /* ============================================
           QUIZ STYLES (Enhanced Accessibility)
           ============================================ */
        .quiz {
            background: var(--bg-light);
            padding: 32px;
            border-radius: 12px;
            margin: 32px 0;
            border: 2px solid var(--border-color);
        }

        .quiz h3 {
            color: var(--primary-blue);
            margin: 0 0 24px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .quiz-question {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid var(--border-color);
        }

        .quiz-question:last-of-type {
            border-bottom: none;
            margin-bottom: 16px;
            padding-bottom: 0;
        }

        .quiz-question p {
            font-weight: 600;
            margin-bottom: 16px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            min-height: 44px;
            transition: border-color 0.2s, background 0.2s;
        }

        .quiz-option:hover {
            border-color: var(--primary-blue);
            background: #F0F7FF;
        }

        .quiz-option input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-blue);
            cursor: pointer;
        }

        .quiz-option label {
            cursor: pointer;
            flex: 1;
        }

        /* Enhanced: Quiz feedback with aria-live */
        .quiz-feedback {
            padding: 16px 20px;
            border-radius: 8px;
            margin-top: 16px;
            font-weight: 600;
            display: none;
        }

        .quiz-feedback.correct {
            background: #E8F5E9;
            color: var(--success-green);
            border: 2px solid var(--success-green);
            display: block;
        }

        .quiz-feedback.incorrect {
            background: #FFEBEE;
            color: var(--error-red);
            border: 2px solid var(--error-red);
            display: block;
        }

        .quiz-submit {
            background: var(--primary-blue);
            color: var(--bg-white);
            border: none;
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            min-width: 44px;
            min-height: 44px;
            transition: background 0.2s;
        }

        .quiz-submit:hover, .quiz-submit:focus {
            background: var(--primary-blue-light);
        }

        .quiz-score {
            text-align: center;
            font-size: 1.25rem;
            margin-top: 24px;
            padding: 20px;
            background: var(--bg-white);
            border-radius: 8px;
        }

        /* ============================================
           COMMAND REFERENCE CARDS
           ============================================ */
        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .command-card {
            background: var(--bg-white);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            transition: box-shadow 0.2s;
        }

        .command-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .command-card h4 {
            margin: 0 0 8px 0;
            color: var(--primary-blue);
            font-size: 1rem;
        }

        .command-card code {
            display: block;
            background: var(--code-bg);
            color: var(--code-text);
            padding: 12px;
            border-radius: 4px;
            margin: 12px 0;
            font-size: 0.9rem;
        }

        .command-card p {
            margin: 0;
            font-size: 0.95rem;
            color: var(--text-muted);
        }

        /* ============================================
           COMPARISON DIAGRAMS
           ============================================ */
        .comparison-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin: 24px 0;
        }

        .comparison-box {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .comparison-box h4 {
            margin: 0 0 16px 0;
            color: var(--primary-blue);
        }

        .comparison-diagram {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .diagram-layer {
            background: var(--primary-blue);
            color: var(--bg-white);
            padding: 10px;
            margin: 4px 0;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .diagram-layer.hardware {
            background: #666666;
        }

        .diagram-layer.os {
            background: var(--primary-blue);
        }

        .diagram-layer.runtime {
            background: var(--accent-green);
        }

        .diagram-layer.app {
            background: var(--accent-red);
        }

        /* ============================================
           LAB CHECKLIST
           ============================================ */
        .lab-checklist {
            background: var(--bg-white);
            border: 2px solid var(--accent-green);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .lab-checklist h4 {
            color: var(--accent-green);
            margin: 0 0 16px 0;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item input[type="checkbox"] {
            width: 24px;
            height: 24px;
            margin-top: 2px;
            accent-color: var(--accent-green);
            cursor: pointer;
        }

        .checklist-item label {
            flex: 1;
            cursor: pointer;
        }

        .checklist-item.completed label {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        @media (max-width: 768px) {
            body {
                font-size: 16px;
            }

            .lesson-header h1 {
                font-size: 1.75rem;
            }

            .nav-container {
                flex-direction: column;
                text-align: center;
            }

            .progress-bar {
                width: 150px;
            }

            .tab-list {
                flex-direction: column;
            }

            .tab-btn {
                border-bottom: 1px solid var(--border-color);
            }

            .container {
                padding: 16px;
            }

            .section {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }

            .command-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ============================================
           HIGH CONTRAST MODE SUPPORT
           ============================================ */
        @media (prefers-contrast: high) {
            :root {
                --primary-blue: #000080;
                --border-color: #000000;
                --text-muted: #000000;
            }

            .tooltip-content {
                border: 2px solid var(--bg-white);
            }

            .quiz-option {
                border-width: 3px;
            }
        }

        /* ============================================
           PRINT STYLES
           ============================================ */
        @media print {
            .main-nav,
            .skip-link,
            .copy-btn,
            .quiz-submit {
                display: none;
            }

            .section {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #000;
            }

            .accordion-panel {
                max-height: none !important;
                padding: 24px !important;
            }

            .tab-panel {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Link for Keyboard Navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navigation -->
    <nav class="main-nav" aria-label="Lesson navigation">
        <div class="nav-container">
            <h1 class="nav-title">Linux Container Technology</h1>
            <div class="nav-progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Lesson progress">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <!-- Enhanced: aria-live for progress announcements -->
                <span id="progress-text" aria-live="polite" aria-atomic="true">Section 1 of 6</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="container">
        <!-- Header -->
        <header class="lesson-header">
            <h1>Linux Container Technology</h1>
            <p class="subtitle">A Comprehensive Guide to Container Concepts, Tools, and Best Practices</p>
            
            <div class="learning-objectives">
                <h2>Learning Objectives</h2>
                <ul>
                    <li>Understand container architecture and how containers differ from virtual machines</li>
                    <li>Explain the kernel technologies that enable containerization</li>
                    <li>Use container management tools to run and manage containers</li>
                    <li>Work with container registries and images</li>
                    <li>Manage container lifecycle, storage, and networking</li>
                    <li>Configure containers to run as system services</li>
                </ul>
            </div>
        </header>

        <!-- Section 1: Introduction to Container Technology -->
        <section class="section" id="section-1" data-section="1">
            <h2>1. Introduction to Container Technology</h2>
            
            <p>Containers represent a revolutionary approach to application deployment and management. Unlike traditional deployment methods where applications run directly on the host operating system, containers provide isolated environments that package an application with all its dependencies, libraries, and configuration files.</p>

            <h3>What is a Container?</h3>
            <p>A <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-container">container<span class="tooltip-content" id="tooltip-container" role="tooltip">A lightweight, standalone executable package that includes everything needed to run software: code, runtime, system tools, libraries, and settings.</span></span> is an isolated instance created from a container image. Think of a container image as a template or blueprint, and the container as a running instance of that template. Multiple containers can be created from the same image, each operating independently.</p>

            <div class="callout callout-note">
                <div class="callout-title">
                    <span aria-hidden="true">üìù</span> Key Concept
                </div>
                <p>The relationship between images and containers is similar to the relationship between classes and objects in programming, or templates and documents in word processing.</p>
            </div>

            <h3>Kernel Technologies Behind Containers</h3>
            <p>Containers leverage several Linux kernel features to provide isolation and resource management:</p>

            <div class="accordion" id="kernel-tech-accordion">
                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="namespaces-panel" id="namespaces-header">
                        Namespaces
                    </button>
                    <div class="accordion-panel" id="namespaces-panel" aria-labelledby="namespaces-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-namespaces">Namespaces<span class="tooltip-content" id="tooltip-namespaces" role="tooltip">A Linux kernel feature that partitions kernel resources so that one set of processes sees one set of resources while another set sees a different set.</span></span> provide the fundamental isolation mechanism for containers. They create separate instances of previously global system resources, making it appear to processes within a namespace that they have their own isolated instance of that resource.</p>
                        <p><strong>Types of namespaces include:</strong></p>
                        <ul>
                            <li><strong>PID namespace:</strong> Isolates process IDs, allowing containers to have their own PID 1</li>
                            <li><strong>Network namespace:</strong> Provides isolated network stacks with their own interfaces, routing tables, and firewall rules</li>
                            <li><strong>Mount namespace:</strong> Isolates filesystem mount points</li>
                            <li><strong>UTS namespace:</strong> Allows containers to have their own hostname and domain name</li>
                            <li><strong>User namespace:</strong> Maps container UIDs to different host UIDs for security</li>
                            <li><strong>IPC namespace:</strong> Isolates inter-process communication resources</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="cgroups-panel" id="cgroups-header">
                        Control Groups (cgroups)
                    </button>
                    <div class="accordion-panel" id="cgroups-panel" aria-labelledby="cgroups-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-cgroups">Control Groups<span class="tooltip-content" id="tooltip-cgroups" role="tooltip">A Linux kernel feature that limits, accounts for, and isolates resource usage (CPU, memory, disk I/O, network) of process groups.</span></span> (cgroups) manage and limit the resources available to containers. They prevent any single container from consuming all system resources.</p>
                        <p><strong>Resources managed by cgroups:</strong></p>
                        <ul>
                            <li><strong>CPU:</strong> Limit CPU time and cores available to containers</li>
                            <li><strong>Memory:</strong> Set memory limits and handle out-of-memory situations</li>
                            <li><strong>Block I/O:</strong> Control disk read/write bandwidth</li>
                            <li><strong>Network:</strong> Manage network bandwidth allocation</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="selinux-panel" id="selinux-header">
                        SELinux
                    </button>
                    <div class="accordion-panel" id="selinux-panel" aria-labelledby="selinux-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-selinux">SELinux<span class="tooltip-content" id="tooltip-selinux" role="tooltip">Security-Enhanced Linux: A mandatory access control (MAC) security mechanism implemented in the kernel that provides fine-grained access control.</span></span> adds an additional security layer by enforcing mandatory access controls. It prevents containers from accessing host resources they shouldn't access, even if a container is compromised.</p>
                        <p>Container runtimes typically run containers with a specific SELinux context that restricts their capabilities and access to host files.</p>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="seccomp-panel" id="seccomp-header">
                        Seccomp
                    </button>
                    <div class="accordion-panel" id="seccomp-panel" aria-labelledby="seccomp-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-seccomp">Seccomp<span class="tooltip-content" id="tooltip-seccomp" role="tooltip">Secure Computing Mode: A Linux kernel feature that restricts the system calls a process can make, reducing the attack surface.</span></span> (Secure Computing Mode) restricts which system calls a containerized process can make. This reduces the attack surface by blocking potentially dangerous system calls.</p>
                        <p>Default seccomp profiles block approximately 44 of the 300+ system calls available in Linux, preventing operations like loading kernel modules or modifying the system clock.</p>
                    </div>
                </div>
            </div>

            <h3>Containers vs. Virtual Machines</h3>
            <p>While both containers and virtual machines provide isolation, they achieve it through fundamentally different approaches:</p>

            <div class="comparison-container">
                <div class="comparison-box">
                    <h4>Virtual Machines</h4>
                    <div class="comparison-diagram">
                        <div class="diagram-layer app">App A</div>
                        <div class="diagram-layer app">Bins/Libs</div>
                        <div class="diagram-layer os">Guest OS</div>
                        <div class="diagram-layer runtime">Hypervisor</div>
                        <div class="diagram-layer os">Host OS</div>
                        <div class="diagram-layer hardware">Hardware</div>
                    </div>
                    <p>Each VM includes a full operating system, consuming significant resources. Boot time measured in minutes.</p>
                </div>

                <div class="comparison-box">
                    <h4>Containers</h4>
                    <div class="comparison-diagram">
                        <div class="diagram-layer app">App A</div>
                        <div class="diagram-layer app">App B</div>
                        <div class="diagram-layer app">Bins/Libs</div>
                        <div class="diagram-layer runtime">Container Runtime</div>
                        <div class="diagram-layer os">Host OS</div>
                        <div class="diagram-layer hardware">Hardware</div>
                    </div>
                    <p>Containers share the host kernel, making them lightweight. Boot time measured in seconds.</p>
                </div>
            </div>

            <h3>OCI Standards</h3>
            <p>The <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-oci">Open Container Initiative (OCI)<span class="tooltip-content" id="tooltip-oci" role="tooltip">An industry standards organization that defines specifications for container image formats and runtime behavior to ensure interoperability.</span></span> establishes industry standards for container technology. OCI-compliant container images can run on any OCI-compliant runtime, ensuring portability across different platforms and tools.</p>

            <!-- Quiz for Section 1 -->
            <div class="quiz" role="form" aria-labelledby="quiz1-title">
                <h3 id="quiz1-title">
                    <span aria-hidden="true">üìã</span> Knowledge Check: Container Fundamentals
                </h3>

                <div class="quiz-question">
                    <p id="q1-label">1. Which kernel feature provides isolation by creating separate instances of system resources?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q1-label" aria-describedby="q1-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q1" id="q1a" value="a">
                            <label for="q1a">Control Groups (cgroups)</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q1" id="q1b" value="b">
                            <label for="q1b">Namespaces</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q1" id="q1c" value="c">
                            <label for="q1c">Seccomp</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q1" id="q1d" value="d">
                            <label for="q1d">Hypervisor</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q1-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q2-label">2. What is the primary purpose of cgroups in container technology?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q2-label" aria-describedby="q2-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q2" id="q2a" value="a">
                            <label for="q2a">Provide network isolation</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q2" id="q2b" value="b">
                            <label for="q2b">Manage and limit resource usage</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q2" id="q2c" value="c">
                            <label for="q2c">Store container images</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q2" id="q2d" value="d">
                            <label for="q2d">Create virtual network interfaces</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q2-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q3-label">3. Which statement best describes the difference between containers and VMs?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q3-label" aria-describedby="q3-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q3" id="q3a" value="a">
                            <label for="q3a">Containers include a full OS; VMs share the host kernel</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q3" id="q3b" value="b">
                            <label for="q3b">Containers share the host kernel; VMs include a full guest OS</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q3" id="q3c" value="c">
                            <label for="q3c">Containers require a hypervisor; VMs do not</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q3" id="q3d" value="d">
                            <label for="q3d">There is no practical difference between containers and VMs</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q3-feedback" role="status" aria-live="polite"></div>
                </div>

                <button type="button" class="quiz-submit" onclick="checkQuiz1()" aria-describedby="quiz1-score">Check Answers</button>
                <div class="quiz-score" id="quiz1-score" aria-live="polite"></div>
            </div>
        </section>

        <!-- Section 2: Container Concepts -->
        <section class="section" id="section-2" data-section="2">
            <h2>2. Container Concepts and Use Cases</h2>

            <p>Containers have transformed how organizations develop, deploy, and manage applications. Understanding the key concepts and use cases helps you leverage container technology effectively.</p>

            <h3>Development Benefits</h3>
            
            <div class="tabs">
                <div class="tab-list" role="tablist" aria-label="Development benefits tabs">
                    <button class="tab-btn" role="tab" aria-selected="true" aria-controls="stability-panel" id="stability-tab">Stability</button>
                    <button class="tab-btn" role="tab" aria-selected="false" aria-controls="testing-panel" id="testing-tab">Testing</button>
                    <button class="tab-btn" role="tab" aria-selected="false" aria-controls="cicd-panel" id="cicd-tab">CI/CD</button>
                    <button class="tab-btn" role="tab" aria-selected="false" aria-controls="microservices-panel" id="microservices-tab">Microservices</button>
                </div>

                <div class="tab-panel" id="stability-panel" role="tabpanel" aria-labelledby="stability-tab" aria-hidden="false">
                    <h4>Application Stability</h4>
                    <p>Containers ensure that applications run consistently across different environments. The "works on my machine" problem disappears because containers package all dependencies together.</p>
                    <ul>
                        <li>Development, staging, and production environments use identical container images</li>
                        <li>Library conflicts between applications are eliminated</li>
                        <li>System updates don't affect containerized applications</li>
                        <li>Rollback is as simple as running the previous image version</li>
                    </ul>
                </div>

                <div class="tab-panel" id="testing-panel" role="tabpanel" aria-labelledby="testing-tab" aria-hidden="true">
                    <h4>Testing Environments</h4>
                    <p>Containers make it easy to create isolated testing environments that can be spun up and destroyed quickly.</p>
                    <ul>
                        <li>Create fresh test environments for each test run</li>
                        <li>Run multiple test environments simultaneously</li>
                        <li>Test different application versions side-by-side</li>
                        <li>Reproduce production issues in isolated environments</li>
                    </ul>
                </div>

                <div class="tab-panel" id="cicd-panel" role="tabpanel" aria-labelledby="cicd-tab" aria-hidden="true">
                    <h4>Continuous Integration/Continuous Deployment</h4>
                    <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-cicd">CI/CD pipelines<span class="tooltip-content" id="tooltip-cicd" role="tooltip">Automated processes that build, test, and deploy applications whenever code changes are committed.</span></span> benefit greatly from container technology.</p>
                    <ul>
                        <li>Build once, deploy anywhere</li>
                        <li>Automated testing in consistent environments</li>
                        <li>Fast deployment with minimal downtime</li>
                        <li>Easy rollback if issues are detected</li>
                    </ul>
                </div>

                <div class="tab-panel" id="microservices-panel" role="tabpanel" aria-labelledby="microservices-tab" aria-hidden="true">
                    <h4>Microservices Architecture</h4>
                    <p>Containers are ideal for <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-microservices">microservices<span class="tooltip-content" id="tooltip-microservices" role="tooltip">An architectural style that structures an application as a collection of small, independent services that communicate over a network.</span></span>, where applications are broken into small, independent services.</p>
                    <ul>
                        <li>Each service runs in its own container</li>
                        <li>Services can be scaled independently</li>
                        <li>Different services can use different technologies</li>
                        <li>Failures are isolated to individual services</li>
                    </ul>
                </div>
            </div>

            <h3>The Ephemeral Nature of Containers</h3>
            <p>Containers are designed to be <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-ephemeral">ephemeral<span class="tooltip-content" id="tooltip-ephemeral" role="tooltip">Short-lived or temporary. Ephemeral containers can be stopped and destroyed, then rebuilt and replaced with minimal setup.</span></span>‚Äîthey can be stopped, destroyed, and replaced easily. This design philosophy has important implications:</p>

            <div class="callout callout-warning">
                <div class="callout-title">
                    <span aria-hidden="true">‚ö†Ô∏è</span> Important Consideration
                </div>
                <p>Data stored inside a container is lost when the container is removed. Always use persistent storage solutions (volumes or bind mounts) for data that must survive container lifecycle changes.</p>
            </div>

            <h3>Multi-Container Applications</h3>
            <p>Complex applications often require multiple containers working together. For example, a web application might include:</p>
            <ul>
                <li><strong>Web server container:</strong> Serves static content and handles HTTP requests</li>
                <li><strong>Application container:</strong> Runs the application logic</li>
                <li><strong>Database container:</strong> Stores persistent data</li>
                <li><strong>Cache container:</strong> Improves performance with in-memory caching</li>
            </ul>
            <p>Container orchestration tools like Kubernetes or Docker Compose help manage these multi-container deployments.</p>
        </section>

        <!-- Section 3: Container Tools -->
        <section class="section" id="section-3" data-section="3">
            <h2>3. Container Management Tools</h2>

            <p>Several tools are available for managing containers. This section focuses on <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-podman">Podman<span class="tooltip-content" id="tooltip-podman" role="tooltip">A daemonless container engine for developing, managing, and running OCI containers. It can run containers as a non-root user.</span></span>, a popular, daemonless container engine that offers significant advantages for enterprise environments.</p>

            <h3>Why Podman?</h3>
            <p>Podman offers several advantages over other container engines:</p>
            <ul>
                <li><strong>Daemonless architecture:</strong> No central daemon means no single point of failure</li>
                <li><strong>Rootless containers:</strong> Run containers as a non-root user for enhanced security</li>
                <li><strong>Docker compatibility:</strong> Commands are nearly identical to Docker commands</li>
                <li><strong>Pod support:</strong> Native support for running multiple containers in pods</li>
                <li><strong>Systemd integration:</strong> Generate systemd unit files for container management</li>
            </ul>

            <h3>Essential Podman Commands</h3>
            <div class="command-grid">
                <div class="command-card">
                    <h4>Search for Images</h4>
                    <code>podman search nginx</code>
                    <p>Search configured registries for available images.</p>
                </div>

                <div class="command-card">
                    <h4>Pull an Image</h4>
                    <code>podman pull nginx:latest</code>
                    <p>Download an image from a registry to local storage.</p>
                </div>

                <div class="command-card">
                    <h4>List Images</h4>
                    <code>podman images</code>
                    <p>Display all locally stored images.</p>
                </div>

                <div class="command-card">
                    <h4>Run a Container</h4>
                    <code>podman run -d nginx</code>
                    <p>Create and start a container from an image.</p>
                </div>

                <div class="command-card">
                    <h4>List Containers</h4>
                    <code>podman ps -a</code>
                    <p>Show all containers (running and stopped).</p>
                </div>

                <div class="command-card">
                    <h4>Stop a Container</h4>
                    <code>podman stop container_id</code>
                    <p>Gracefully stop a running container.</p>
                </div>

                <div class="command-card">
                    <h4>Remove a Container</h4>
                    <code>podman rm container_id</code>
                    <p>Delete a stopped container.</p>
                </div>

                <div class="command-card">
                    <h4>Remove an Image</h4>
                    <code>podman rmi image_id</code>
                    <p>Delete an image from local storage.</p>
                </div>
            </div>

            <h3>Running Containers with Options</h3>
            <p>The <code>podman run</code> command accepts many options to customize container behavior:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code>podman run -d --name webserver -p 8080:80 -e NGINX_HOST=localhost -v /data:/usr/share/nginx/html:Z nginx:latest</code>
            </div>

            <p><strong>Common options explained:</strong></p>
            <ul>
                <li><code>-d</code>: Run container in detached mode (background)</li>
                <li><code>--name</code>: Assign a custom name to the container</li>
                <li><code>-p 8080:80</code>: Map host port 8080 to container port 80</li>
                <li><code>-e VARIABLE=value</code>: Set environment variables</li>
                <li><code>-v /host/path:/container/path:Z</code>: Mount a volume with SELinux context</li>
                <li><code>--rm</code>: Automatically remove container when it exits</li>
                <li><code>-it</code>: Interactive mode with terminal (for shell access)</li>
            </ul>

            <div class="callout callout-tip">
                <div class="callout-title">
                    <span aria-hidden="true">üí°</span> Pro Tip
                </div>
                <p>The <code>:Z</code> suffix on volume mounts tells Podman to relabel the content with the appropriate SELinux context, allowing the container to access the mounted directory.</p>
            </div>
        </section>

        <!-- Section 4: Container Registries -->
        <section class="section" id="section-4" data-section="4">
            <h2>4. Container Registries</h2>

            <p>A <span class="tooltip-term" tabindex="0" aria-describedby="tooltip-registry">container registry<span class="tooltip-content" id="tooltip-registry" role="tooltip">A repository for storing and distributing container images. Registries can be public (like Docker Hub) or private (for internal use).</span></span> is a storage and distribution system for container images. Understanding how to work with registries is essential for container management.</p>

            <h3>Image Naming Conventions</h3>
            <p>Container images follow a specific naming format:</p>

            <div class="code-block">
                <code>registry.example.com:5000/namespace/image-name:tag</code>
            </div>

            <p><strong>Components:</strong></p>
            <ul>
                <li><strong>Registry:</strong> The server hosting the image (e.g., docker.io, quay.io, registry.access.redhat.com)</li>
                <li><strong>Port:</strong> Optional; defaults to 443 for HTTPS</li>
                <li><strong>Namespace:</strong> Organization or user (e.g., library, rhel9)</li>
                <li><strong>Image name:</strong> The name of the image</li>
                <li><strong>Tag:</strong> Version identifier (defaults to "latest" if not specified)</li>
            </ul>

            <div class="callout callout-warning">
                <div class="callout-title">
                    <span aria-hidden="true">‚ö†Ô∏è</span> Best Practice
                </div>
                <p>Always specify explicit tags rather than relying on "latest". The "latest" tag doesn't guarantee the newest version‚Äîit's just a default tag that may point to any version the publisher chooses.</p>
            </div>

            <h3>Registry Authentication</h3>
            <p>Many registries require authentication to pull images. Use the login command:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code>podman login registry.example.com
Username: your-username
Password: ********
Login Succeeded!</code>
            </div>

            <p>Credentials are stored in <code>~/.config/containers/auth.json</code> (or <code>/run/user/UID/containers/auth.json</code> for rootless containers).</p>

            <h3>Universal Base Images (UBI)</h3>
            <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-ubi">Universal Base Images<span class="tooltip-content" id="tooltip-ubi" role="tooltip">A set of container base images from Red Hat that can be freely redistributed. UBI images receive security updates and can be used without a subscription.</span></span> (UBI) provide enterprise-quality base images that can be freely used and redistributed. They come in several variants:</p>

            <ul>
                <li><strong>ubi9/ubi:</strong> Standard base image with common utilities</li>
                <li><strong>ubi9/ubi-minimal:</strong> Smaller footprint for size-optimized containers</li>
                <li><strong>ubi9/ubi-micro:</strong> Smallest image, no package manager</li>
                <li><strong>ubi9/ubi-init:</strong> Includes systemd for running system services</li>
            </ul>

            <h3>Using Skopeo</h3>
            <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-skopeo">Skopeo<span class="tooltip-content" id="tooltip-skopeo" role="tooltip">A command-line utility for working with remote container images and registries. It can inspect, copy, and sign images without requiring a local daemon.</span></span> is a tool for inspecting and copying container images without downloading the full image:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Inspect image metadata without pulling
skopeo inspect docker://registry.access.redhat.com/ubi9/ubi:latest

# Copy image between registries
skopeo copy docker://source-registry/image:tag docker://dest-registry/image:tag</code>
            </div>

            <!-- Quiz for Section 4 -->
            <div class="quiz" role="form" aria-labelledby="quiz2-title">
                <h3 id="quiz2-title">
                    <span aria-hidden="true">üìã</span> Knowledge Check: Registries and Images
                </h3>

                <div class="quiz-question">
                    <p id="q4-label">4. In the image name "registry.example.com/myorg/webapp:v2.1", what does "v2.1" represent?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q4-label" aria-describedby="q4-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q4" id="q4a" value="a">
                            <label for="q4a">The namespace</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q4" id="q4b" value="b">
                            <label for="q4b">The image tag</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q4" id="q4c" value="c">
                            <label for="q4c">The registry name</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q4" id="q4d" value="d">
                            <label for="q4d">The container ID</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q4-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q5-label">5. What command is used to authenticate to a container registry?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q5-label" aria-describedby="q5-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q5" id="q5a" value="a">
                            <label for="q5a">podman auth</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q5" id="q5b" value="b">
                            <label for="q5b">podman connect</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q5" id="q5c" value="c">
                            <label for="q5c">podman login</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q5" id="q5d" value="d">
                            <label for="q5d">podman register</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q5-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q6-label">6. Which tool can inspect container images without pulling them locally?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q6-label" aria-describedby="q6-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q6" id="q6a" value="a">
                            <label for="q6a">podman inspect</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q6" id="q6b" value="b">
                            <label for="q6b">skopeo inspect</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q6" id="q6c" value="c">
                            <label for="q6c">buildah inspect</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q6" id="q6d" value="d">
                            <label for="q6d">docker inspect</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q6-feedback" role="status" aria-live="polite"></div>
                </div>

                <button type="button" class="quiz-submit" onclick="checkQuiz2()" aria-describedby="quiz2-score">Check Answers</button>
                <div class="quiz-score" id="quiz2-score" aria-live="polite"></div>
            </div>
        </section>

        <!-- Section 5: Container Lifecycle -->
        <section class="section" id="section-5" data-section="5">
            <h2>5. Container Lifecycle Management</h2>

            <p>Managing the complete lifecycle of containers‚Äîfrom creation to removal‚Äîis essential for maintaining healthy containerized applications.</p>

            <h3>Container States</h3>
            <p>Containers can exist in several states:</p>
            <ul>
                <li><strong>Created:</strong> Container exists but hasn't been started</li>
                <li><strong>Running:</strong> Container is actively executing</li>
                <li><strong>Paused:</strong> Container processes are suspended</li>
                <li><strong>Stopped:</strong> Container has been stopped but still exists</li>
                <li><strong>Removed:</strong> Container has been deleted</li>
            </ul>

            <h3>Executing Commands in Containers</h3>
            <p>Use <code>podman exec</code> to run commands inside a running container:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Run a single command
podman exec webserver cat /etc/nginx/nginx.conf

# Start an interactive shell
podman exec -it webserver /bin/bash

# Run command as specific user
podman exec -u nginx webserver whoami</code>
            </div>

            <h3>Viewing Container Logs</h3>
            <p>Container logs capture stdout and stderr from the container's main process:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># View all logs
podman logs webserver

# Follow logs in real-time
podman logs -f webserver

# Show last 50 lines
podman logs --tail 50 webserver

# Show logs with timestamps
podman logs -t webserver</code>
            </div>

            <h3>Persistent Storage</h3>
            <p>Since containers are ephemeral, you need persistent storage solutions for data that must survive container restarts or removal.</p>

            <div class="accordion" id="storage-accordion">
                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="bind-mount-panel" id="bind-mount-header">
                        Bind Mounts
                    </button>
                    <div class="accordion-panel" id="bind-mount-panel" aria-labelledby="bind-mount-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-bind-mount">Bind mounts<span class="tooltip-content" id="tooltip-bind-mount" role="tooltip">A storage mechanism that mounts a specific directory from the host filesystem into the container.</span></span> connect a host directory directly to a container path:</p>
                        <div class="code-block">
                            <code>podman run -v /host/data:/container/data:Z nginx</code>
                        </div>
                        <p><strong>Use cases:</strong></p>
                        <ul>
                            <li>Development: Mount source code for live editing</li>
                            <li>Configuration: Provide custom config files</li>
                            <li>Sharing data between host and container</li>
                        </ul>
                        <p><strong>Mount options:</strong></p>
                        <ul>
                            <li><code>:ro</code> - Read-only mount</li>
                            <li><code>:Z</code> - SELinux private unshared label</li>
                            <li><code>:z</code> - SELinux shared label</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header" aria-expanded="false" aria-controls="volumes-panel" id="volumes-header">
                        Named Volumes
                    </button>
                    <div class="accordion-panel" id="volumes-panel" aria-labelledby="volumes-header" aria-hidden="true" role="region">
                        <p><span class="tooltip-term" tabindex="0" aria-describedby="tooltip-volume">Named volumes<span class="tooltip-content" id="tooltip-volume" role="tooltip">Storage managed by the container engine that persists independently of containers. Volumes can be shared between containers.</span></span> are managed by Podman and offer advantages for persistent data:</p>
                        <div class="code-block">
                            <code># Create a named volume
podman volume create mydata

# Use volume in container
podman run -v mydata:/data nginx

# List volumes
podman volume ls

# Inspect volume details
podman volume inspect mydata

# Remove unused volumes
podman volume prune</code>
                        </div>
                        <p><strong>Advantages:</strong></p>
                        <ul>
                            <li>Easier to back up and migrate</li>
                            <li>Can be shared among multiple containers</li>
                            <li>Storage location managed by container engine</li>
                            <li>Works the same across different operating systems</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>Running Containers as System Services</h3>
            <p>Podman can generate systemd unit files to run containers as services:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Generate systemd unit file for existing container
podman generate systemd --name webserver --files --new

# Move to systemd user directory
mkdir -p ~/.config/systemd/user
mv container-webserver.service ~/.config/systemd/user/

# Enable and start the service
systemctl --user daemon-reload
systemctl --user enable --now container-webserver.service

# Check service status
systemctl --user status container-webserver.service</code>
            </div>

            <div class="callout callout-tip">
                <div class="callout-title">
                    <span aria-hidden="true">üí°</span> Pro Tip
                </div>
                <p>The <code>--new</code> flag ensures systemd creates a fresh container each time the service starts, rather than restarting an existing container. This follows the best practice of treating containers as ephemeral.</p>
            </div>

            <h4>Enabling Linger for User Services</h4>
            <p>By default, user systemd services only run while the user is logged in. Enable "linger" to keep services running after logout:</p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code>loginctl enable-linger username</code>
            </div>

            <!-- Quiz for Section 5 -->
            <div class="quiz" role="form" aria-labelledby="quiz3-title">
                <h3 id="quiz3-title">
                    <span aria-hidden="true">üìã</span> Knowledge Check: Lifecycle and Storage
                </h3>

                <div class="quiz-question">
                    <p id="q7-label">7. Which command shows logs from a container in real-time?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q7-label" aria-describedby="q7-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q7" id="q7a" value="a">
                            <label for="q7a">podman logs --live webserver</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q7" id="q7b" value="b">
                            <label for="q7b">podman logs -f webserver</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q7" id="q7c" value="c">
                            <label for="q7c">podman logs --stream webserver</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q7" id="q7d" value="d">
                            <label for="q7d">podman logs -r webserver</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q7-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q8-label">8. What does the :Z suffix on a bind mount indicate?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q8-label" aria-describedby="q8-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q8" id="q8a" value="a">
                            <label for="q8a">Compress the mounted data</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q8" id="q8b" value="b">
                            <label for="q8b">Zero out the directory before mounting</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q8" id="q8c" value="c">
                            <label for="q8c">Apply private SELinux relabeling</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q8" id="q8d" value="d">
                            <label for="q8d">Create a zip archive of the mount</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q8-feedback" role="status" aria-live="polite"></div>
                </div>

                <div class="quiz-question">
                    <p id="q9-label">9. Which command generates systemd unit files for a container?</p>
                    <div class="quiz-options" role="radiogroup" aria-labelledby="q9-label" aria-describedby="q9-feedback">
                        <div class="quiz-option">
                            <input type="radio" name="q9" id="q9a" value="a">
                            <label for="q9a">podman systemd create</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q9" id="q9b" value="b">
                            <label for="q9b">podman generate systemd</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q9" id="q9c" value="c">
                            <label for="q9c">systemctl generate podman</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q9" id="q9d" value="d">
                            <label for="q9d">podman service create</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="q9-feedback" role="status" aria-live="polite"></div>
                </div>

                <button type="button" class="quiz-submit" onclick="checkQuiz3()" aria-describedby="quiz3-score">Check Answers</button>
                <div class="quiz-score" id="quiz3-score" aria-live="polite"></div>
            </div>
        </section>

        <!-- Section 6: Practice Lab -->
        <section class="section" id="section-6" data-section="6">
            <h2>6. Practice Lab: Deploying a Web Server Container</h2>

            <p>Apply what you've learned by deploying a web server container with persistent storage and managing it as a systemd service.</p>

            <div class="callout callout-note">
                <div class="callout-title">
                    <span aria-hidden="true">üìù</span> Lab Prerequisites
                </div>
                <p>You need a Linux system with Podman installed. Most Enterprise Linux distributions include Podman in their default repositories.</p>
            </div>

            <div class="lab-checklist">
                <h4>Lab Tasks Checklist</h4>
                
                <div class="checklist-item">
                    <input type="checkbox" id="task1" onchange="updateChecklist(this)">
                    <label for="task1"><strong>Task 1:</strong> Create a directory for web content at ~/webdata</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task2" onchange="updateChecklist(this)">
                    <label for="task2"><strong>Task 2:</strong> Create an index.html file in the webdata directory</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task3" onchange="updateChecklist(this)">
                    <label for="task3"><strong>Task 3:</strong> Pull an nginx image from a public registry</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task4" onchange="updateChecklist(this)">
                    <label for="task4"><strong>Task 4:</strong> Run the container with port mapping and bind mount</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task5" onchange="updateChecklist(this)">
                    <label for="task5"><strong>Task 5:</strong> Verify the web server is accessible</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task6" onchange="updateChecklist(this)">
                    <label for="task6"><strong>Task 6:</strong> Generate and enable a systemd service for the container</label>
                </div>

                <div class="checklist-item">
                    <input type="checkbox" id="task7" onchange="updateChecklist(this)">
                    <label for="task7"><strong>Task 7:</strong> Test that the service starts automatically</label>
                </div>
            </div>

            <h3>Detailed Lab Instructions</h3>

            <h4>Step 1: Prepare Web Content Directory</h4>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Create directory for web content
mkdir -p ~/webdata

# Create a simple HTML file
cat > ~/webdata/index.html &lt;&lt;EOF
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Container Lab&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello from Container!&lt;/h1&gt;
    &lt;p&gt;This page is served from a containerized web server.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF</code>
            </div>

            <h4>Step 2: Pull and Run the Container</h4>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Pull nginx image
podman pull docker.io/library/nginx:1.25

# Run container with port mapping and bind mount
podman run -d \
    --name mywebserver \
    -p 8080:80 \
    -v ~/webdata:/usr/share/nginx/html:Z \
    nginx:1.25</code>
            </div>

            <h4>Step 3: Verify the Deployment</h4>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Check container status
podman ps

# Test web server
curl http://localhost:8080

# View container logs
podman logs mywebserver</code>
            </div>

            <h4>Step 4: Create Systemd Service</h4>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy command to clipboard">Copy</button>
                <code># Generate systemd unit file
podman generate systemd --name mywebserver --files --new

# Create user systemd directory and move service file
mkdir -p ~/.config/systemd/user
mv container-mywebserver.service ~/.config/systemd/user/

# Reload systemd and enable service
systemctl --user daemon-reload
systemctl --user enable container-mywebserver.service

# Stop and remove the manually created container
podman stop mywebserver
podman rm mywebserver

# Start via systemd
systemctl --user start container-mywebserver.service

# Verify service status
systemctl --user status container-mywebserver.service</code>
            </div>

            <div class="callout callout-tip">
                <div class="callout-title">
                    <span aria-hidden="true">üí°</span> Verification
                </div>
                <p>After completing the lab, test that your web server is accessible by opening <code>http://localhost:8080</code> in a web browser or using <code>curl</code>. You should see your custom HTML page.</p>
            </div>
        </section>

        <!-- Summary Section -->
        <section class="section" id="summary">
            <h2>Summary</h2>
            <p>In this module, you learned:</p>
            <ul>
                <li>Containers provide isolated, lightweight environments for running applications</li>
                <li>Kernel features (namespaces, cgroups, SELinux, seccomp) enable container isolation and security</li>
                <li>Containers share the host kernel, making them more efficient than virtual machines</li>
                <li>Podman provides a daemonless, rootless container management solution</li>
                <li>Container registries store and distribute container images</li>
                <li>Persistent storage requires volumes or bind mounts since containers are ephemeral</li>
                <li>Containers can be managed as systemd services for automatic startup and management</li>
            </ul>

            <div class="callout callout-note">
                <div class="callout-title">
                    <span aria-hidden="true">üìù</span> Next Steps
                </div>
                <p>To continue learning about container technology, explore topics like Containerfiles/Dockerfiles for building custom images, container networking, orchestration with Kubernetes, and container security best practices.</p>
            </div>
        </section>
    </main>

    <!-- JavaScript -->
    <script>
        // ============================================
        // ACCORDION FUNCTIONALITY
        // ============================================
        document.querySelectorAll('.accordion-header').forEach(button => {
            button.addEventListener('click', () => {
                const expanded = button.getAttribute('aria-expanded') === 'true';
                const panel = document.getElementById(button.getAttribute('aria-controls'));
                
                // Toggle current
                button.setAttribute('aria-expanded', !expanded);
                panel.setAttribute('aria-hidden', expanded);
            });

            // Keyboard navigation
            button.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    button.click();
                }
            });
        });

        // ============================================
        // TAB FUNCTIONALITY
        // ============================================
        document.querySelectorAll('.tab-list').forEach(tabList => {
            const tabs = tabList.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Deactivate all tabs
                    tabs.forEach(t => {
                        t.setAttribute('aria-selected', 'false');
                        const panel = document.getElementById(t.getAttribute('aria-controls'));
                        panel.setAttribute('aria-hidden', 'true');
                    });

                    // Activate clicked tab
                    tab.setAttribute('aria-selected', 'true');
                    const panel = document.getElementById(tab.getAttribute('aria-controls'));
                    panel.setAttribute('aria-hidden', 'false');
                });

                // Keyboard navigation
                tab.addEventListener('keydown', (e) => {
                    const index = Array.from(tabs).indexOf(tab);
                    let newIndex;

                    if (e.key === 'ArrowRight') {
                        newIndex = (index + 1) % tabs.length;
                    } else if (e.key === 'ArrowLeft') {
                        newIndex = (index - 1 + tabs.length) % tabs.length;
                    } else if (e.key === 'Home') {
                        newIndex = 0;
                    } else if (e.key === 'End') {
                        newIndex = tabs.length - 1;
                    } else {
                        return;
                    }

                    e.preventDefault();
                    tabs[newIndex].click();
                    tabs[newIndex].focus();
                });
            });
        });

        // ============================================
        // TOOLTIP POSITIONING (Viewport Aware)
        // ============================================
        document.querySelectorAll('.tooltip-term').forEach(term => {
            const tooltip = term.querySelector('.tooltip-content');
            
            const positionTooltip = () => {
                const rect = term.getBoundingClientRect();
                const tooltipRect = tooltip.getBoundingClientRect();
                
                // Check if tooltip would go above viewport
                if (rect.top < tooltipRect.height + 20) {
                    term.classList.add('tooltip-bottom');
                } else {
                    term.classList.remove('tooltip-bottom');
                }

                // Check horizontal positioning
                if (rect.left < tooltipRect.width / 2) {
                    tooltip.style.left = '0';
                    tooltip.style.transform = 'translateX(0)';
                } else if (rect.right + tooltipRect.width / 2 > window.innerWidth) {
                    tooltip.style.left = 'auto';
                    tooltip.style.right = '0';
                    tooltip.style.transform = 'translateX(0)';
                }
            };

            term.addEventListener('mouseenter', positionTooltip);
            term.addEventListener('focus', positionTooltip);

            // Enhanced: Keep tooltip visible when hovering over it
            let hideTimeout;
            
            term.addEventListener('mouseleave', () => {
                hideTimeout = setTimeout(() => {
                    // Tooltip will hide via CSS
                }, 100);
            });

            tooltip.addEventListener('mouseenter', () => {
                clearTimeout(hideTimeout);
            });

            tooltip.addEventListener('mouseleave', () => {
                // Allow CSS to handle hiding
            });
        });

        // ============================================
        // COPY TO CLIPBOARD
        // ============================================
        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                button.textContent = 'Error';
            });
        }

        // ============================================
        // QUIZ FUNCTIONALITY (Enhanced Accessibility)
        // ============================================
        const quizAnswers = {
            q1: 'b', // Namespaces
            q2: 'b', // Manage and limit resource usage
            q3: 'b', // Containers share the host kernel
            q4: 'b', // The image tag
            q5: 'c', // podman login
            q6: 'b', // skopeo inspect
            q7: 'b', // podman logs -f
            q8: 'c', // Apply private SELinux relabeling
            q9: 'b'  // podman generate systemd
        };

        function checkAnswer(questionName) {
            const selected = document.querySelector(`input[name="${questionName}"]:checked`);
            const feedback = document.getElementById(`${questionName}-feedback`);
            
            if (!selected) {
                return null;
            }

            const isCorrect = selected.value === quizAnswers[questionName];
            feedback.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
            feedback.textContent = isCorrect ? '‚úì Correct!' : '‚úó Incorrect. Try again.';
            
            return isCorrect;
        }

        function checkQuiz1() {
            let correct = 0;
            let total = 3;

            ['q1', 'q2', 'q3'].forEach(q => {
                if (checkAnswer(q)) correct++;
            });

            const scoreDiv = document.getElementById('quiz1-score');
            scoreDiv.innerHTML = `<strong>Score: ${correct}/${total}</strong> - ${correct === total ? 'Excellent work!' : 'Review the incorrect answers and try again.'}`;
        }

        function checkQuiz2() {
            let correct = 0;
            let total = 3;

            ['q4', 'q5', 'q6'].forEach(q => {
                if (checkAnswer(q)) correct++;
            });

            const scoreDiv = document.getElementById('quiz2-score');
            scoreDiv.innerHTML = `<strong>Score: ${correct}/${total}</strong> - ${correct === total ? 'Excellent work!' : 'Review the incorrect answers and try again.'}`;
        }

        function checkQuiz3() {
            let correct = 0;
            let total = 3;

            ['q7', 'q8', 'q9'].forEach(q => {
                if (checkAnswer(q)) correct++;
            });

            const scoreDiv = document.getElementById('quiz3-score');
            scoreDiv.innerHTML = `<strong>Score: ${correct}/${total}</strong> - ${correct === total ? 'Excellent work!' : 'Review the incorrect answers and try again.'}`;
        }

        // ============================================
        // CHECKLIST FUNCTIONALITY
        // ============================================
        function updateChecklist(checkbox) {
            const item = checkbox.closest('.checklist-item');
            if (checkbox.checked) {
                item.classList.add('completed');
            } else {
                item.classList.remove('completed');
            }
        }

        // ============================================
        // PROGRESS TRACKING (Enhanced with aria-live)
        // ============================================
        function updateProgress() {
            const sections = document.querySelectorAll('.section[data-section]');
            const scrollPosition = window.scrollY + window.innerHeight / 2;
            let currentSection = 1;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionNum = parseInt(section.dataset.section);
                
                if (scrollPosition >= sectionTop) {
                    currentSection = sectionNum;
                }
            });

            const totalSections = sections.length;
            const progress = (currentSection / totalSections) * 100;

            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            const progressBar = progressFill.closest('[role="progressbar"]');

            progressFill.style.width = progress + '%';
            progressBar.setAttribute('aria-valuenow', Math.round(progress));
            
            // Update text (aria-live will announce changes)
            const newText = `Section ${currentSection} of ${totalSections}`;
            if (progressText.textContent !== newText) {
                progressText.textContent = newText;
            }
        }

        // Throttle scroll events
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    updateProgress();
                    ticking = false;
                });
                ticking = true;
            }
        });

        // Initial progress update
        updateProgress();
    </script>
</body>
</html>
