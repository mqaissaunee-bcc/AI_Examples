<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive lesson on Security Concepts and CMMC 2.0 Ecosystem for CompTIA Security+ students">
    <title>Security Concepts & CMMC Ecosystem | Security+ Training Module</title>
    <style>
        /* CSS Custom Properties - Web Safe Colors with AAA Contrast */
        :root {
            --primary-dark: #1a365d;
            --primary-medium: #2c5282;
            --primary-light: #4299e1;
            --accent-gold: #d69e2e;
            --accent-orange: #dd6b20;
            --accent-teal: #319795;
            --success-green: #276749;
            --warning-red: #c53030;
            --neutral-dark: #2d3748;
            --neutral-medium: #4a5568;
            --neutral-light: #718096;
            --bg-cream: #fffff0;
            --bg-white: #ffffff;
            --bg-light-blue: #ebf8ff;
            --bg-light-gray: #f7fafc;
            --border-color: #cbd5e0;
            --shadow-color: rgba(26, 54, 93, 0.15);
            --focus-ring: #3182ce;
            --font-display: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --font-body: Georgia, 'Times New Roman', serif;
            --font-mono: 'Consolas', 'Courier New', monospace;
        }

        /* Reset and Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            font-size: 18px;
            line-height: 1.7;
            color: var(--neutral-dark);
            background: linear-gradient(135deg, var(--bg-light-blue) 0%, var(--bg-white) 50%, var(--bg-light-gray) 100%);
            min-height: 100vh;
        }

        /* Skip Link for Accessibility */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 12px 24px;
            border-radius: 0 0 8px 8px;
            text-decoration: none;
            font-family: var(--font-display);
            font-weight: 600;
            z-index: 1000;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 0;
            outline: 3px solid var(--accent-gold);
            outline-offset: 2px;
        }

        /* Focus Styles for Accessibility */
        *:focus {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        *:focus:not(:focus-visible) {
            outline: none;
        }

        *:focus-visible {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 50%, var(--accent-teal) 100%);
            color: var(--bg-white);
            padding: 50px 20px;
            text-align: center;
            box-shadow: 0 4px 20px var(--shadow-color);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 25px,
                rgba(255,255,255,0.03) 25px,
                rgba(255,255,255,0.03) 50px
            );
            pointer-events: none;
        }

        header h1 {
            font-family: var(--font-display);
            font-size: clamp(1.75rem, 4vw, 2.75rem);
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header-subtitle {
            font-size: 1.15rem;
            opacity: 0.95;
            font-style: italic;
            margin-bottom: 8px;
        }

        .badge-container {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .badge {
            background: var(--accent-gold);
            color: var(--primary-dark);
            padding: 8px 18px;
            border-radius: 25px;
            font-family: var(--font-display);
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        /* Navigation */
        nav {
            background: var(--bg-white);
            border-bottom: 4px solid var(--primary-light);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            max-width: 1400px;
            margin: 0 auto;
        }

        nav a {
            display: block;
            padding: 10px 16px;
            color: var(--primary-dark);
            text-decoration: none;
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 0.9rem;
            border-radius: 6px;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        nav a:hover,
        nav a:focus {
            background: var(--bg-light-blue);
            border-color: var(--primary-light);
        }

        nav a[aria-current="page"] {
            background: var(--primary-dark);
            color: var(--bg-white);
        }

        /* Main Content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section Styling */
        section {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px var(--shadow-color);
            border: 1px solid var(--border-color);
        }

        section h2 {
            font-family: var(--font-display);
            font-size: 1.85rem;
            color: var(--primary-dark);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid var(--accent-gold);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        section h2::before {
            content: attr(data-icon);
            font-size: 1.5rem;
        }

        section h3 {
            font-family: var(--font-display);
            font-size: 1.4rem;
            color: var(--primary-medium);
            margin: 30px 0 15px;
        }

        section h4 {
            font-family: var(--font-display);
            font-size: 1.15rem;
            color: var(--neutral-dark);
            margin: 20px 0 10px;
        }

        p {
            margin-bottom: 15px;
        }

        /* Triad Visual */
        .triad-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .triad-visual {
            position: relative;
            width: 350px;
            height: 320px;
        }

        .triad-triangle {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .triad-triangle svg {
            width: 100%;
            height: 100%;
        }

        .triad-node {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-family: var(--font-display);
            font-weight: 700;
            color: var(--bg-white);
            box-shadow: 0 4px 15px var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .triad-node:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px var(--shadow-color);
        }

        .triad-node.confidentiality {
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-medium));
        }

        .triad-node.confidentiality:hover {
            transform: translateX(-50%) scale(1.1);
        }

        .triad-node.integrity {
            bottom: 20px;
            left: 0;
            background: linear-gradient(135deg, var(--accent-teal), #2c7a7b);
        }

        .triad-node.availability {
            bottom: 20px;
            right: 0;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-orange));
        }

        .triad-node .icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .triad-node .label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .triad-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -30%);
            text-align: center;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-dark);
        }

        /* Definition Boxes */
        .definition-box {
            background: linear-gradient(135deg, var(--bg-light-blue) 0%, var(--bg-white) 100%);
            border-left: 5px solid var(--primary-dark);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }

        .definition-box h4 {
            color: var(--primary-dark);
            margin-top: 0;
            font-size: 1.2rem;
        }

        .definition-box.cia {
            border-left-color: var(--primary-medium);
        }

        .definition-box.aaa {
            border-left-color: var(--accent-teal);
        }

        .definition-box.controls {
            border-left-color: var(--accent-gold);
        }

        .definition-box.ecosystem {
            border-left-color: var(--accent-orange);
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 25px 0;
            font-size: 0.95rem;
        }

        .comparison-table caption {
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 1.1rem;
            padding: 15px;
            background: var(--primary-dark);
            color: var(--bg-white);
            border-radius: 8px 8px 0 0;
            text-align: left;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--primary-medium);
            color: var(--bg-white);
            font-family: var(--font-display);
            font-weight: 600;
        }

        .comparison-table tbody tr:nth-child(even) {
            background: var(--bg-light-blue);
        }

        .comparison-table tbody tr:hover {
            background: var(--bg-cream);
        }

        .comparison-table td:first-child {
            font-weight: 600;
            color: var(--primary-dark);
        }

        /* Level Cards */
        .level-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .level-card {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .level-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow-color);
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
        }

        .level-card.level-1::before {
            background: linear-gradient(90deg, var(--primary-light), var(--accent-teal));
        }

        .level-card.level-2::before {
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-orange));
        }

        .level-card.level-3::before {
            background: linear-gradient(90deg, var(--warning-red), var(--accent-orange));
        }

        .level-card h4 {
            font-family: var(--font-display);
            font-size: 1.3rem;
            margin: 0 0 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .level-card .level-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-dark);
            color: var(--bg-white);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.3rem;
        }

        .level-card ul {
            margin-left: 20px;
            margin-top: 15px;
        }

        .level-card li {
            margin-bottom: 8px;
        }

        .level-card .level-info {
            background: var(--bg-light-gray);
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        /* Ecosystem Cards */
        .ecosystem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .ecosystem-card {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .ecosystem-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--shadow-color);
            border-color: var(--primary-light);
        }

        .ecosystem-card .card-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 2rem;
            color: var(--bg-white);
        }

        .ecosystem-card.c3pao .card-icon {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-medium));
        }

        .ecosystem-card.rpo .card-icon {
            background: linear-gradient(135deg, var(--accent-teal), #2c7a7b);
        }

        .ecosystem-card.rp .card-icon {
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-orange));
        }

        .ecosystem-card.ccp .card-icon {
            background: linear-gradient(135deg, var(--success-green), #276749);
        }

        .ecosystem-card.cca .card-icon {
            background: linear-gradient(135deg, var(--warning-red), var(--accent-orange));
        }

        .ecosystem-card.ltp .card-icon {
            background: linear-gradient(135deg, var(--primary-light), var(--accent-teal));
        }

        .ecosystem-card h4 {
            font-family: var(--font-display);
            margin-bottom: 10px;
            color: var(--primary-dark);
        }

        .ecosystem-card .abbreviation {
            font-size: 0.85rem;
            color: var(--neutral-medium);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .ecosystem-card p {
            font-size: 0.95rem;
            margin-bottom: 0;
        }

        /* Career Pathway Visual */
        .career-pathway {
            background: linear-gradient(135deg, var(--bg-light-blue), var(--bg-white));
            border: 2px solid var(--primary-light);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .pathway-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .pathway-step {
            flex: 1;
            min-width: 150px;
            text-align: center;
            position: relative;
        }

        .pathway-step::after {
            content: '\u2192';
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: var(--primary-light);
            font-weight: bold;
        }

        .pathway-step:last-child::after {
            display: none;
        }

        .pathway-step .step-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--primary-dark);
            color: var(--bg-white);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .pathway-step:hover .step-circle {
            transform: scale(1.1);
            background: var(--primary-medium);
        }

        .pathway-step .step-label {
            font-family: var(--font-display);
            font-weight: 600;
            color: var(--neutral-dark);
            font-size: 0.9rem;
        }

        .pathway-step .step-desc {
            font-size: 0.8rem;
            color: var(--neutral-medium);
            margin-top: 5px;
        }

        /* Key Points Box */
        .key-points {
            background: var(--bg-cream);
            border: 2px solid var(--accent-gold);
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .key-points h4 {
            color: var(--primary-dark);
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points ul {
            margin-left: 25px;
        }

        .key-points li {
            margin-bottom: 10px;
        }

        /* Code/Reference Styling */
        code {
            font-family: var(--font-mono);
            background: var(--bg-light-blue);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--primary-dark);
        }

        /* Assignment Section */
        #assignment {
            border: 3px solid var(--primary-dark);
        }

        .assignment-intro {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--bg-white);
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .assignment-intro h3 {
            color: var(--bg-white);
            margin-top: 0;
        }

        .assignment-intro ol {
            margin-left: 25px;
        }

        .assignment-intro li {
            margin-bottom: 8px;
        }

        /* Task Cards */
        .task-card {
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            transition: border-color 0.3s ease;
        }

        .task-card.completed {
            border-color: var(--success-green);
            background: linear-gradient(135deg, #f0fff4 0%, var(--bg-white) 100%);
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .task-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-dark);
            color: var(--bg-white);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .task-title {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--primary-dark);
            margin: 0;
        }

        .task-description {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--bg-light-blue);
            border-radius: 8px;
        }

        /* Form Styling */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-family: var(--font-display);
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 8px;
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="url"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            font-family: var(--font-body);
            font-size: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--primary-dark);
            box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Canvas for Diagram */
        .diagram-workspace {
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            background: var(--bg-light-gray);
            min-height: 400px;
        }

        .diagram-canvas {
            width: 100%;
            height: 400px;
            background: var(--bg-white);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .diagram-tools {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .diagram-btn {
            padding: 10px 20px;
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 600;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            background: var(--bg-white);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .diagram-btn:hover {
            background: var(--bg-light-blue);
            border-color: var(--primary-light);
        }

        .diagram-btn.active {
            background: var(--primary-dark);
            color: var(--bg-white);
            border-color: var(--primary-dark);
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 14px 32px;
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--primary-dark);
            color: var(--bg-white);
        }

        .btn-primary:hover,
        .btn-primary:focus {
            background: var(--primary-medium);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--primary-dark);
            border: 2px solid var(--primary-dark);
        }

        .btn-secondary:hover,
        .btn-secondary:focus {
            background: var(--bg-light-blue);
        }

        .btn-success {
            background: var(--success-green);
            color: var(--bg-white);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* Progress Tracker */
        .progress-tracker {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            padding: 20px;
            background: var(--bg-light-gray);
            border-radius: 8px;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .progress-step::after {
            content: '';
            position: absolute;
            top: 20px;
            right: -50%;
            width: 100%;
            height: 3px;
            background: var(--border-color);
        }

        .progress-step:last-child::after {
            display: none;
        }

        .progress-step.completed::after {
            background: var(--success-green);
        }

        .progress-step .step-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--border-color);
            color: var(--neutral-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-family: var(--font-display);
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .progress-step.completed .step-indicator {
            background: var(--success-green);
            color: var(--bg-white);
        }

        .progress-step.active .step-indicator {
            background: var(--primary-dark);
            color: var(--bg-white);
        }

        .progress-step .step-name {
            font-family: var(--font-display);
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--neutral-medium);
        }

        .progress-step.completed .step-name,
        .progress-step.active .step-name {
            color: var(--neutral-dark);
        }

        /* Results Section */
        #results {
            display: none;
        }

        #results.visible {
            display: block;
        }

        .results-summary {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--bg-white);
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
        }

        .submission-details {
            background: var(--bg-light-gray);
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .submission-details h4 {
            margin-top: 0;
            font-family: var(--font-display);
            color: var(--primary-dark);
        }

        .submission-item {
            padding: 15px;
            background: var(--bg-white);
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary-dark);
        }

        .submission-item h5 {
            font-family: var(--font-display);
            color: var(--primary-dark);
            margin: 0 0 10px;
        }

        /* Footer */
        footer {
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 40px 20px;
            text-align: center;
        }

        footer p {
            margin-bottom: 10px;
            opacity: 0.9;
        }

        footer a {
            color: var(--accent-gold);
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            
            #results,
            #results * {
                visibility: visible;
            }
            
            #results {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            
            nav, .skip-link, header, footer,
            #learning-objectives, #cia-triad, #aaa-section, 
            #security-controls, #cmmc-overview, #cmmc-levels,
            #cmmc-ecosystem, #dib-section, #assignment {
                display: none !important;
            }
            
            #results .button-group,
            #results .btn {
                display: none !important;
            }
            
            .results-summary {
                background: #f0f0f0 !important;
                color: black !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            section {
                padding: 25px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .triad-visual {
                width: 280px;
                height: 260px;
            }
            
            .triad-node {
                width: 90px;
                height: 90px;
            }
            
            .triad-node .icon {
                font-size: 1.5rem;
            }
            
            .triad-node .label {
                font-size: 0.7rem;
            }
            
            .pathway-steps {
                flex-direction: column;
                align-items: center;
            }
            
            .pathway-step::after {
                content: '\u2193';
                right: auto;
                bottom: -30px;
                top: auto;
                transform: none;
            }
            
            .level-cards {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
            
            .progress-tracker {
                flex-direction: column;
                gap: 15px;
            }
            
            .progress-step::after {
                display: none;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            :root {
                --border-color: #000000;
                --shadow-color: rgba(0, 0, 0, 0.3);
            }
            
            .task-card,
            .ecosystem-card,
            .level-card,
            section {
                border-width: 3px;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            html {
                scroll-behavior: auto;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header role="banner">
        <h1>Security Concepts & CMMC 2.0 Ecosystem</h1>
        <p class="header-subtitle">Interactive Training Module for CompTIA Security+ Students</p>
        <p class="header-subtitle">Lesson 1: Introduction to Security Foundations and Defense Industrial Base Compliance</p>
        <div class="badge-container">
            <span class="badge">Security+ SY0-701</span>
            <span class="badge">CMMC 2.0</span>
            <span class="badge">Cyber AB</span>
            <span class="badge">DIB Security</span>
        </div>
    </header>
    
    <nav role="navigation" aria-label="Main navigation">
        <ul>
            <li><a href="#learning-objectives" aria-current="page">Objectives</a></li>
            <li><a href="#cia-triad">CIA Triad</a></li>
            <li><a href="#aaa-section">AAA</a></li>
            <li><a href="#security-controls">Controls</a></li>
            <li><a href="#cmmc-overview">CMMC Overview</a></li>
            <li><a href="#cmmc-levels">CMMC Levels</a></li>
            <li><a href="#cmmc-ecosystem">Ecosystem</a></li>
            <li><a href="#dib-section">DIB</a></li>
            <li><a href="#assignment">Assignment</a></li>
        </ul>
    </nav>
    
    <main id="main-content" role="main">
        <!-- Learning Objectives Section -->
        <section id="learning-objectives" aria-labelledby="objectives-heading">
            <h2 id="objectives-heading" data-icon="">Learning Objectives</h2>
            
            <p>Upon completing this module, you will be able to:</p>
            
            <div class="key-points">
                <h4>Key Learning Goals</h4>
                <ul>
                    <li><strong>Define</strong> the CIA Triad and explain how each component protects information assets</li>
                    <li><strong>Describe</strong> the AAA framework (Authentication, Authorization, Accounting) and its role in access control</li>
                    <li><strong>Categorize</strong> security controls by type (preventive, detective, corrective, etc.) and category (technical, managerial, operational, physical)</li>
                    <li><strong>Explain</strong> the purpose and structure of the CMMC 2.0 framework</li>
                    <li><strong>Distinguish</strong> between CMMC Levels 1, 2, and 3 requirements</li>
                    <li><strong>Identify</strong> key stakeholders in the Cyber AB ecosystem (RPOs, RPs, C3PAOs, CCPs, CCAs, LTPs)</li>
                    <li><strong>Describe</strong> the Defense Industrial Base (DIB) and its cybersecurity requirements</li>
                    <li><strong>Map</strong> career pathways within the CMMC ecosystem</li>
                </ul>
            </div>
            
            <h3>Connection to Security+ Exam Objectives</h3>
            <p>This module directly addresses the following CompTIA Security+ (SY0-701) exam objectives:</p>
            
            <table class="comparison-table" role="table">
                <caption>Security+ Exam Objective Mapping</caption>
                <thead>
                    <tr>
                        <th scope="col">Objective</th>
                        <th scope="col">Description</th>
                        <th scope="col">Topics Covered</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1.1</td>
                        <td>Compare and contrast various types of security controls</td>
                        <td>Technical, Managerial, Operational, Physical controls; Preventive, Detective, Corrective, Deterrent, Compensating, Directive types</td>
                    </tr>
                    <tr>
                        <td>1.2</td>
                        <td>Summarize fundamental security concepts</td>
                        <td>CIA Triad, AAA framework, Non-repudiation, Gap analysis, Zero Trust</td>
                    </tr>
                    <tr>
                        <td>5.1</td>
                        <td>Summarize elements of effective security governance</td>
                        <td>Standards, Policies, Compliance requirements, Industry frameworks</td>
                    </tr>
                    <tr>
                        <td>5.4</td>
                        <td>Summarize elements of effective security compliance</td>
                        <td>Regulatory frameworks, Government contracts, Certification requirements</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- CIA Triad Section -->
        <section id="cia-triad" aria-labelledby="cia-heading">
            <h2 id="cia-heading" data-icon="">The CIA Triad</h2>
            
            <p>The <strong>CIA Triad</strong> represents the three fundamental security objectives that form the foundation of information security. Every security control, policy, and procedure is designed to protect one or more of these principles. Understanding the CIA Triad is essential for the Security+ exam and for anyone working in cybersecurity.</p>
            
            <div class="triad-container">
                <div class="triad-visual" role="img" aria-label="CIA Triad diagram showing Confidentiality at top, Integrity at bottom left, and Availability at bottom right">
                    <svg class="triad-triangle" viewBox="0 0 350 300" aria-hidden="true">
                        <defs>
                            <linearGradient id="lineGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#4299e1;stop-opacity:0.3" />
                                <stop offset="100%" style="stop-color:#319795;stop-opacity:0.3" />
                            </linearGradient>
                        </defs>
                        <polygon points="175,60 60,260 290,260" fill="none" stroke="url(#lineGrad)" stroke-width="4"/>
                    </svg>
                    <div class="triad-node confidentiality" tabindex="0" role="button" aria-label="Confidentiality: Preventing unauthorized disclosure">
                        <span class="icon" aria-hidden="true">&bull;</span>
                        <span class="label">Confidentiality</span>
                    </div>
                    <div class="triad-node integrity" tabindex="0" role="button" aria-label="Integrity: Ensuring data accuracy and trustworthiness">
                        <span class="icon" aria-hidden="true"></span>
                        <span class="label">Integrity</span>
                    </div>
                    <div class="triad-node availability" tabindex="0" role="button" aria-label="Availability: Ensuring authorized access when needed">
                        <span class="icon" aria-hidden="true"></span>
                        <span class="label">Availability</span>
                    </div>
                    <div class="triad-center">Security<br>Goals</div>
                </div>
            </div>
            
            <div class="definition-box cia">
                <h4>Confidentiality</h4>
                <p><strong>Definition:</strong> Ensuring that information is accessible only to those authorized to access it. Confidentiality prevents unauthorized disclosure of sensitive data.</p>
                <p><strong>Implementation Methods:</strong></p>
                <ul>
                    <li><strong>Encryption:</strong> Converting data into unreadable format (AES, RSA, TLS)</li>
                    <li><strong>Access Controls:</strong> Restricting who can view data (RBAC, ACLs)</li>
                    <li><strong>Authentication:</strong> Verifying user identity (passwords, MFA, biometrics)</li>
                    <li><strong>Data Classification:</strong> Labeling data by sensitivity level</li>
                </ul>
                <p><strong>Threats to Confidentiality:</strong> Eavesdropping, data breaches, social engineering, shoulder surfing, improper access controls</p>
            </div>
            
            <div class="definition-box cia">
                <h4>Integrity</h4>
                <p><strong>Definition:</strong> Ensuring that data remains accurate, complete, and unaltered except by authorized processes. Integrity guarantees data trustworthiness.</p>
                <p><strong>Implementation Methods:</strong></p>
                <ul>
                    <li><strong>Hashing:</strong> Creating unique fingerprints of data (SHA-256, MD5)</li>
                    <li><strong>Digital Signatures:</strong> Cryptographically signing data to verify source and detect tampering</li>
                    <li><strong>Checksums:</strong> Verifying data hasn't changed during transmission</li>
                    <li><strong>Version Control:</strong> Tracking changes to files and documents</li>
                    <li><strong>Input Validation:</strong> Ensuring only valid data enters systems</li>
                </ul>
                <p><strong>Threats to Integrity:</strong> Man-in-the-middle attacks, malware, unauthorized modifications, data corruption, SQL injection</p>
            </div>
            
            <div class="definition-box cia">
                <h4>Availability</h4>
                <p><strong>Definition:</strong> Ensuring that systems, data, and resources are accessible to authorized users when needed. Availability prevents service disruptions.</p>
                <p><strong>Implementation Methods:</strong></p>
                <ul>
                    <li><strong>Redundancy:</strong> Duplicate systems and components (RAID, clustering)</li>
                    <li><strong>Fault Tolerance:</strong> Designing systems to continue operating despite failures</li>
                    <li><strong>Backup Systems:</strong> Regular data backups and disaster recovery plans</li>
                    <li><strong>Load Balancing:</strong> Distributing traffic across multiple servers</li>
                    <li><strong>DDoS Protection:</strong> Mitigating denial-of-service attacks</li>
                </ul>
                <p><strong>Threats to Availability:</strong> DDoS attacks, hardware failures, natural disasters, ransomware, power outages</p>
            </div>
            
            <div class="key-points">
                <h4>Key Exam Tip</h4>
                <p>The CIA Triad is sometimes called the <strong>AIC Triad</strong> to avoid confusion with the U.S. Central Intelligence Agency. On the Security+ exam, understand that every security measure maps to one or more of these principles. For example:</p>
                <ul>
                    <li>A firewall primarily supports <strong>Confidentiality</strong> (blocks unauthorized access)</li>
                    <li>A checksum primarily supports <strong>Integrity</strong> (detects data changes)</li>
                    <li>A UPS (Uninterruptible Power Supply) primarily supports <strong>Availability</strong> (maintains uptime)</li>
                </ul>
            </div>
        </section>

        <!-- AAA Section -->
        <section id="aaa-section" aria-labelledby="aaa-heading">
            <h2 id="aaa-heading" data-icon="">AAA Framework</h2>
            
            <p>The <strong>AAA Framework</strong> (Authentication, Authorization, and Accounting) is a security architecture that controls and tracks user access to systems and resources. It extends the CIA Triad by providing the mechanisms to implement access control and maintain accountability.</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4><span class="level-number">A</span>Authentication</h4>
                    <p><strong>"Who are you?"</strong></p>
                    <p>The process of verifying the identity of a user, system, or device before granting access. Authentication confirms that an entity is who they claim to be.</p>
                    <div class="level-info">
                        <strong>Authentication Factors:</strong>
                    </div>
                    <ul>
                        <li><strong>Something you know:</strong> Passwords, PINs, security questions</li>
                        <li><strong>Something you have:</strong> Smart cards, tokens, mobile devices</li>
                        <li><strong>Something you are:</strong> Fingerprints, facial recognition, iris scans</li>
                        <li><strong>Somewhere you are:</strong> Geolocation, IP address verification</li>
                        <li><strong>Something you do:</strong> Behavioral patterns, typing rhythm</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4><span class="level-number">A</span>Authorization</h4>
                    <p><strong>"What can you do?"</strong></p>
                    <p>After authentication, authorization determines what resources and actions the authenticated entity is permitted to access or perform.</p>
                    <div class="level-info">
                        <strong>Authorization Models:</strong>
                    </div>
                    <ul>
                        <li><strong>DAC:</strong> Discretionary Access Control (owner sets permissions)</li>
                        <li><strong>MAC:</strong> Mandatory Access Control (system-enforced labels)</li>
                        <li><strong>RBAC:</strong> Role-Based Access Control (permissions by job role)</li>
                        <li><strong>ABAC:</strong> Attribute-Based Access Control (policy-based)</li>
                        <li><strong>Rule-Based:</strong> Access based on defined rules/conditions</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4><span class="level-number">A</span>Accounting</h4>
                    <p><strong>"What did you do?"</strong></p>
                    <p>Tracking and recording user activities for auditing, compliance, and security monitoring purposes. Provides non-repudiation and forensic evidence.</p>
                    <div class="level-info">
                        <strong>Accounting Components:</strong>
                    </div>
                    <ul>
                        <li><strong>Audit Logs:</strong> Recording system and user events</li>
                        <li><strong>Session Tracking:</strong> Monitoring active connections</li>
                        <li><strong>Resource Usage:</strong> Tracking data and system access</li>
                        <li><strong>SIEM Integration:</strong> Centralized log management and analysis</li>
                        <li><strong>Compliance Reporting:</strong> Generating required audit reports</li>
                    </ul>
                </div>
            </div>
            
            <h3>AAA Protocols and Technologies</h3>
            
            <table class="comparison-table" role="table">
                <caption>Common AAA Implementation Technologies</caption>
                <thead>
                    <tr>
                        <th scope="col">Protocol/Technology</th>
                        <th scope="col">Description</th>
                        <th scope="col">Common Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RADIUS</td>
                        <td>Remote Authentication Dial-In User Service; UDP-based, encrypts only password</td>
                        <td>Network access control, VPN authentication, wireless networks</td>
                    </tr>
                    <tr>
                        <td>TACACS+</td>
                        <td>Terminal Access Controller Access-Control System Plus; TCP-based, encrypts entire payload</td>
                        <td>Network device administration, router/switch management</td>
                    </tr>
                    <tr>
                        <td>Kerberos</td>
                        <td>Ticket-based authentication protocol using symmetric encryption</td>
                        <td>Windows Active Directory, enterprise single sign-on</td>
                    </tr>
                    <tr>
                        <td>LDAP</td>
                        <td>Lightweight Directory Access Protocol for directory services</td>
                        <td>User directory lookups, centralized authentication</td>
                    </tr>
                    <tr>
                        <td>SAML</td>
                        <td>Security Assertion Markup Language; XML-based federation</td>
                        <td>Web SSO, cloud application authentication</td>
                    </tr>
                    <tr>
                        <td>OAuth 2.0</td>
                        <td>Token-based authorization framework</td>
                        <td>API access, third-party application authorization</td>
                    </tr>
                    <tr>
                        <td>802.1X</td>
                        <td>Port-based network access control standard</td>
                        <td>Wired/wireless network authentication, NAC</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="definition-box aaa">
                <h4>Non-Repudiation: The Fourth Element</h4>
                <p><strong>Non-repudiation</strong> ensures that a party cannot deny having performed an action. It provides proof of the origin and integrity of data, making it impossible for a sender to deny sending a message or a user to deny performing an action.</p>
                <p><strong>Implementation:</strong> Digital signatures, audit logs, transaction receipts, timestamps</p>
                <p><strong>Importance:</strong> Critical for legal proceedings, financial transactions, and regulatory compliance</p>
            </div>
        </section>

        <!-- Security Controls Section -->
        <section id="security-controls" aria-labelledby="controls-heading">
            <h2 id="controls-heading" data-icon="">Security Controls</h2>
            
            <p>Security controls are safeguards or countermeasures implemented to protect information systems and data. Understanding both the <strong>categories</strong> and <strong>types</strong> of security controls is essential for the Security+ exam and for designing effective security programs.</p>
            
            <h3>Control Categories</h3>
            <p>Security controls are organized into four main categories based on how they are implemented:</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4>Technical Controls</h4>
                    <p>Hardware and software mechanisms that protect systems and data through technology.</p>
                    <ul>
                        <li>Firewalls and IDS/IPS</li>
                        <li>Encryption and access controls</li>
                        <li>Antivirus and anti-malware</li>
                        <li>Authentication systems</li>
                        <li>Network segmentation</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4>Managerial Controls</h4>
                    <p>Administrative policies, procedures, and guidelines that govern security practices.</p>
                    <ul>
                        <li>Security policies and procedures</li>
                        <li>Risk assessments</li>
                        <li>Security awareness training</li>
                        <li>Incident response plans</li>
                        <li>Vendor management policies</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4>Operational Controls</h4>
                    <p>Day-to-day procedures and mechanisms implemented by people.</p>
                    <ul>
                        <li>Security guards and patrols</li>
                        <li>Backup procedures</li>
                        <li>Change management</li>
                        <li>Configuration management</li>
                        <li>Media handling procedures</li>
                    </ul>
                </div>
                
                <div class="level-card level-1">
                    <h4>Physical Controls</h4>
                    <p>Tangible measures that protect physical assets and prevent unauthorized physical access.</p>
                    <ul>
                        <li>Locks and access badges</li>
                        <li>Security cameras (CCTV)</li>
                        <li>Fencing and barriers</li>
                        <li>Lighting and signage</li>
                        <li>Environmental controls</li>
                    </ul>
                </div>
            </div>
            
            <h3>Control Types</h3>
            <p>Controls are also classified by their purpose and when they act in relation to a security incident:</p>
            
            <table class="comparison-table" role="table">
                <caption>Security Control Types</caption>
                <thead>
                    <tr>
                        <th scope="col">Type</th>
                        <th scope="col">Purpose</th>
                        <th scope="col">Examples</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Preventive</td>
                        <td>Stop incidents before they occur</td>
                        <td>Firewalls, encryption, access controls, security guards, training</td>
                    </tr>
                    <tr>
                        <td>Detective</td>
                        <td>Identify incidents during or after they occur</td>
                        <td>IDS, audit logs, security cameras, motion sensors, SIEM</td>
                    </tr>
                    <tr>
                        <td>Corrective</td>
                        <td>Fix problems after an incident and restore operations</td>
                        <td>Backups, patches, incident response, disaster recovery</td>
                    </tr>
                    <tr>
                        <td>Deterrent</td>
                        <td>Discourage potential attackers from attempting harm</td>
                        <td>Warning signs, login banners, visible security cameras</td>
                    </tr>
                    <tr>
                        <td>Compensating</td>
                        <td>Provide alternative protection when primary controls aren't feasible</td>
                        <td>Additional monitoring when encryption can't be used</td>
                    </tr>
                    <tr>
                        <td>Directive</td>
                        <td>Guide behavior through policies and procedures</td>
                        <td>Acceptable use policies, security procedures, guidelines</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="key-points">
                <h4>Control Selection Framework</h4>
                <p>When selecting security controls, consider:</p>
                <ul>
                    <li><strong>Defense in Depth:</strong> Layer multiple controls for comprehensive protection</li>
                    <li><strong>Cost-Benefit Analysis:</strong> Controls should be proportional to the risk</li>
                    <li><strong>Compliance Requirements:</strong> Some controls may be mandated by regulations</li>
                    <li><strong>Operational Impact:</strong> Controls shouldn't unduly hinder business operations</li>
                </ul>
            </div>
        </section>

        <!-- CMMC Overview Section -->
        <section id="cmmc-overview" aria-labelledby="cmmc-overview-heading">
            <h2 id="cmmc-overview-heading" data-icon="">Introduction to CMMC 2.0</h2>
            
            <p>The <strong>Cybersecurity Maturity Model Certification (CMMC) 2.0</strong> is the Department of Defense's framework for verifying that defense contractors implement adequate cybersecurity practices to protect sensitive government information. The program became effective on <strong>December 16, 2024</strong>, with phased implementation continuing through 2028.</p>
            
            <div class="definition-box">
                <h4>What is CMMC?</h4>
                <p>CMMC is a unified cybersecurity standard that consolidates various existing requirements (including NIST SP 800-171) into a tiered certification model. It requires defense contractors to prove their cybersecurity maturity through assessments before being eligible to handle certain types of government data.</p>
            </div>
            
            <h3>Why CMMC Was Created</h3>
            <p>Before CMMC, defense contractors self-attested to meeting cybersecurity requirements. This "honor system" proved inadequate, as adversaries successfully targeted the Defense Industrial Base to steal sensitive information. CMMC addresses these vulnerabilities by:</p>
            <ul>
                <li>Requiring third-party verification of cybersecurity practices for most contractors</li>
                <li>Establishing clear, tiered requirements based on data sensitivity</li>
                <li>Creating accountability through certification requirements</li>
                <li>Protecting Federal Contract Information (FCI) and Controlled Unclassified Information (CUI)</li>
            </ul>
            
            <h3>CMMC 2.0 vs. CMMC 1.0</h3>
            
            <table class="comparison-table" role="table">
                <caption>Evolution from CMMC 1.0 to 2.0</caption>
                <thead>
                    <tr>
                        <th scope="col">Feature</th>
                        <th scope="col">CMMC 1.0 (Original)</th>
                        <th scope="col">CMMC 2.0 (Current)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Number of Levels</td>
                        <td>5 levels</td>
                        <td>3 levels</td>
                    </tr>
                    <tr>
                        <td>Self-Assessment Option</td>
                        <td>Not available</td>
                        <td>Allowed for Level 1 and some Level 2</td>
                    </tr>
                    <tr>
                        <td>POA&M (Plans of Action)</td>
                        <td>Not allowed</td>
                        <td>Conditional acceptance with time limits</td>
                    </tr>
                    <tr>
                        <td>Alignment</td>
                        <td>CMMC-specific practices</td>
                        <td>Aligned with NIST SP 800-171 and 800-172</td>
                    </tr>
                    <tr>
                        <td>Cost</td>
                        <td>Higher compliance costs</td>
                        <td>Streamlined, reduced burden for small businesses</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Key Regulatory Documents</h3>
            
            <div class="key-points">
                <h4>Essential CMMC References</h4>
                <ul>
                    <li><strong>32 CFR Part 170:</strong> The CMMC Program Rule establishing maturity levels and assessment methods (effective December 16, 2024)</li>
                    <li><strong>48 CFR (DFARS):</strong> Acquisition rule requiring CMMC in DoD contracts (effective November 10, 2025)</li>
                    <li><strong>NIST SP 800-171 Rev. 2:</strong> The 110 security requirements for Level 2 compliance</li>
                    <li><strong>NIST SP 800-172:</strong> Enhanced security requirements for Level 3</li>
                    <li><strong>FAR 52.204-21:</strong> Basic safeguarding requirements for FCI (15 controls)</li>
                    <li><strong>DFARS 252.204-7012:</strong> Safeguarding CUI and cyber incident reporting</li>
                </ul>
            </div>
        </section>

        <!-- CMMC Levels Section -->
        <section id="cmmc-levels" aria-labelledby="cmmc-levels-heading">
            <h2 id="cmmc-levels-heading" data-icon="">CMMC 2.0 Levels and Requirements</h2>
            
            <p>CMMC 2.0 establishes three maturity levels, each building upon the previous. The required level depends on the sensitivity of the information a contractor handles.</p>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4><span class="level-number">1</span>Level 1: Foundational</h4>
                    <p><strong>Information Type:</strong> Federal Contract Information (FCI) only</p>
                    <div class="level-info">
                        <strong>Requirements:</strong> 15 security controls from FAR 52.204-21
                    </div>
                    <p><strong>Assessment:</strong> Annual self-assessment with senior official affirmation</p>
                    <p><strong>Estimated Impact:</strong> ~63% of Defense Industrial Base contractors</p>
                    <ul>
                        <li>Basic cyber hygiene practices</li>
                        <li>No documentation requirements</li>
                        <li>Self-attestation submitted to SPRS</li>
                        <li>Focus: Limit access, identify users, sanitize media, physical protection</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4><span class="level-number">2</span>Level 2: Advanced</h4>
                    <p><strong>Information Type:</strong> Controlled Unclassified Information (CUI)</p>
                    <div class="level-info">
                        <strong>Requirements:</strong> 110 security controls from NIST SP 800-171 Rev. 2
                    </div>
                    <p><strong>Assessment:</strong> Self-assessment OR third-party (C3PAO) based on contract requirements</p>
                    <p><strong>Estimated Impact:</strong> ~36% of DIB contractors</p>
                    <ul>
                        <li>Comprehensive security program required</li>
                        <li>System Security Plan (SSP) documentation</li>
                        <li>POA&M allowed for some gaps (score &ge; 88 required)</li>
                        <li>14 security domains covered</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4><span class="level-number">3</span>Level 3: Expert</h4>
                    <p><strong>Information Type:</strong> CUI for critical/high-value programs</p>
                    <div class="level-info">
                        <strong>Requirements:</strong> 110 + 24 additional controls from NIST SP 800-172
                    </div>
                    <p><strong>Assessment:</strong> Government-led assessment by DIBCAC</p>
                    <p><strong>Estimated Impact:</strong> &lt;1% of DIB contractors</p>
                    <ul>
                        <li>Advanced Persistent Threat (APT) protection</li>
                        <li>Must first achieve Level 2 certification</li>
                        <li>Enhanced monitoring and incident response</li>
                        <li>Highly sensitive defense programs</li>
                    </ul>
                </div>
            </div>
            
            <h3>Implementation Timeline</h3>
            
            <table class="comparison-table" role="table">
                <caption>CMMC Phased Implementation Schedule</caption>
                <thead>
                    <tr>
                        <th scope="col">Phase</th>
                        <th scope="col">Date</th>
                        <th scope="col">Requirements</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Phase 1</td>
                        <td>December 16, 2024 - November 2025</td>
                        <td>Level 1 and Level 2 self-assessments begin appearing in select contracts</td>
                    </tr>
                    <tr>
                        <td>Phase 2</td>
                        <td>November 2025 - November 2026</td>
                        <td>Third-party (C3PAO) assessments required for Level 2 contracts</td>
                    </tr>
                    <tr>
                        <td>Phase 3</td>
                        <td>November 2026 - November 2027</td>
                        <td>Retroactive certification for existing Level 2 contracts; Level 3 begins</td>
                    </tr>
                    <tr>
                        <td>Phase 4</td>
                        <td>November 2027+</td>
                        <td>Full implementation across all applicable DoD contracts</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="key-points">
                <h4>Important Considerations</h4>
                <ul>
                    <li><strong>All CUI is FCI, but not all FCI is CUI</strong> &mdash; CUI requires additional protections beyond basic FCI controls</li>
                    <li><strong>Flowdown requirements:</strong> Prime contractors must ensure subcontractors meet appropriate CMMC levels</li>
                    <li><strong>Scope limitation:</strong> Organizations can reduce compliance burden by isolating FCI/CUI in dedicated enclaves</li>
                    <li><strong>Assessment preparation:</strong> Level 2 compliance typically requires 6-18 months of preparation</li>
                </ul>
            </div>
        </section>

        <!-- CMMC Ecosystem Section -->
        <section id="cmmc-ecosystem" aria-labelledby="ecosystem-heading">
            <h2 id="ecosystem-heading" data-icon="">The Cyber AB Ecosystem</h2>
            
            <p>The <strong>Cyber AB</strong> (formerly CMMC Accreditation Body) is the sole authorized partner of the Department of Defense responsible for implementing the CMMC program. The Cyber AB oversees a network of organizations and individuals who help contractors prepare for and achieve CMMC certification.</p>
            
            <div class="definition-box ecosystem">
                <h4>About The Cyber AB</h4>
                <p>The Cyber AB is a non-profit organization that accredits and certifies CMMC ecosystem participants. It maintains the <strong>CMMC Marketplace</strong>, an official directory of all authorized organizations and individuals who can provide CMMC-related services.</p>
            </div>
            
            <h3>Organizational Roles</h3>
            
            <div class="ecosystem-grid">
                <div class="ecosystem-card c3pao">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>C3PAO</h4>
                    <p class="abbreviation">CMMC Third-Party Assessor Organization</p>
                    <p>Organizations authorized to conduct official CMMC Level 2 assessments. C3PAOs employ CCAs and CCPs to evaluate contractor compliance and submit assessment results to the DoD.</p>
                </div>
                
                <div class="ecosystem-card rpo">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>RPO</h4>
                    <p class="abbreviation">Registered Provider Organization</p>
                    <p>Consulting organizations that help contractors prepare for CMMC certification. RPOs provide advisory services but <strong>cannot</strong> conduct official assessments. Must employ at least one RP.</p>
                </div>
                
                <div class="ecosystem-card ltp">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>LTP</h4>
                    <p class="abbreviation">Licensed Training Provider</p>
                    <p>Organizations authorized to deliver official CMMC training courses that prepare individuals for CCP and CCA certifications. Use content from Licensed Publishing Partners (LPPs).</p>
                </div>
            </div>
            
            <h3>Individual Certifications</h3>
            
            <div class="ecosystem-grid">
                <div class="ecosystem-card rp">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>RP</h4>
                    <p class="abbreviation">Registered Practitioner</p>
                    <p>Entry-level certification for individuals providing CMMC consulting and implementation services. RPs advise clients on achieving compliance but cannot participate in official assessments.</p>
                </div>
                
                <div class="ecosystem-card ccp">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>CCP</h4>
                    <p class="abbreviation">Certified CMMC Professional</p>
                    <p>Professionals with in-depth knowledge of CMMC requirements. CCPs can participate on C3PAO assessment teams as support members and provide advanced consulting services.</p>
                </div>
                
                <div class="ecosystem-card cca">
                    <div class="card-icon" aria-hidden="true">&bull;</div>
                    <h4>CCA</h4>
                    <p class="abbreviation">Certified CMMC Assessor</p>
                    <p>The highest individual certification. CCAs can <strong>lead</strong> official CMMC assessment teams and evaluate all 110 practices. Must be employed or contracted by a C3PAO.</p>
                </div>
            </div>
            
            <h3>CMMC Career Pathway</h3>
            
            <div class="career-pathway">
                <h4>Career Progression in the CMMC Ecosystem</h4>
                <p>Professionals can advance through multiple certification levels, with each building on previous knowledge and experience:</p>
                
                <div class="pathway-steps">
                    <div class="pathway-step">
                        <div class="step-circle">RP</div>
                        <div class="step-label">Registered Practitioner</div>
                        <div class="step-desc">Entry Point<br>~$500-600/year</div>
                    </div>
                    <div class="pathway-step">
                        <div class="step-circle">RPA</div>
                        <div class="step-label">RP Advanced</div>
                        <div class="step-desc">Enhanced Advisory<br>More experience</div>
                    </div>
                    <div class="pathway-step">
                        <div class="step-circle">CCP</div>
                        <div class="step-label">Certified Professional</div>
                        <div class="step-desc">Assessment Team Member<br>~$2,000-4,000 training</div>
                    </div>
                    <div class="pathway-step">
                        <div class="step-circle">CCA</div>
                        <div class="step-label">Certified Assessor</div>
                        <div class="step-desc">Lead Assessor<br>$200+/hour potential</div>
                    </div>
                </div>
            </div>
            
            <div class="key-points">
                <h4>Important Distinction: RPO vs. C3PAO</h4>
                <p>Organizations cannot provide both advisory (RPO) and assessment (C3PAO) services to the same client. This separation of duties prevents conflicts of interest. A company that helps you prepare for certification cannot also certify you.</p>
            </div>
        </section>

        <!-- DIB Section -->
        <section id="dib-section" aria-labelledby="dib-heading">
            <h2 id="dib-heading" data-icon="">Understanding the Defense Industrial Base</h2>
            
            <p>The <strong>Defense Industrial Base (DIB)</strong> is the worldwide industrial complex that enables research, development, production, and maintenance of military systems for the U.S. Department of Defense. Understanding the DIB is crucial for grasping why CMMC exists and who it affects.</p>
            
            <div class="definition-box">
                <h4>Official Definition</h4>
                <p>The DIB encompasses the Department of Defense, <strong>more than 300,000 companies</strong> and their subcontractors, and government-owned facilities that provide products and services essential to mobilize, deploy, and sustain military operations.</p>
            </div>
            
            <h3>Why the DIB Matters</h3>
            
            <div class="level-cards">
                <div class="level-card level-1">
                    <h4>National Security</h4>
                    <p>The DIB produces weapons systems, communications equipment, and critical infrastructure that protect the nation. Compromise of this information could:</p>
                    <ul>
                        <li>Reveal military capabilities to adversaries</li>
                        <li>Enable countermeasures against U.S. systems</li>
                        <li>Threaten operational security</li>
                    </ul>
                </div>
                
                <div class="level-card level-2">
                    <h4>Target for Adversaries</h4>
                    <p>State-sponsored actors and cybercriminals target DIB companies to steal:</p>
                    <ul>
                        <li>Controlled Technical Information (CTI)</li>
                        <li>Intellectual property and trade secrets</li>
                        <li>Personnel information</li>
                        <li>Operational plans and schedules</li>
                    </ul>
                </div>
                
                <div class="level-card level-3">
                    <h4>Supply Chain Vulnerability</h4>
                    <p>Large defense primes often have robust security, but smaller subcontractors may not:</p>
                    <ul>
                        <li>Attackers target weakest links</li>
                        <li>Small businesses lack resources</li>
                        <li>CMMC addresses this gap</li>
                    </ul>
                </div>
            </div>
            
            <h3>DIB Cybersecurity Program</h3>
            
            <p>The DoD operates the voluntary <strong>DIB Cybersecurity (CS) Program</strong> that enables bilateral information sharing between the government and defense contractors. The program:</p>
            
            <ul>
                <li>Provides cyber threat intelligence to participating contractors</li>
                <li>Shares indicators of compromise and mitigation strategies</li>
                <li>Offers resources through the DoD Cyber Crime Center (DC3)</li>
                <li>Includes access to the DIBNet-U collaborative platform</li>
            </ul>
            
            <table class="comparison-table" role="table">
                <caption>Key DIB Stakeholders</caption>
                <thead>
                    <tr>
                        <th scope="col">Organization</th>
                        <th scope="col">Role</th>
                        <th scope="col">Relationship to CMMC</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CISA</td>
                        <td>Cybersecurity and Infrastructure Security Agency; Sector Risk Management Agency for DIB</td>
                        <td>Provides critical infrastructure security guidance and resources</td>
                    </tr>
                    <tr>
                        <td>DIBCAC</td>
                        <td>Defense Industrial Base Cybersecurity Assessment Center (under DCMA)</td>
                        <td>Conducts government-led CMMC Level 3 assessments</td>
                    </tr>
                    <tr>
                        <td>DC3</td>
                        <td>DoD Cyber Crime Center; implements DIB CS Program operations</td>
                        <td>Handles incident reports and threat intelligence sharing</td>
                    </tr>
                    <tr>
                        <td>Cyber AB</td>
                        <td>Accreditation body for CMMC ecosystem</td>
                        <td>Authorizes C3PAOs, certifies assessors, maintains marketplace</td>
                    </tr>
                    <tr>
                        <td>SPRS</td>
                        <td>Supplier Performance Risk System</td>
                        <td>Stores contractor self-assessment scores</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Assignment Section -->
        <section id="assignment" aria-labelledby="assignment-heading">
            <h2 id="assignment-heading" data-icon="">Assignment: CMMC Ecosystem Mapping</h2>
            
            <div class="assignment-intro">
                <h3>Assignment Overview</h3>
                <p>In this assignment, you will demonstrate your understanding of the CMMC ecosystem by completing three tasks:</p>
                <ol>
                    <li><strong>Task 1:</strong> Create a visual diagram showing relationships between CMMC stakeholders</li>
                    <li><strong>Task 2:</strong> Identify and explain career pathways within the CMMC ecosystem</li>
                    <li><strong>Task 3:</strong> Research and report on one C3PAO organization from the CMMC Marketplace</li>
                </ol>
                <p><strong>Submission Requirements:</strong> Complete all three tasks and provide detailed responses.</p>
            </div>
            
            <div class="form-group" style="background: var(--bg-light-blue); padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                <label for="studentName">Student Name (required):</label>
                <input type="text" id="studentName" name="studentName" placeholder="Enter your full name" required aria-required="true">
                
                <label for="studentEmail" style="margin-top: 15px;">Student Email (optional):</label>
                <input type="email" id="studentEmail" name="studentEmail" placeholder="your.email@example.com">
            </div>
            
            <div class="progress-tracker" id="progressTracker">
                <div class="progress-step active" id="step1-indicator">
                    <div class="step-indicator">1</div>
                    <div class="step-name">Diagram</div>
                </div>
                <div class="progress-step" id="step2-indicator">
                    <div class="step-indicator">2</div>
                    <div class="step-name">Career Paths</div>
                </div>
                <div class="progress-step" id="step3-indicator">
                    <div class="step-indicator">3</div>
                    <div class="step-name">C3PAO Research</div>
                </div>
            </div>
            
            <!-- Task 1: Ecosystem Diagram -->
            <div class="task-card" id="task1">
                <div class="task-header">
                    <span class="task-number">1</span>
                    <h3 class="task-title">CMMC Ecosystem Stakeholder Diagram</h3>
                </div>
                
                <div class="task-description">
                    <p>Create a visual diagram showing the relationships between the following CMMC stakeholders. Your diagram should illustrate how these entities interact within the ecosystem:</p>
                    <ul>
                        <li>Department of Defense (DoD)</li>
                        <li>Cyber AB (Accreditation Body)</li>
                        <li>C3PAOs (Assessment Organizations)</li>
                        <li>RPOs (Provider Organizations)</li>
                        <li>LTPs (Training Providers)</li>
                        <li>OSCs (Organizations Seeking Certification)</li>
                        <li>Individual Practitioners (RPs, CCPs, CCAs)</li>
                    </ul>
                </div>
                
                <div class="diagram-workspace">
                    <div class="diagram-tools">
                        <button class="diagram-btn active" data-tool="select" aria-pressed="true">Select</button>
                        <button class="diagram-btn" data-tool="box" aria-pressed="false">Add Box</button>
                        <button class="diagram-btn" data-tool="arrow" aria-pressed="false">Add Arrow</button>
                        <button class="diagram-btn" data-tool="text" aria-pressed="false">Add Text</button>
                        <button class="diagram-btn" data-tool="clear" aria-pressed="false">Clear All</button>
                        <button class="diagram-btn" data-tool="template" aria-pressed="false">Load Template</button>
                    </div>
                    <canvas id="diagramCanvas" class="diagram-canvas" aria-label="Interactive canvas for creating CMMC ecosystem diagram"></canvas>
                    <p style="font-size: 0.9rem; color: var(--neutral-medium); margin-top: 10px;"><em>Use the tools above to create your diagram, or describe your diagram in the text area below if you prefer to submit a written description or attach an external file.</em></p>
                </div>
                
                <div class="form-group">
                    <label for="diagramDescription">Diagram Description or Alternative Submission:</label>
                    <textarea id="diagramDescription" name="diagramDescription" placeholder="Describe your ecosystem diagram here. Include all stakeholder relationships and explain how information and authority flow between entities. If you're submitting an external diagram, describe what it shows and how you created it."></textarea>
                </div>
            </div>
            
            <!-- Task 2: Career Pathways -->
            <div class="task-card" id="task2">
                <div class="task-header">
                    <span class="task-number">2</span>
                    <h3 class="task-title">CMMC Career Pathways Analysis</h3>
                </div>
                
                <div class="task-description">
                    <p>Analyze the career progression within the CMMC ecosystem. Consider both organizational and individual certification paths.</p>
                </div>
                
                <div class="form-group">
                    <label for="careerPath">Describe the career pathway from RP -> RPA -> CCP -> CCA:</label>
                    <textarea id="careerPath" name="careerPath" placeholder="For each certification level, explain:
* Prerequisites and requirements
* Training and exam requirements  
* Typical responsibilities
* Approximate costs
* Career benefits and opportunities"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="personalPath">Which career path interests you most and why?</label>
                    <textarea id="personalPath" name="personalPath" placeholder="Explain which CMMC career path you would consider pursuing and why. Consider your current skills, interests, and career goals."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="compTIAConnection">How does Security+ certification prepare you for CMMC careers?</label>
                    <textarea id="compTIAConnection" name="compTIAConnection" placeholder="Explain how the concepts covered in Security+ (CIA Triad, AAA, security controls, compliance frameworks) relate to the skills needed in CMMC roles."></textarea>
                </div>
            </div>
            
            <!-- Task 3: C3PAO Research -->
            <div class="task-card" id="task3">
                <div class="task-header">
                    <span class="task-number">3</span>
                    <h3 class="task-title">C3PAO Organization Research Report</h3>
                </div>
                
                <div class="task-description">
                    <p>Research one C3PAO (CMMC Third-Party Assessor Organization) from the official Cyber AB Marketplace (<a href="https://cyberab.org" target="_blank" rel="noopener noreferrer">cyberab.org</a>) and provide a detailed report.</p>
                </div>
                
                <div class="form-group">
                    <label for="c3paoName">C3PAO Organization Name:</label>
                    <input type="text" id="c3paoName" name="c3paoName" placeholder="Enter the name of the C3PAO you researched">
                </div>
                
                <div class="form-group">
                    <label for="c3paoWebsite">Organization Website URL:</label>
                    <input type="url" id="c3paoWebsite" name="c3paoWebsite" placeholder="https://example.com">
                </div>
                
                <div class="form-group">
                    <label for="c3paoLocation">Headquarters Location:</label>
                    <input type="text" id="c3paoLocation" name="c3paoLocation" placeholder="City, State">
                </div>
                
                <div class="form-group">
                    <label for="c3paoServices">Services Offered (check the Marketplace for scope of services):</label>
                    <textarea id="c3paoServices" name="c3paoServices" placeholder="List the services this C3PAO provides. Examples may include: CMMC Level 2 assessments, continuous monitoring, penetration testing, virtual CISO services, etc."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="c3paoBackground">Organization Background and Expertise:</label>
                    <textarea id="c3paoBackground" name="c3paoBackground" placeholder="Provide background information about the organization:
* How long have they been in business?
* What industries do they specialize in?
* Do they have other certifications or accreditations (e.g., FedRAMP, ISO)?
* What makes them unique in the CMMC space?"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="c3paoWhy">Why did you select this C3PAO for your research?</label>
                    <textarea id="c3paoWhy" name="c3paoWhy" placeholder="Explain what drew you to this particular C3PAO and what you found most interesting or noteworthy about them."></textarea>
                </div>
            </div>
            
            <div class="button-group">
                <button type="button" id="submitBtn" class="btn btn-primary">Submit Assignment</button>
                <button type="button" id="saveBtn" class="btn btn-secondary">Save Progress</button>
                <button type="button" id="resetBtn" class="btn btn-secondary">Reset All</button>
            </div>
        </section>

        <!-- Results Section -->
        <section id="results" aria-labelledby="results-heading" aria-live="polite">
            <h2 id="results-heading" data-icon="">Assignment Submitted</h2>
            
            <div class="results-summary">
                <h3>Submission Successful</h3>
                <p id="studentNameDisplay"></p>
                <p id="submissionTime"></p>
            </div>
            
            <div class="submission-details">
                <h4>Your Submission Summary</h4>
                
                <div class="submission-item">
                    <h5>Task 1: CMMC Ecosystem Diagram</h5>
                    <p id="task1Summary"></p>
                </div>
                
                <div class="submission-item">
                    <h5>Task 2: Career Pathways Analysis</h5>
                    <p id="task2Summary"></p>
                </div>
                
                <div class="submission-item">
                    <h5>Task 3: C3PAO Research Report</h5>
                    <p id="task3Summary"></p>
                </div>
            </div>
            
            <div class="key-points">
                <h4>Submitting Your Assignment</h4>
                <p>Choose one of these methods to submit your completed assignment to your instructor:</p>
                <ul>
                    <li><strong>Export to File:</strong> Downloads a text file you can upload to your LMS or email</li>
                    <li><strong>Copy to Clipboard:</strong> Copies results to paste into an email or document</li>
                    <li><strong>Email Results:</strong> Opens your email client with results pre-filled</li>
                    <li><strong>Print Results:</strong> Creates a printable version for physical submission</li>
                </ul>
            </div>
            
            <div class="button-group">
                <button type="button" id="exportBtn" class="btn btn-primary">Export to File</button>
                <button type="button" id="copyBtn" class="btn btn-secondary">Copy to Clipboard</button>
                <button type="button" id="emailBtn" class="btn btn-secondary">Email Results</button>
                <button type="button" id="printBtn" class="btn btn-secondary">Print Results</button>
                <button type="button" id="retakeBtn" class="btn btn-secondary">Start Over</button>
            </div>
        </section>
    </main>
    
    <footer role="contentinfo">
        <p><strong>Security Concepts & CMMC 2.0 Ecosystem Training Module</strong></p>
        <p>CompTIA Security+ SY0-701 Supplemental Material | Lesson 1</p>
        <p>References: NIST SP 800-171 | FAR 52.204-21 | 32 CFR Part 170 | Cyber AB</p>
        <p><a href="https://cyberab.org" target="_blank" rel="noopener noreferrer">Visit the Cyber AB Marketplace</a> | <a href="https://www.nist.gov/cyberframework" target="_blank" rel="noopener noreferrer">NIST Cybersecurity Framework</a></p>
    </footer>

    <script>
        // State Management
        let assignmentData = {
            studentName: '',
            studentEmail: '',
            task1: { diagramDescription: '' },
            task2: { careerPath: '', personalPath: '', compTIAConnection: '' },
            task3: { c3paoName: '', c3paoWebsite: '', c3paoLocation: '', c3paoServices: '', c3paoBackground: '', c3paoWhy: '' }
        };
        
        let submitted = false;
        let currentTool = 'select';
        let canvasElements = [];
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            setupCanvas();
            setupNavigation();
            loadSavedProgress();
        });
        
        // Setup Event Listeners
        function setupEventListeners() {
            // Form inputs
            document.getElementById('studentName').addEventListener('input', updateProgress);
            document.getElementById('studentEmail').addEventListener('input', updateProgress);
            
            // Task 1
            document.getElementById('diagramDescription').addEventListener('input', updateProgress);
            
            // Task 2
            document.getElementById('careerPath').addEventListener('input', updateProgress);
            document.getElementById('personalPath').addEventListener('input', updateProgress);
            document.getElementById('compTIAConnection').addEventListener('input', updateProgress);
            
            // Task 3
            document.getElementById('c3paoName').addEventListener('input', updateProgress);
            document.getElementById('c3paoWebsite').addEventListener('input', updateProgress);
            document.getElementById('c3paoLocation').addEventListener('input', updateProgress);
            document.getElementById('c3paoServices').addEventListener('input', updateProgress);
            document.getElementById('c3paoBackground').addEventListener('input', updateProgress);
            document.getElementById('c3paoWhy').addEventListener('input', updateProgress);
            
            // Buttons
            document.getElementById('submitBtn').addEventListener('click', submitAssignment);
            document.getElementById('saveBtn').addEventListener('click', saveProgress);
            document.getElementById('resetBtn').addEventListener('click', resetAssignment);
            document.getElementById('exportBtn').addEventListener('click', exportToFile);
            document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
            document.getElementById('emailBtn').addEventListener('click', emailResults);
            document.getElementById('printBtn').addEventListener('click', printResults);
            document.getElementById('retakeBtn').addEventListener('click', resetAssignment);
            
            // Diagram tools
            document.querySelectorAll('.diagram-btn').forEach(btn => {
                btn.addEventListener('click', handleToolClick);
            });
        }
        
        // Canvas Setup
        function setupCanvas() {
            const canvas = document.getElementById('diagramCanvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = 400;
            
            // Draw initial grid
            drawGrid(ctx, canvas.width, canvas.height);
            
            // Handle resize
            window.addEventListener('resize', function() {
                canvas.width = canvas.offsetWidth;
                drawGrid(ctx, canvas.width, canvas.height);
                redrawElements(ctx);
            });
            
            // Canvas click handling
            canvas.addEventListener('click', function(e) {
                if (currentTool === 'box') {
                    addBox(e, ctx, canvas);
                } else if (currentTool === 'text') {
                    addText(e, ctx, canvas);
                }
            });
        }
        
        function drawGrid(ctx, width, height) {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);
            
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            // Draw grid lines
            for (let x = 0; x <= width; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            for (let y = 0; y <= height; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
        }
        
        function handleToolClick(e) {
            const tool = e.target.dataset.tool;
            
            if (tool === 'clear') {
                clearCanvas();
                return;
            }
            
            if (tool === 'template') {
                loadTemplate();
                return;
            }
            
            currentTool = tool;
            
            document.querySelectorAll('.diagram-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-pressed', 'false');
            });
            e.target.classList.add('active');
            e.target.setAttribute('aria-pressed', 'true');
        }
        
        function addBox(e, ctx, canvas) {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const label = prompt('Enter label for this box:');
            if (label) {
                canvasElements.push({ type: 'box', x, y, label });
                drawBox(ctx, x, y, label);
            }
        }
        
        function drawBox(ctx, x, y, label) {
            ctx.fillStyle = '#1a365d';
            ctx.strokeStyle = '#1a365d';
            ctx.lineWidth = 2;
            
            const width = Math.max(100, ctx.measureText(label).width + 30);
            const height = 40;
            
            ctx.beginPath();
            ctx.roundRect(x - width/2, y - height/2, width, height, 5);
            ctx.fill();
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 14px Segoe UI, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(label, x, y);
        }
        
        function addText(e, ctx, canvas) {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const text = prompt('Enter text:');
            if (text) {
                canvasElements.push({ type: 'text', x, y, text });
                drawText(ctx, x, y, text);
            }
        }
        
        function drawText(ctx, x, y, text) {
            ctx.fillStyle = '#2d3748';
            ctx.font = '12px Segoe UI, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text, x, y);
        }
        
        function clearCanvas() {
            if (confirm('Clear all diagram elements?')) {
                const canvas = document.getElementById('diagramCanvas');
                const ctx = canvas.getContext('2d');
                canvasElements = [];
                drawGrid(ctx, canvas.width, canvas.height);
            }
        }
        
        function loadTemplate() {
            const canvas = document.getElementById('diagramCanvas');
            const ctx = canvas.getContext('2d');
            
            canvasElements = [];
            drawGrid(ctx, canvas.width, canvas.height);
            
            // Add template boxes
            const template = [
                { type: 'box', x: canvas.width/2, y: 40, label: 'DoD' },
                { type: 'box', x: canvas.width/2, y: 120, label: 'Cyber AB' },
                { type: 'box', x: canvas.width/4, y: 200, label: 'C3PAO' },
                { type: 'box', x: canvas.width/2, y: 200, label: 'RPO' },
                { type: 'box', x: 3*canvas.width/4, y: 200, label: 'LTP' },
                { type: 'box', x: canvas.width/4, y: 280, label: 'CCA' },
                { type: 'box', x: canvas.width/2, y: 280, label: 'RP' },
                { type: 'box', x: 3*canvas.width/4, y: 280, label: 'CCP' },
                { type: 'box', x: canvas.width/2, y: 360, label: 'OSC (Contractors)' }
            ];
            
            template.forEach(elem => {
                canvasElements.push(elem);
                drawBox(ctx, elem.x, elem.y, elem.label);
            });
            
            // Draw connecting lines
            ctx.strokeStyle = '#4299e1';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            
            // DoD to Cyber AB
            ctx.beginPath();
            ctx.moveTo(canvas.width/2, 60);
            ctx.lineTo(canvas.width/2, 100);
            ctx.stroke();
            
            // Cyber AB to organizations
            ctx.beginPath();
            ctx.moveTo(canvas.width/2, 140);
            ctx.lineTo(canvas.width/4, 180);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(canvas.width/2, 140);
            ctx.lineTo(canvas.width/2, 180);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(canvas.width/2, 140);
            ctx.lineTo(3*canvas.width/4, 180);
            ctx.stroke();
            
            ctx.setLineDash([]);
            
            document.getElementById('diagramDescription').value = 'Template loaded: Shows hierarchical relationship from DoD -> Cyber AB -> Organizations -> Individuals -> OSCs. Please customize and add relationship arrows to show how entities interact.';
            updateProgress();
        }
        
        function redrawElements(ctx) {
            canvasElements.forEach(elem => {
                if (elem.type === 'box') {
                    drawBox(ctx, elem.x, elem.y, elem.label);
                } else if (elem.type === 'text') {
                    drawText(ctx, elem.x, elem.y, elem.text);
                }
            });
        }
        
        // Navigation Setup
        function setupNavigation() {
            const navLinks = document.querySelectorAll('nav a');
            const sections = document.querySelectorAll('main section[id]');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.forEach(l => l.removeAttribute('aria-current'));
                    this.setAttribute('aria-current', 'page');
                });
            });
            
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.removeAttribute('aria-current');
                            if (link.getAttribute('href') === '#' + id) {
                                link.setAttribute('aria-current', 'page');
                            }
                        });
                    }
                });
            }, observerOptions);
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }
        
        // Progress Tracking
        function updateProgress() {
            // Collect form data
            assignmentData.studentName = document.getElementById('studentName').value.trim();
            assignmentData.studentEmail = document.getElementById('studentEmail').value.trim();
            
            assignmentData.task1.diagramDescription = document.getElementById('diagramDescription').value.trim();
            
            assignmentData.task2.careerPath = document.getElementById('careerPath').value.trim();
            assignmentData.task2.personalPath = document.getElementById('personalPath').value.trim();
            assignmentData.task2.compTIAConnection = document.getElementById('compTIAConnection').value.trim();
            
            assignmentData.task3.c3paoName = document.getElementById('c3paoName').value.trim();
            assignmentData.task3.c3paoWebsite = document.getElementById('c3paoWebsite').value.trim();
            assignmentData.task3.c3paoLocation = document.getElementById('c3paoLocation').value.trim();
            assignmentData.task3.c3paoServices = document.getElementById('c3paoServices').value.trim();
            assignmentData.task3.c3paoBackground = document.getElementById('c3paoBackground').value.trim();
            assignmentData.task3.c3paoWhy = document.getElementById('c3paoWhy').value.trim();
            
            // Check task completion
            const task1Complete = assignmentData.task1.diagramDescription.length >= 50 || canvasElements.length >= 3;
            const task2Complete = assignmentData.task2.careerPath.length >= 50 && 
                                  assignmentData.task2.personalPath.length >= 20 && 
                                  assignmentData.task2.compTIAConnection.length >= 20;
            const task3Complete = assignmentData.task3.c3paoName && 
                                  assignmentData.task3.c3paoServices.length >= 20 && 
                                  assignmentData.task3.c3paoBackground.length >= 50;
            
            // Update progress indicators
            updateStepIndicator('step1-indicator', task1Complete);
            updateStepIndicator('step2-indicator', task2Complete);
            updateStepIndicator('step3-indicator', task3Complete);
            
            // Update task cards
            document.getElementById('task1').classList.toggle('completed', task1Complete);
            document.getElementById('task2').classList.toggle('completed', task2Complete);
            document.getElementById('task3').classList.toggle('completed', task3Complete);
            
            // Enable/disable submit button
            const canSubmit = assignmentData.studentName && task1Complete && task2Complete && task3Complete;
            document.getElementById('submitBtn').disabled = !canSubmit;
        }
        
        function updateStepIndicator(stepId, completed) {
            const step = document.getElementById(stepId);
            if (completed) {
                step.classList.add('completed');
                step.classList.remove('active');
            } else if (!step.classList.contains('completed')) {
                // Find first incomplete step and mark as active
                const allSteps = document.querySelectorAll('.progress-step');
                let foundActive = false;
                allSteps.forEach(s => {
                    if (!s.classList.contains('completed') && !foundActive) {
                        s.classList.add('active');
                        foundActive = true;
                    } else {
                        s.classList.remove('active');
                    }
                });
            }
        }
        
        // Save Progress
        function saveProgress() {
            updateProgress();
            localStorage.setItem('cmmcEcosystemAssignment', JSON.stringify(assignmentData));
            localStorage.setItem('cmmcEcosystemCanvas', JSON.stringify(canvasElements));
            alert('Progress saved! Your work will be restored when you return to this page.');
        }
        
        function loadSavedProgress() {
            const saved = localStorage.getItem('cmmcEcosystemAssignment');
            const savedCanvas = localStorage.getItem('cmmcEcosystemCanvas');
            
            if (saved) {
                assignmentData = JSON.parse(saved);
                
                // Restore form fields
                document.getElementById('studentName').value = assignmentData.studentName || '';
                document.getElementById('studentEmail').value = assignmentData.studentEmail || '';
                document.getElementById('diagramDescription').value = assignmentData.task1.diagramDescription || '';
                document.getElementById('careerPath').value = assignmentData.task2.careerPath || '';
                document.getElementById('personalPath').value = assignmentData.task2.personalPath || '';
                document.getElementById('compTIAConnection').value = assignmentData.task2.compTIAConnection || '';
                document.getElementById('c3paoName').value = assignmentData.task3.c3paoName || '';
                document.getElementById('c3paoWebsite').value = assignmentData.task3.c3paoWebsite || '';
                document.getElementById('c3paoLocation').value = assignmentData.task3.c3paoLocation || '';
                document.getElementById('c3paoServices').value = assignmentData.task3.c3paoServices || '';
                document.getElementById('c3paoBackground').value = assignmentData.task3.c3paoBackground || '';
                document.getElementById('c3paoWhy').value = assignmentData.task3.c3paoWhy || '';
                
                updateProgress();
            }
            
            if (savedCanvas) {
                canvasElements = JSON.parse(savedCanvas);
                const canvas = document.getElementById('diagramCanvas');
                const ctx = canvas.getContext('2d');
                setTimeout(() => {
                    drawGrid(ctx, canvas.width, canvas.height);
                    redrawElements(ctx);
                }, 100);
            }
        }
        
        // Submit Assignment
        function submitAssignment() {
            if (submitted) return;
            
            updateProgress();
            
            if (!assignmentData.studentName) {
                alert('Please enter your name before submitting.');
                return;
            }
            
            submitted = true;
            
            // Disable form inputs
            document.querySelectorAll('#assignment input, #assignment textarea').forEach(el => {
                el.disabled = true;
            });
            
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('saveBtn').disabled = true;
            
            // Display results
            displayResults();
        }
        
        function displayResults() {
            const resultsSection = document.getElementById('results');
            
            document.getElementById('studentNameDisplay').textContent = `Student: ${assignmentData.studentName}`;
            document.getElementById('submissionTime').textContent = `Submitted: ${new Date().toLocaleString()}`;
            
            // Task summaries
            document.getElementById('task1Summary').textContent = 
                canvasElements.length > 0 
                    ? `Diagram created with ${canvasElements.length} elements. Description: ${assignmentData.task1.diagramDescription.substring(0, 100)}...`
                    : assignmentData.task1.diagramDescription.substring(0, 200) + '...';
            
            document.getElementById('task2Summary').innerHTML = 
                `<strong>Career Path Analysis:</strong> ${assignmentData.task2.careerPath.substring(0, 100)}...<br>` +
                `<strong>Personal Interest:</strong> ${assignmentData.task2.personalPath.substring(0, 100)}...`;
            
            document.getElementById('task3Summary').innerHTML = 
                `<strong>C3PAO Researched:</strong> ${assignmentData.task3.c3paoName}<br>` +
                `<strong>Location:</strong> ${assignmentData.task3.c3paoLocation || 'Not specified'}`;
            
            resultsSection.classList.add('visible');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Generate Submission Text
        function generateSubmissionText() {
            const timestamp = new Date().toLocaleString();
            
            let text = `CMMC ECOSYSTEM MAPPING ASSIGNMENT
==========================================
Security Concepts & CMMC 2.0 Ecosystem
CompTIA Security+ SY0-701 Training Module
==========================================

Student Name: ${assignmentData.studentName}
Student Email: ${assignmentData.studentEmail || 'Not provided'}
Submission Date: ${timestamp}

==========================================
TASK 1: CMMC ECOSYSTEM STAKEHOLDER DIAGRAM
==========================================
Diagram Elements Created: ${canvasElements.length}

Description/Alternative Submission:
${assignmentData.task1.diagramDescription}

==========================================
TASK 2: CMMC CAREER PATHWAYS ANALYSIS
==========================================

2a. Career Pathway (RP -> RPA -> CCP -> CCA):
${assignmentData.task2.careerPath}

2b. Personal Career Interest:
${assignmentData.task2.personalPath}

2c. Security+ Connection to CMMC Careers:
${assignmentData.task2.compTIAConnection}

==========================================
TASK 3: C3PAO ORGANIZATION RESEARCH REPORT
==========================================

Organization Name: ${assignmentData.task3.c3paoName}
Website: ${assignmentData.task3.c3paoWebsite}
Location: ${assignmentData.task3.c3paoLocation}

Services Offered:
${assignmentData.task3.c3paoServices}

Background and Expertise:
${assignmentData.task3.c3paoBackground}

Why Selected:
${assignmentData.task3.c3paoWhy}

==========================================
END OF SUBMISSION
==========================================`;
            
            return text;
        }
        
        // Export Functions
        function exportToFile() {
            const text = generateSubmissionText();
            const studentName = assignmentData.studentName.replace(/[^a-zA-Z0-9]/g, '_') || 'Student';
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `CMMC_Ecosystem_${studentName}_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        async function copyToClipboard() {
            const text = generateSubmissionText();
            
            try {
                await navigator.clipboard.writeText(text);
                alert('Submission copied to clipboard! You can now paste it into an email or document.');
            } catch (err) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('Submission copied to clipboard!');
            }
        }
        
        // Email results
        function emailResults() {
            if (!submitted) {
                alert('Please submit the assignment first before emailing.');
                return;
            }
            
            const subject = encodeURIComponent(`CMMC Ecosystem Assignment - ${assignmentData.studentName}`);
            
            // Note: mailto has character limits, so we provide a shortened version
            const shortBody = encodeURIComponent(`CMMC Ecosystem Mapping Assignment

Student: ${assignmentData.studentName}
Email: ${assignmentData.studentEmail || 'Not provided'}
Date: ${new Date().toLocaleString()}

TASK COMPLETION SUMMARY:
------------------------
Task 1 (Ecosystem Diagram): ${assignmentData.task1.diagramDescription ? 'Completed' : 'Not completed'}
Task 2 (Career Pathways): ${assignmentData.task2.careerPath ? 'Completed' : 'Not completed'}
Task 3 (C3PAO Research): ${assignmentData.task3.c3paoName ? 'Completed - ' + assignmentData.task3.c3paoName : 'Not completed'}

[Full detailed responses are too long for email link. Please use "Export to File" or "Copy to Clipboard" to include complete submission.]`);
            
            window.location.href = `mailto:?subject=${subject}&body=${shortBody}`;
            
            alert('Email client opened. Note: Due to email link limitations, please also use "Export to File" or "Copy to Clipboard" for the complete detailed submission.');
        }
        
        function printResults() {
            window.print();
        }
        
        // Reset Assignment
        function resetAssignment() {
            if (!confirm('Are you sure you want to reset? All progress will be lost.')) {
                return;
            }
            
            localStorage.removeItem('cmmcEcosystemAssignment');
            localStorage.removeItem('cmmcEcosystemCanvas');
            
            assignmentData = {
                studentName: '',
                studentEmail: '',
                task1: { diagramDescription: '' },
                task2: { careerPath: '', personalPath: '', compTIAConnection: '' },
                task3: { c3paoName: '', c3paoWebsite: '', c3paoLocation: '', c3paoServices: '', c3paoBackground: '', c3paoWhy: '' }
            };
            
            canvasElements = [];
            submitted = false;
            
            // Reset form
            document.querySelectorAll('#assignment input, #assignment textarea').forEach(el => {
                el.value = '';
                el.disabled = false;
            });
            
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('saveBtn').disabled = false;
            
            // Reset task cards
            document.querySelectorAll('.task-card').forEach(card => {
                card.classList.remove('completed');
            });
            
            // Reset progress
            document.querySelectorAll('.progress-step').forEach((step, i) => {
                step.classList.remove('completed');
                step.classList.remove('active');
                if (i === 0) step.classList.add('active');
            });
            
            // Clear canvas
            const canvas = document.getElementById('diagramCanvas');
            const ctx = canvas.getContext('2d');
            drawGrid(ctx, canvas.width, canvas.height);
            
            // Hide results
            document.getElementById('results').classList.remove('visible');
            
            // Scroll to assignment
            document.getElementById('assignment').scrollIntoView({ behavior: 'smooth' });
        }
        
        // CIA Triad Interactive Elements
        document.querySelectorAll('.triad-node').forEach(node => {
            node.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    this.click();
                }
            });
            
            node.addEventListener('click', function() {
                const type = this.classList.contains('confidentiality') ? 'Confidentiality' :
                            this.classList.contains('integrity') ? 'Integrity' : 'Availability';
                
                const descriptions = {
                    'Confidentiality': 'Confidentiality ensures that sensitive information is only accessible to authorized individuals. Key methods include encryption, access controls, and data classification.',
                    'Integrity': 'Integrity ensures that data remains accurate and unaltered. Key methods include hashing, digital signatures, and version control.',
                    'Availability': 'Availability ensures that systems and data are accessible when needed. Key methods include redundancy, fault tolerance, and disaster recovery.'
                };
                
                alert(`${type}:\n\n${descriptions[type]}`);
            });
        });
    </script>
</body>
</html>
