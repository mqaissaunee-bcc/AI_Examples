<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CISA Domain 2 Learning Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #00FFC5 0%, #ADF5FF 50%, #0075A2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 30px;
            max-width: 900px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #00FFC5, #ADF5FF, #0075A2, #D55672);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #0075A2, #481620);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .score-board {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 15px;
            background: linear-gradient(135deg, #D55672 0%, #481620 100%);
            border-radius: 15px;
            color: white;
            font-weight: bold;
        }

        .game-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .mode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            border-color: #0075A2;
        }

        .mode-card.active {
            background: linear-gradient(135deg, #0075A2 0%, #00FFC5 100%);
            color: white;
            border-color: #0075A2;
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .mode-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .mode-description {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .topic-selector {
            margin: 20px 0;
        }

        .topic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .topic-btn {
            padding: 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
        }

        .topic-btn:hover, .topic-btn.active {
            border-color: #0075A2;
            background: #0075A2;
            color: white;
        }

        .content-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            display: none;
            max-height: 600px;
            overflow-y: auto;
        }

        .content-container::-webkit-scrollbar {
            width: 8px;
        }

        .content-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .content-container::-webkit-scrollbar-thumb {
            background: #0075A2;
            border-radius: 4px;
        }

        .content-container::-webkit-scrollbar-thumb:hover {
            background: #005580;
        }

        .content-container.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f9f9f9;
        }

        .option:hover {
            border-color: #0075A2;
            background: #e8f7ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #0075A2;
            background: #0075A2;
            color: white;
        }

        .option.correct {
            border-color: #28a745;
            background: #28a745;
            color: white;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #dc3545;
            color: white;
        }

        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: #e8f7ff;
            border-left: 4px solid #0075A2;
            border-radius: 8px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .flashcard {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            min-height: 300px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .flashcard:hover {
            transform: rotateY(5deg);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .flashcard.flipped {
            background: linear-gradient(135deg, #D55672 0%, #481620 100%);
            color: white;
        }

        .card-content {
            font-size: 1.3rem;
            line-height: 1.6;
        }

        .card-hint {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .learning-content h3 {
            color: #0075A2;
            margin-bottom: 15px;
            font-size: 1.4rem;
            border-bottom: 2px solid #ADF5FF;
            padding-bottom: 8px;
        }

        .learning-content p {
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: justify;
            font-size: 1rem;
        }

        .learning-example {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f0f8ff 0%, #e8f7ff 100%);
            border-radius: 12px;
            border-left: 5px solid #0075A2;
            box-shadow: 0 3px 10px rgba(0, 117, 162, 0.1);
        }

        .learning-example strong {
            color: #481620;
            font-size: 1.1rem;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            gap: 15px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #0075A2 0%, #481620 100%);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-outline {
            background: transparent;
            color: #0075A2;
            border: 2px solid #0075A2;
        }

        .btn-outline:hover {
            background: #0075A2;
            color: white;
        }

        .results-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .results-actions .btn {
            padding: 15px 20px;
            font-size: 0.9rem;
            border-radius: 12px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0075A2, #00FFC5);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .results-container {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .results-container.show {
            display: block;
            animation: bounceIn 0.6s ease-out;
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .results-score {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }
            
            .game-container {
                padding: 20px;
                width: 95%;
            }
            
            .score-board {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .controls {
                flex-direction: column;
                gap: 15px;
            }

            .game-modes {
                grid-template-columns: 1fr;
            }

            .results-actions {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .results-actions .btn {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1 class="title">CISA Domain 2 Mastery</h1>
            <p class="subtitle">Governance and Management of IT (18% of Exam)</p>
            <div class="score-board">
                <div>Total Score: <span id="score">0</span></div>
                <div>Current Streak: <span id="streak">0</span></div>
                <div>Section Progress: <span id="progress">0</span>%</div>
            </div>
        </div>

        <div class="game-modes" id="gameMode">
            <div class="mode-card" data-mode="learn">
                <div class="mode-icon">📚</div>
                <div class="mode-title">Learn Mode</div>
                <div class="mode-description">Study concepts with guided explanations</div>
            </div>
            <div class="mode-card" data-mode="quiz">
                <div class="mode-icon">🎯</div>
                <div class="mode-title">Quiz Mode</div>
                <div class="mode-description">Test your knowledge with interactive questions</div>
            </div>
            <div class="mode-card" data-mode="flashcards">
                <div class="mode-icon">🃏</div>
                <div class="mode-title">Flashcards</div>
                <div class="mode-description">Review key concepts and definitions</div>
            </div>
            <div class="mode-card" data-mode="scenario">
                <div class="mode-icon">🔍</div>
                <div class="mode-title">Scenarios</div>
                <div class="mode-description">Practice with real-world governance situations</div>
            </div>
        </div>

        <div class="topic-selector" id="topicSelector" style="display: none;">
            <h3>Choose Your Focus Area:</h3>
            <div class="topic-grid">
                <div class="topic-btn" data-topic="governance">IT Governance (A)</div>
                <div class="topic-btn" data-topic="management">IT Management (B)</div>
                <div class="topic-btn" data-topic="frameworks">Frameworks & Standards</div>
                <div class="topic-btn" data-topic="compliance">Risk & Compliance</div>
                <div class="topic-btn" data-topic="mixed">Mixed Topics</div>
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <button class="btn btn-secondary" onclick="goBackToModes()">← Back to Game Modes</button>
            </div>
        </div>

        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="content-container" id="questionContainer">
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="explanation" id="explanation"></div>
        </div>

        <div class="content-container" id="learningContainer">
            <div class="learning-content">
                <h3 id="learningTitle"></h3>
                <p id="learningText"></p>
                <div class="learning-example" id="learningExample"></div>
            </div>
        </div>

        <div class="flashcard" id="flashcard" style="display: none;">
            <div class="card-content" id="cardContent"></div>
            <div class="card-hint">Click to flip</div>
        </div>

        <div class="controls" id="controls" style="display: none;">
            <button class="btn btn-secondary" id="prevBtn">Previous</button>
            <button class="btn btn-secondary" onclick="goBackToTopics()">← Back to Topics</button>
            <button class="btn btn-primary" id="nextBtn">Next</button>
        </div>

        <div class="results-container" id="results">
            <h2>🎉 Complete!</h2>
            <div class="results-score" id="finalScore"></div>
            <p id="resultMessage"></p>
            <div class="results-actions">
                <button class="btn btn-primary" onclick="playAgain()">🔄 Play Again</button>
                <button class="btn btn-secondary" onclick="goToMainScreen()">🏠 Main Menu</button>
                <button class="btn btn-secondary" onclick="chooseAnotherSection()">📚 Try Another Section</button>
                <button class="btn btn-outline" onclick="resetGame()">🔃 Reset All Progress</button>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let currentMode = '';
        let currentTopic = '';
        let currentQuestion = 0;
        let score = 0;
        let streak = 0;
        let answeredQuestions = [];
        let currentQuestions = [];

        // Comprehensive Question Bank aligned with CISA Domain 2
        const questionBank = {
            governance: [
                {
                    question: "Which framework is specifically designed for IT governance and is developed by ISACA?",
                    options: ["ITIL", "COBIT", "ISO 27001", "COSO"],
                    correct: 1,
                    explanation: "COBIT (Control Objectives for Information and Related Technologies) is ISACA's framework specifically designed for IT governance and management."
                },
                {
                    question: "What is the primary purpose of Enterprise Risk Management (ERM)?",
                    options: [
                        "To eliminate all business risks",
                        "To identify, assess, and manage risks across the enterprise",
                        "To focus only on IT security risks",
                        "To reduce operational costs"
                    ],
                    correct: 1,
                    explanation: "ERM is a systematic approach to identify, assess, and manage risks across the entire enterprise, not just eliminate them."
                },
                {
                    question: "In IT governance, what does the 'Three Lines of Defense' model refer to?",
                    options: [
                        "Firewall, Antivirus, and Encryption",
                        "Operational Management, Risk Management, and Internal Audit",
                        "Physical, Logical, and Administrative controls",
                        "Prevention, Detection, and Response"
                    ],
                    correct: 1,
                    explanation: "The Three Lines of Defense model includes: 1st line (Operational Management), 2nd line (Risk Management and Compliance), and 3rd line (Internal Audit)."
                },
                {
                    question: "Which ISO standard specifically addresses corporate governance of IT?",
                    options: ["ISO 27001", "ISO 20000", "ISO 38500", "ISO 31000"],
                    correct: 2,
                    explanation: "ISO 38500 provides guiding principles for members of governing bodies on the effective, efficient, and acceptable use of IT in their organizations."
                },
                {
                    question: "What is the primary difference between IT governance and IT management?",
                    options: [
                        "There is no difference",
                        "Governance focuses on direction and oversight, management on execution",
                        "Management is strategic, governance is operational",
                        "Governance is technical, management is business-focused"
                    ],
                    correct: 1,
                    explanation: "IT Governance focuses on strategic direction, oversight, and accountability, while IT Management focuses on day-to-day execution and operations."
                },
                {
                    question: "In COBIT 5, which of the following is NOT one of the five key principles?",
                    options: [
                        "Meeting Stakeholder Needs",
                        "Covering the Enterprise End-to-End",
                        "Maximizing Profit Margins",
                        "Enabling a Holistic Approach"
                    ],
                    correct: 2,
                    explanation: "COBIT 5 principles are: Meeting Stakeholder Needs, Covering the Enterprise End-to-End, Applying a Single Integrated Framework, Enabling a Holistic Approach, and Separating Governance from Management."
                },
                {
                    question: "What is the primary purpose of a Business Impact Analysis (BIA)?",
                    options: [
                        "To calculate financial profits",
                        "To identify critical business processes and their recovery requirements",
                        "To assess employee performance",
                        "To evaluate IT vendor contracts"
                    ],
                    correct: 1,
                    explanation: "A BIA identifies critical business processes, their dependencies, and recovery time/point objectives to support business continuity planning."
                }
            ],
            management: [
                {
                    question: "Which committee is typically responsible for strategic IT decisions and alignment with business objectives?",
                    options: [
                        "IT Operations Committee",
                        "IT Steering Committee",
                        "Security Committee",
                        "Audit Committee"
                    ],
                    correct: 1,
                    explanation: "The IT Steering Committee provides strategic oversight and ensures IT initiatives align with business objectives and priorities."
                },
                {
                    question: "In data governance, what does data classification primarily help achieve?",
                    options: [
                        "Faster data processing",
                        "Better storage efficiency",
                        "Appropriate protection based on sensitivity and value",
                        "Simplified data backup"
                    ],
                    correct: 2,
                    explanation: "Data classification helps organizations apply appropriate security controls and protection measures based on data sensitivity, value, and regulatory requirements."
                },
                {
                    question: "What is the key characteristic of the ITIL framework?",
                    options: [
                        "It focuses on IT governance",
                        "It provides best practices for IT service management",
                        "It is a risk management framework",
                        "It addresses software development"
                    ],
                    correct: 1,
                    explanation: "ITIL (Information Technology Infrastructure Library) provides best practices for IT service management throughout the service lifecycle."
                },
                {
                    question: "Which of the following is a key principle of privacy program management?",
                    options: [
                        "Collect as much data as possible",
                        "Data minimization and purpose limitation",
                        "Share data freely within the organization",
                        "Store data indefinitely"
                    ],
                    correct: 1,
                    explanation: "Privacy programs emphasize data minimization (collecting only necessary data) and purpose limitation (using data only for stated purposes)."
                },
                {
                    question: "What does SLA typically stand for in IT service management?",
                    options: [
                        "Software License Agreement",
                        "Service Level Agreement",
                        "Security Level Assessment",
                        "System Load Analysis"
                    ],
                    correct: 1,
                    explanation: "SLA stands for Service Level Agreement, which defines the expected level of service between a service provider and customer."
                },
                {
                    question: "What is vendor lock-in in IT vendor management?",
                    options: [
                        "Securing vendor facilities",
                        "Dependency on a single vendor making it difficult to switch",
                        "Legal contracts preventing vendor changes",
                        "Vendor security clearance requirements"
                    ],
                    correct: 1,
                    explanation: "Vendor lock-in occurs when an organization becomes overly dependent on a single vendor, making it difficult or costly to switch to alternatives."
                },
                {
                    question: "In IT resource management, what does capacity planning primarily address?",
                    options: [
                        "Employee training needs",
                        "Future resource requirements to meet demand",
                        "Budget allocation",
                        "Vendor selection"
                    ],
                    correct: 1,
                    explanation: "Capacity planning ensures adequate IT resources (hardware, software, network) are available to meet current and future business demands."
                }
            ],
            frameworks: [
                {
                    question: "In enterprise architecture, what does the Zachman Framework primarily provide?",
                    options: [
                        "A security architecture model",
                        "A structured approach to enterprise architecture description",
                        "A project management methodology",
                        "A risk assessment framework"
                    ],
                    correct: 1,
                    explanation: "The Zachman Framework provides a structured way to view and define enterprise architecture from different perspectives and aspects."
                },
                {
                    question: "What is the primary purpose of IT performance monitoring?",
                    options: [
                        "To reduce IT costs",
                        "To measure and improve IT service delivery against objectives",
                        "To eliminate all system errors",
                        "To replace manual processes"
                    ],
                    correct: 1,
                    explanation: "IT performance monitoring measures key indicators to ensure IT services meet defined objectives and identify areas for improvement."
                },
                {
                    question: "Which framework primarily focuses on value delivery from IT investments?",
                    options: ["COBIT", "Val IT", "ITIL", "PMBOK"],
                    correct: 1,
                    explanation: "Val IT specifically focuses on ensuring IT investments deliver expected value to the organization and align with business strategy."
                },
                {
                    question: "What is the primary benefit of implementing IT governance frameworks?",
                    options: [
                        "Reducing IT staff",
                        "Eliminating all IT risks",
                        "Ensuring IT supports business objectives effectively",
                        "Automating all processes"
                    ],
                    correct: 2,
                    explanation: "IT governance frameworks ensure IT investments and operations are aligned with and support business objectives while managing associated risks."
                },
                {
                    question: "In COBIT, what are the five domains?",
                    options: [
                        "Plan, Build, Run, Monitor, Evaluate",
                        "EDM, APO, BAI, DSS, MEA",
                        "Strategy, Design, Transition, Operation, Improvement",
                        "Identify, Protect, Detect, Respond, Recover"
                    ],
                    correct: 1,
                    explanation: "COBIT 5 domains are: EDM (Evaluate, Direct, Monitor), APO (Align, Plan, Organize), BAI (Build, Acquire, Implement), DSS (Deliver, Service, Support), MEA (Monitor, Evaluate, Assess)."
                },
                {
                    question: "What is the relationship between COBIT and other frameworks?",
                    options: [
                        "COBIT replaces all other frameworks",
                        "COBIT is incompatible with other frameworks",
                        "COBIT provides an overarching governance framework that can integrate others",
                        "COBIT only works with ISACA frameworks"
                    ],
                    correct: 2,
                    explanation: "COBIT serves as an overarching governance framework that can integrate and align other frameworks like ITIL, ISO 27001, and PMBOK."
                }
            ],
            compliance: [
                {
                    question: "Which regulation primarily focuses on financial reporting and internal controls?",
                    options: [
                        "GDPR",
                        "HIPAA",
                        "SOX (Sarbanes-Oxley)",
                        "PCI DSS"
                    ],
                    correct: 2,
                    explanation: "The Sarbanes-Oxley Act (SOX) requires public companies to maintain adequate internal controls over financial reporting."
                },
                {
                    question: "What is the main difference between qualitative and quantitative risk assessment?",
                    options: [
                        "Qualitative uses numbers, quantitative uses descriptions",
                        "Quantitative uses numerical analysis, qualitative uses descriptive analysis",
                        "They are the same approach",
                        "Qualitative is more accurate than quantitative"
                    ],
                    correct: 1,
                    explanation: "Quantitative risk assessment uses numerical data and calculations, while qualitative assessment uses descriptive scales and subjective judgment."
                },
                {
                    question: "What is the primary purpose of data governance programs?",
                    options: [
                        "To reduce data storage costs",
                        "To ensure data quality, security, and compliance",
                        "To eliminate all data redundancy",
                        "To automate data processing"
                    ],
                    correct: 1,
                    explanation: "Data governance ensures data is managed as a valuable asset with appropriate quality, security, privacy, and regulatory compliance measures."
                },
                {
                    question: "In risk management, what does 'risk appetite' refer to?",
                    options: [
                        "The total amount of risk in the organization",
                        "The level of risk an organization is willing to accept",
                        "The cost of risk mitigation",
                        "The probability of risk occurrence"
                    ],
                    correct: 1,
                    explanation: "Risk appetite is the amount and type of risk that an organization is willing to accept in pursuit of its objectives."
                },
                {
                    question: "What is the purpose of a privacy impact assessment (PIA)?",
                    options: [
                        "To calculate the cost of privacy programs",
                        "To identify and mitigate privacy risks in projects or systems",
                        "To train employees on privacy policies",
                        "To audit existing privacy controls"
                    ],
                    correct: 1,
                    explanation: "A PIA systematically evaluates potential privacy impacts and risks of new projects, systems, or processes to identify appropriate safeguards."
                },
                {
                    question: "Which principle is fundamental to effective risk management?",
                    options: [
                        "Eliminating all risks",
                        "Risk assessment should be integrated into decision-making",
                        "Only focusing on high-probability risks",
                        "Risk management is solely an IT responsibility"
                    ],
                    correct: 1,
                    explanation: "Effective risk management requires integrating risk considerations into all business decisions and processes, not treating it as a separate activity."
                }
            ],
            mixed: [
                {
                    question: "What is the primary responsibility of a Chief Information Officer (CIO)?",
                    options: [
                        "Managing day-to-day IT operations",
                        "Aligning IT strategy with business strategy",
                        "Writing code and developing systems",
                        "Maintaining network infrastructure"
                    ],
                    correct: 1,
                    explanation: "The CIO is responsible for strategic IT leadership, ensuring IT investments and initiatives support business objectives and create value."
                },
                {
                    question: "In IT governance, what is the purpose of organizational structure?",
                    options: [
                        "To reduce headcount",
                        "To clearly define roles, responsibilities, and decision-making authority",
                        "To increase bureaucracy",
                        "To eliminate the need for policies"
                    ],
                    correct: 1,
                    explanation: "Organizational structure defines roles, responsibilities, reporting relationships, and decision-making authority to ensure effective governance and management."
                },
                {
                    question: "What is the key difference between a policy and a procedure?",
                    options: [
                        "Policies are technical, procedures are business-focused",
                        "Policies provide high-level direction, procedures provide detailed steps",
                        "There is no difference",
                        "Procedures are more important than policies"
                    ],
                    correct: 1,
                    explanation: "Policies establish high-level principles and requirements, while procedures provide detailed step-by-step instructions for implementing policies."
                },
                {
                    question: "What is the primary objective of IT portfolio management?",
                    options: [
                        "To reduce the number of IT projects",
                        "To optimize value from IT investments across the portfolio",
                        "To eliminate project risks",
                        "To standardize all IT projects"
                    ],
                    correct: 1,
                    explanation: "IT portfolio management optimizes value delivery by selecting, prioritizing, and managing IT investments as a coordinated portfolio aligned with business strategy."
                },
                {
                    question: "Which of the following best describes enterprise architecture?",
                    options: [
                        "The physical design of data centers",
                        "A blueprint that defines the structure and operation of an organization",
                        "Software architecture for applications",
                        "Network topology design"
                    ],
                    correct: 1,
                    explanation: "Enterprise architecture provides a comprehensive blueprint showing how all components of the enterprise fit together to achieve business objectives."
                },
                {
                    question: "What is the primary benefit of service level management?",
                    options: [
                        "Reducing service costs",
                        "Ensuring services meet agreed performance standards",
                        "Eliminating all service incidents",
                        "Automating service delivery"
                    ],
                    correct: 1,
                    explanation: "Service level management ensures IT services consistently meet agreed performance standards and user expectations while facilitating improvement."
                }
            ]
        };

        const flashcards = {
            governance: [
                { front: "COBIT 5 Principles", back: "1. Meeting Stakeholder Needs 2. Covering Enterprise End-to-End 3. Applying Single Integrated Framework 4. Enabling Holistic Approach 5. Separating Governance from Management" },
                { front: "Three Lines of Defense", back: "1st Line: Operational Management (owns and manages risks) 2nd Line: Risk Management & Compliance (oversight functions) 3rd Line: Internal Audit (independent assurance)" },
                { front: "ISO 38500 Principles", back: "Responsibility, Strategy, Acquisition, Performance, Conformance, Human Behavior - principles for corporate governance of IT" },
                { front: "IT Governance vs Management", back: "Governance: Strategic direction, oversight, accountability. Management: Day-to-day execution, operations, implementation" },
                { front: "Enterprise Risk Management", back: "Systematic approach to identify, assess, respond to, and monitor risks across the organization to support strategic objectives" },
                { front: "Risk Appetite", back: "The amount and type of risk that an organization is willing to accept in pursuit of its strategic objectives" },
                { front: "Business Impact Analysis", back: "Process to identify critical business processes and determine recovery time/point objectives for business continuity planning" },
                { front: "COBIT 5 Domains", back: "EDM (Evaluate/Direct/Monitor), APO (Align/Plan/Organize), BAI (Build/Acquire/Implement), DSS (Deliver/Service/Support), MEA (Monitor/Evaluate/Assess)" }
            ],
            management: [
                { front: "IT Steering Committee", back: "Senior management group responsible for IT strategic direction, investment priorities, and ensuring IT alignment with business objectives" },
                { front: "Service Level Agreement", back: "Formal agreement between service provider and customer defining expected service levels, responsibilities, and performance metrics" },
                { front: "Data Classification", back: "Process of categorizing data based on sensitivity, value, and regulatory requirements to apply appropriate protection measures" },
                { front: "Vendor Lock-in", back: "Situation where organization becomes overly dependent on single vendor, making it difficult or costly to switch alternatives" },
                { front: "Capacity Planning", back: "Process of determining future resource requirements to ensure adequate IT capacity to meet business demands" },
                { front: "Privacy by Design", back: "Approach that embeds privacy considerations into system design from the beginning rather than as an afterthought" },
                { front: "Data Minimization", back: "Privacy principle requiring collection of only data that is necessary for specific, stated purposes" },
                { front: "IT Performance Monitoring", back: "Ongoing measurement and analysis of IT service delivery against defined objectives and service levels" }
            ],
            frameworks: [
                { front: "ITIL Service Lifecycle", back: "Service Strategy → Service Design → Service Transition → Service Operation → Continual Service Improvement" },
                { front: "Zachman Framework", back: "Enterprise architecture framework using 6x6 matrix of perspectives (What, How, Where, Who, When, Why) and stakeholder views" },
                { front: "Val IT Framework", back: "ISACA framework focused on value governance, value portfolio management, and value investment management" },
                { front: "COSO Framework", back: "Internal control framework with 5 components: Control Environment, Risk Assessment, Control Activities, Information & Communication, Monitoring" },
                { front: "Balanced Scorecard", back: "Performance measurement tool using four perspectives: Financial, Customer, Internal Process, Learning & Growth" },
                { front: "Capability Maturity Model", back: "Framework for assessing and improving organizational processes through 5 maturity levels: Initial, Managed, Defined, Quantitatively Managed, Optimizing" },
                { front: "TOGAF", back: "The Open Group Architecture Framework - methodology and tools for developing enterprise architecture" },
                { front: "ISO 27001", back: "International standard for information security management systems (ISMS) providing requirements for establishing, implementing, and maintaining information security" }
            ],
            compliance: [
                { front: "Sarbanes-Oxley Act", back: "US law requiring public companies to maintain adequate internal controls over financial reporting and disclosure" },
                { front: "GDPR", back: "General Data Protection Regulation - EU law governing data protection and privacy with strict requirements and penalties" },
                { front: "Risk Assessment Methods", back: "Qualitative: Uses descriptive scales and judgment. Quantitative: Uses numerical analysis and statistical methods" },
                { front: "Privacy Impact Assessment", back: "Systematic evaluation of potential privacy impacts and risks of new projects or systems to identify appropriate safeguards" },
                { front: "Compliance Monitoring", back: "Ongoing process to verify adherence to laws, regulations, policies, and standards through testing and reporting" },
                { front: "Data Governance", back: "Framework for managing data as enterprise asset ensuring quality, security, privacy, and compliance throughout lifecycle" },
                { front: "Risk Response Strategies", back: "Accept (tolerate risk), Avoid (eliminate risk), Mitigate (reduce likelihood/impact), Transfer (share risk with others)" },
                { front: "Due Diligence", back: "Comprehensive investigation and evaluation of risks, controls, and compliance before making decisions or entering agreements" }
            ],
            mixed: [
                { front: "Enterprise Architecture", back: "Comprehensive blueprint defining structure and operation of organization including business, data, application, and technology architectures" },
                { front: "IT Portfolio Management", back: "Coordinated management of IT investments as portfolio to optimize value delivery and alignment with business strategy" },
                { front: "Policy vs Procedure", back: "Policy: High-level principles and requirements. Procedure: Detailed step-by-step instructions for implementation" },
                { front: "Service Catalog", back: "Comprehensive list of IT services available to users with descriptions, service levels, and access procedures" },
                { front: "Change Management", back: "Formal process for managing changes to IT systems and services to minimize risk and business disruption" },
                { front: "Business Continuity", back: "Capability to maintain essential business operations during and after disruptions through planning and preparation" },
                { front: "IT Strategy", back: "High-level plan defining how IT will support and enable business objectives through technology investments and capabilities" },
                { front: "Stakeholder Management", back: "Process of identifying, analyzing, and engaging stakeholders to ensure their needs and expectations are addressed" }
            ]
        };

        const learningContent = {
            governance: [
                {
                    title: "IT Governance Fundamentals and COBIT Framework",
                    content: "IT governance ensures that IT supports business objectives, delivers value, manages risks appropriately, and uses resources responsibly. It is the responsibility of the board of directors and executive management, not IT management. The COBIT framework provides a comprehensive approach to IT governance with five key principles: Meeting Stakeholder Needs (balancing benefits, risks, and resources), Covering the Enterprise End-to-End (integrating governance across the organization), Applying a Single Integrated Framework (aligning with other standards), Enabling a Holistic Approach (considering all factors), and Separating Governance from Management (clear distinction between oversight and execution). COBIT 5 has five domains: EDM (Evaluate, Direct, Monitor) for governance, and APO (Align, Plan, Organize), BAI (Build, Acquire, Implement), DSS (Deliver, Service, Support), and MEA (Monitor, Evaluate, Assess) for management.",
                    example: "Example: A bank's board of directors (governance) sets the strategic direction for IT investments in digital banking, while the IT department (management) implements the mobile banking application. The board evaluates progress, directs priorities, and monitors outcomes, while IT manages day-to-day operations."
                },
                {
                    title: "Enterprise Risk Management and Risk Frameworks",
                    content: "Enterprise Risk Management (ERM) is a systematic approach to identify, assess, respond to, and monitor risks that could affect achievement of organizational objectives. ERM considers risk appetite (the amount of risk an organization is willing to accept) and risk tolerance (acceptable deviation from objectives). Risk assessment methods include qualitative approaches using descriptive scales and professional judgment, and quantitative methods using numerical analysis and statistical techniques. Risk response strategies include Accept (tolerate the risk), Avoid (eliminate the risk source), Mitigate (reduce likelihood or impact), and Transfer (share risk through insurance or outsourcing). Effective ERM requires integration with strategic planning, regular monitoring and reporting, and clear governance structures with defined roles and responsibilities.",
                    example: "Example: A healthcare organization identifies cybersecurity as a top risk with high impact and medium likelihood. They might mitigate through security controls and training (reduce likelihood), transfer through cyber insurance (share impact), and accept residual risk within their appetite while monitoring threat landscape changes."
                },
                {
                    title: "Laws, Regulations, and Industry Standards",
                    content: "Organizations must comply with various laws and regulations affecting IT governance and operations. The Sarbanes-Oxley Act requires public companies to maintain adequate internal controls over financial reporting, including IT general controls supporting financial systems. GDPR and privacy laws establish requirements for data protection, consent management, and breach notification. Industry-specific regulations like HIPAA (healthcare), PCI DSS (payment cards), and Basel III (banking) impose additional requirements. International standards like ISO 38500 provide governance principles, ISO 27001 covers information security management, and ISO 20000 addresses IT service management. Compliance requires understanding applicable requirements, implementing appropriate controls, monitoring effectiveness, and reporting to regulators and stakeholders.",
                    example: "Example: A multinational bank must comply with SOX for financial reporting, GDPR for EU customer data, PCI DSS for payment processing, and local banking regulations in each jurisdiction. They need integrated compliance management to avoid overlaps and gaps while ensuring all requirements are met."
                }
            ],
            management: [
                {
                    title: "IT Resource Management and Capacity Planning",
                    content: "IT resource management encompasses planning, acquiring, developing, and maintaining IT resources including hardware, software, networks, data, and personnel. Capacity planning ensures adequate resources are available to meet current and future business demands while optimizing costs. This involves demand forecasting, resource utilization monitoring, performance analysis, and scaling decisions. Portfolio management evaluates and prioritizes IT investments to maximize value and alignment with business strategy. Resource optimization includes consolidation opportunities, cloud migration considerations, and lifecycle management. Effective resource management requires understanding business requirements, technology trends, vendor relationships, and total cost of ownership including acquisition, operation, and disposal costs.",
                    example: "Example: An e-commerce company forecasts 50% transaction growth during holiday season. Capacity planning involves analyzing current utilization, projecting resource needs, evaluating scaling options (cloud auto-scaling vs. additional servers), and implementing monitoring to ensure adequate performance while controlling costs."
                },
                {
                    title: "IT Vendor Management and Third-Party Risk",
                    content: "Vendor management encompasses the entire lifecycle of third-party relationships from selection through contract termination. Key activities include vendor evaluation and due diligence, contract negotiation and management, performance monitoring and measurement, risk assessment and mitigation, and relationship governance. Critical considerations include vendor lock-in risks (over-dependence on single vendors), service level management, data protection and privacy, business continuity planning, and exit strategies. Vendor risk assessment should evaluate financial stability, security practices, compliance capabilities, business continuity plans, and strategic alignment. Effective vendor management requires clear governance structures, regular performance reviews, escalation procedures, and continuous monitoring of vendor health and market conditions.",
                    example: "Example: When selecting a cloud storage vendor, evaluation criteria include security certifications, data location and sovereignty, SLA terms, pricing models, integration capabilities, vendor financial stability, and exit procedures including data portability and deletion guarantees."
                },
                {
                    title: "Data Governance and Privacy Programs",
                    content: "Data governance establishes policies, procedures, and accountability for managing data as an enterprise asset throughout its lifecycle. Key components include data classification (categorizing by sensitivity and value), data ownership and stewardship (defining roles and responsibilities), data quality management (ensuring accuracy and completeness), and data lifecycle management (from creation to disposal). Privacy programs implement privacy by design principles, ensure compliance with privacy laws, manage consent and user rights, and handle privacy incidents. Data classification typically includes categories like public, internal, confidential, and restricted, with appropriate protection measures for each level. Effective data governance requires executive sponsorship, clear policies, defined processes, technology tools, and regular monitoring and reporting.",
                    example: "Example: A financial services firm classifies customer account data as 'restricted' requiring encryption, access controls, audit logging, and specific retention periods. They implement privacy controls for GDPR compliance including consent management, data subject rights handling, and breach notification procedures."
                }
            ],
            frameworks: [
                {
                    title: "ITIL and IT Service Management Best Practices",
                    content: "ITIL (Information Technology Infrastructure Library) provides best practices for IT service management throughout the service lifecycle: Service Strategy (defining value propositions), Service Design (designing services and processes), Service Transition (building and deploying services), Service Operation (delivering day-to-day services), and Continual Service Improvement (monitoring and improving services). Key processes include Incident Management (restoring service quickly), Problem Management (preventing recurring incidents), Change Management (controlling changes), and Service Level Management (ensuring services meet agreed standards). ITIL emphasizes service-oriented thinking, customer focus, process-based approach, and continuous improvement. Implementation requires cultural change, process redesign, tool integration, and staff training.",
                    example: "Example: When email service fails, Incident Management quickly restores service while Problem Management investigates root cause to prevent recurrence. Change Management ensures any fixes follow proper approval and testing procedures to minimize future risk."
                },
                {
                    title: "Enterprise Architecture and Integration Frameworks",
                    content: "Enterprise Architecture provides a comprehensive blueprint showing how business strategy, processes, information systems, and technology infrastructure fit together to achieve organizational objectives. The Zachman Framework uses a 6x6 matrix examining What (data), How (function), Where (network), Who (people), When (time), and Why (motivation) from different stakeholder perspectives. TOGAF (The Open Group Architecture Framework) provides methodology and tools for developing enterprise architecture including Architecture Development Method (ADM). Enterprise architecture enables better decision-making, reduces complexity and redundancy, improves agility and integration, and supports strategic planning. Effective implementation requires executive sponsorship, stakeholder engagement, governance processes, and regular updates to reflect changing business needs.",
                    example: "Example: A retail company's enterprise architecture shows how customer data flows from online channels through CRM systems to inventory management, ensuring consistent customer experience across touchpoints while supporting business analytics and compliance requirements."
                },
                {
                    title: "Integration of Multiple Frameworks and Standards",
                    content: "Organizations typically use multiple frameworks and standards that must be integrated effectively to avoid conflicts and redundancy. COBIT provides overarching governance and can integrate with ITIL for service management, ISO 27001 for security, COSO for internal controls, and PMBOK for project management. Integration requires mapping common objectives, aligning processes and procedures, coordinating governance structures, and ensuring consistent terminology and metrics. Val IT complements COBIT by focusing specifically on value delivery from IT investments through value governance, portfolio management, and investment management. Successful integration requires understanding each framework's scope and purpose, identifying overlaps and gaps, developing integrated policies and procedures, and providing coordinated training and communication.",
                    example: "Example: A healthcare organization integrates COBIT for IT governance, ITIL for service delivery, ISO 27001 for security management, and HIPAA requirements for privacy protection, creating unified policies and procedures that address all requirements without duplication or conflicts."
                }
            ],
            compliance: [
                {
                    title: "Regulatory Compliance and Industry Standards",
                    content: "Regulatory compliance requires understanding applicable laws and regulations, implementing appropriate controls, monitoring compliance, and reporting to relevant authorities. Key regulations include SOX for financial reporting controls, GDPR for data protection, HIPAA for healthcare information, and PCI DSS for payment card security. Industry standards like ISO 27001 for information security and ISO 20000 for service management provide frameworks for compliance. Compliance management involves risk assessment, control implementation, monitoring and testing, documentation and reporting, and continuous improvement. Challenges include keeping up with regulatory changes, managing multiple jurisdictions, integrating compliance requirements, and balancing compliance costs with business objectives.",
                    example: "Example: A global financial services firm must comply with SOX in the US, GDPR in Europe, and local banking regulations in each country. They implement integrated compliance management with unified controls, monitoring systems, and reporting processes to efficiently meet all requirements."
                },
                {
                    title: "Risk Assessment Methodologies and Techniques",
                    content: "Risk assessment systematically identifies, analyzes, and evaluates risks to support decision-making and risk management. Qualitative methods use descriptive scales (low/medium/high) and professional judgment to assess likelihood and impact, suitable for initial assessments and non-quantifiable risks. Quantitative methods use numerical analysis including probability distributions, Monte Carlo simulation, and financial modeling to calculate expected losses and return on investment for risk mitigation. Hybrid approaches combine both methods for comprehensive assessment. Risk assessment should consider all types of risks including strategic, operational, financial, compliance, and reputational risks. Regular reassessment is necessary as business environment, threats, and controls change over time.",
                    example: "Example: Assessing cybersecurity risk might use qualitative methods for emerging threats with limited data, quantitative analysis for known attack vectors with historical data, and hybrid approaches for comprehensive risk modeling supporting investment decisions in security controls."
                },
                {
                    title: "Privacy and Data Protection Programs",
                    content: "Privacy programs ensure compliance with data protection laws and regulations while building customer trust and managing privacy risks. Key components include privacy governance (policies, roles, accountability), privacy by design (embedding privacy in systems and processes), consent management (obtaining and managing user consent), data subject rights (access, correction, deletion), privacy impact assessments (evaluating privacy risks), breach management (detection, notification, remediation), and vendor management (ensuring third parties protect data appropriately). GDPR and similar laws establish principles including lawfulness, fairness, transparency, purpose limitation, data minimization, accuracy, storage limitation, integrity, confidentiality, and accountability. Effective privacy programs require legal expertise, technical implementation, business process integration, and ongoing monitoring and improvement.",
                    example: "Example: An e-commerce company implements privacy by design in their new mobile app including minimal data collection, clear consent mechanisms, encryption in transit and at rest, user access to their data, automated deletion after retention periods, and privacy impact assessment before launch."
                }
            ],
            mixed: [
                {
                    title: "IT Strategy Development and Business Alignment",
                    content: "IT strategy defines how technology will support and enable business objectives through planned investments, capabilities, and initiatives. Strategy development involves understanding business strategy and objectives, assessing current IT capabilities and gaps, identifying opportunities and threats, evaluating technology trends and innovations, and developing roadmaps for closing gaps and achieving objectives. Key considerations include digital transformation opportunities, emerging technologies (cloud, AI, IoT), cybersecurity requirements, regulatory compliance, and competitive positioning. IT strategy must be regularly reviewed and updated to reflect changing business needs, technology advances, and market conditions. Successful implementation requires strong governance, adequate funding, skilled resources, and effective change management.",
                    example: "Example: A traditional retailer develops IT strategy for digital transformation including e-commerce platform, mobile applications, data analytics for personalization, cloud infrastructure for scalability, and cybersecurity enhancement to support online operations while maintaining competitive advantage."
                },
                {
                    title: "Organizational Structure and Decision-Making",
                    content: "Organizational structure defines roles, responsibilities, reporting relationships, and decision-making authority for effective governance and management. IT governance structures typically include the board of directors (ultimate accountability), audit committee (oversight of risks and controls), IT steering committee (strategic direction and priorities), IT strategy committee (long-term planning), and various management committees (operational oversight). Key roles include Chief Information Officer (IT strategy and leadership), Chief Information Security Officer (security governance), Chief Data Officer (data governance), and IT auditor (independent assurance). Effective structures ensure clear accountability, appropriate segregation of duties, timely decision-making, and proper escalation procedures. Structure should be documented, communicated, and regularly reviewed for effectiveness.",
                    example: "Example: A financial services firm establishes IT governance with board oversight, audit committee monitoring, IT steering committee setting priorities, architecture review board ensuring standards compliance, and security committee managing cyber risks, with clear escalation paths and decision rights."
                },
                {
                    title: "Performance Management and Continuous Improvement",
                    content: "Performance management measures, monitors, and improves IT performance to ensure objectives are met efficiently and effectively. Key performance indicators (KPIs) should align with business objectives and include both leading indicators (predictive) and lagging indicators (results). Common metrics include service availability, response times, customer satisfaction, project delivery, cost efficiency, and security incidents. Performance monitoring requires baseline establishment, regular measurement, trend analysis, exception identification, and corrective action. Continuous improvement involves identifying improvement opportunities, implementing changes, measuring results, and institutionalizing successful practices. Effective performance management requires stakeholder engagement, data quality, analytical capabilities, and change management to act on insights.",
                    example: "Example: A service provider monitors customer satisfaction scores, service availability percentages, incident resolution times, and cost per service unit, with monthly reviews identifying trends and improvement opportunities, quarterly business reviews with stakeholders, and annual strategy updates based on performance insights."
                }
            ]
        };

        const scenarios = [
            {
                question: "You are auditing IT governance at a mid-size company and discover that the same person serves as both CIO and head of internal audit for IT functions. The CEO explains this saves costs and ensures IT expertise in auditing. What is your primary concern?",
                options: ["The arrangement is cost-effective and should be maintained", "There is a fundamental conflict of interest violating independence principles", "The person needs additional audit training", "More frequent external audits would solve any issues"],
                correct: 1,
                explanation: "This arrangement violates fundamental independence principles. The CIO cannot objectively audit their own decisions and controls. Independence requires organizational and functional separation between those responsible for operations and those providing assurance."
            },
            {
                question: "During your review of an organization's data governance program, you find that data classification policies exist but 60% of datasets remain unclassified after two years. Management claims they are 'working on it' but have no timeline. What should be your recommendation?",
                options: ["Accept that data classification takes time", "Recommend immediate classification of all data within 90 days", "Focus only on the 40% that is classified", "Suggest hiring more staff for classification"],
                correct: 1,
                explanation: "Unclassified data cannot receive appropriate protection. The recommendation should include immediate risk-based prioritization for classification, starting with the most sensitive/critical data, with clear timelines and accountability."
            },
            {
                question: "You are reviewing vendor management practices and find that a critical cloud provider contract expired six months ago, but services continue under the expired terms. Management says 'it's working fine' and renewal negotiations are 'in progress.' What is your assessment?",
                options: ["The situation is acceptable since services are working", "This represents significant legal and operational risk requiring immediate attention", "Expired contracts are common and not concerning", "The vendor relationship history justifies continued service"],
                correct: 1,
                explanation: "Operating under expired contracts creates legal uncertainty, potential service disruption risk, lack of SLA enforcement, and possible compliance violations. This requires immediate management attention and risk mitigation."
            },
            {
                question: "During an audit of IT steering committee effectiveness, you attend a meeting where technical decisions are made without business representation, and strategic decisions are deferred 'pending technical analysis.' What governance issue does this indicate?",
                options: ["The technical team is highly competent", "IT governance lacks proper business-IT alignment and decision-making balance", "More technical analysis is always beneficial", "Business representatives are not needed for technical decisions"],
                correct: 1,
                explanation: "Effective IT governance requires balanced business-IT decision-making. Technical decisions without business input may not align with business needs, while deferring strategic decisions prevents timely governance."
            },
            {
                question: "You discover that an organization has implemented multiple frameworks (COBIT, ITIL, ISO 27001) but there's significant confusion about conflicting requirements and duplicate processes. Staff complain about 'framework overload.' What should you recommend?",
                options: ["Eliminate all frameworks except one", "Continue with all frameworks as implemented", "Develop an integrated approach mapping common objectives and eliminating redundancy", "Add more training on each framework"],
                correct: 2,
                explanation: "Multiple frameworks should be integrated to leverage their strengths while eliminating conflicts and redundancy. An integrated approach maps common objectives, aligns processes, and creates unified governance."
            },
            {
                question: "While reviewing business continuity planning, you find that IT disaster recovery plans exist but haven't been tested in 18 months. The plans assume 4-hour recovery times, but the business requires 1-hour recovery for critical systems. What's your primary concern?",
                options: ["The plans need minor updates", "There's a critical gap between business requirements and IT capabilities", "18 months without testing is acceptable", "Recovery time objectives are unrealistic"],
                correct: 1,
                explanation: "The gap between business requirements (1 hour) and IT capabilities (4 hours) represents a critical business risk. Untested plans may not achieve even the 4-hour target, compounding the problem."
            },
            {
                question: "You are auditing privacy controls and find that consent management exists for marketing, but customer data is shared with analytics partners without explicit consent. Legal says this is 'covered under legitimate business interest.' What should be your audit conclusion?",
                options: ["Legal's interpretation is sufficient", "This represents potential privacy law violation requiring legal review and control enhancement", "Analytics don't require consent", "Current practices are industry standard"],
                correct: 1,
                explanation: "Data sharing with third parties typically requires explicit consent under privacy laws like GDPR. Relying solely on legitimate interest for partner analytics may not provide adequate legal basis and requires careful review."
            },
            {
                question: "During your audit of IT performance monitoring, you find that SLAs exist but are consistently missed, there's no root cause analysis of failures, and business users have stopped reporting issues because 'nothing changes.' What governance failure does this represent?",
                options: ["Users need to be more patient", "Performance monitoring lacks accountability and continuous improvement", "SLAs should be made less stringent", "More monitoring tools are needed"],
                correct: 1,
                explanation: "This represents failure in performance management governance - no accountability for SLA breaches, no improvement processes, and loss of stakeholder confidence in IT service delivery."
            },
            {
                question: "You discover that risk assessments are performed annually but significant technology changes occur monthly without risk evaluation. IT management says they 'know the risks' and formal assessment would slow down innovation. How should you respond?",
                options: ["Annual assessments are sufficient", "Risk assessment frequency should align with the pace of change", "Innovation should not be slowed by risk processes", "Informal risk knowledge is adequate"],
                correct: 1,
                explanation: "Risk assessment frequency must match the pace of change. Monthly significant changes require more frequent risk evaluation, potentially through streamlined processes that don't impede innovation while ensuring risks are identified and managed."
            },
            {
                question: "While auditing IT governance maturity, you find excellent documentation and processes, but interviews reveal that actual practices often bypass formal procedures due to 'urgent business needs.' What does this indicate about governance effectiveness?",
                options: ["Documentation is comprehensive and sufficient", "There's a significant gap between governance design and implementation", "Business urgency justifies process bypasses", "More training on procedures is needed"],
                correct: 1,
                explanation: "Governance effectiveness requires alignment between formal processes and actual practices. Frequent bypasses indicate either inadequate process design for business realities or insufficient governance culture and accountability."
            }
        ];

        // Initialize game
        function initGame() {
            document.querySelectorAll('.mode-card').forEach(card => {
                card.addEventListener('click', () => selectMode(card.dataset.mode));
            });

            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.addEventListener('click', () => selectTopic(btn.dataset.topic));
            });

            document.getElementById('nextBtn').addEventListener('click', nextQuestion);
            document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        }

        function selectMode(mode) {
            currentMode = mode;
            
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            document.getElementById('topicSelector').style.display = 'block';
        }

        function selectTopic(topic) {
            currentTopic = topic;
            
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-topic="${topic}"]`).classList.add('active');
            
            startMode();
        }

        function startMode() {
            document.getElementById('gameMode').style.display = 'none';
            document.getElementById('topicSelector').style.display = 'none';
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('controls').style.display = 'flex';
            
            currentQuestion = 0;
            score = 0;
            streak = 0;
            answeredQuestions = [];
            
            if (currentMode === 'quiz' || currentMode === 'scenario') {
                setupQuiz();
            } else if (currentMode === 'flashcards') {
                setupFlashcards();
            } else if (currentMode === 'learn') {
                setupLearning();
            }
        }

        function setupQuiz() {
            if (currentMode === 'scenario') {
                currentQuestions = [...scenarios];
            } else if (currentTopic === 'mixed') {
                currentQuestions = [
                    ...questionBank.governance,
                    ...questionBank.management,
                    ...questionBank.frameworks,
                    ...questionBank.compliance
                ].sort(() => Math.random() - 0.5);
            } else {
                currentQuestions = [...questionBank[currentTopic]];
            }
            
            document.getElementById('questionContainer').classList.add('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            
            showQuestion();
        }

        function setupFlashcards() {
            let cards;
            if (currentTopic === 'mixed') {
                cards = [
                    ...flashcards.governance,
                    ...flashcards.management,
                    ...flashcards.frameworks,
                    ...flashcards.compliance
                ].sort(() => Math.random() - 0.5);
            } else {
                cards = [...flashcards[currentTopic]];
            }
            
            currentQuestions = cards;
            
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'flex';
            
            showFlashcard();
            
            document.getElementById('flashcard').addEventListener('click', flipCard);
        }

        function setupLearning() {
            let lessons;
            if (currentTopic === 'mixed') {
                lessons = [
                    ...learningContent.governance,
                    ...learningContent.management,
                    ...learningContent.frameworks,
                    ...learningContent.compliance
                ];
            } else {
                lessons = [...learningContent[currentTopic]];
            }
            
            currentQuestions = lessons;
            
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.add('active');
            document.getElementById('flashcard').style.display = 'none';
            
            showLearningContent();
        }

        function showQuestion() {
            if (currentQuestion >= currentQuestions.length) {
                showResults();
                return;
            }
            
            const question = currentQuestions[currentQuestion];
            
            document.getElementById('question').textContent = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            document.getElementById('explanation').style.display = 'none';
            document.getElementById('explanation').classList.remove('show');
            document.getElementById('nextBtn').textContent = 'Submit Answer';
            document.getElementById('nextBtn').disabled = true;
            
            updateProgress();
        }

        function showFlashcard() {
            if (currentQuestion >= currentQuestions.length) {
                showResults();
                return;
            }
            
            const card = currentQuestions[currentQuestion];
            document.getElementById('cardContent').textContent = card.front;
            document.getElementById('flashcard').classList.remove('flipped');
            
            updateProgress();
        }

        function showLearningContent() {
            if (currentQuestion >= currentQuestions.length) {
                showResults();
                return;
            }
            
            const lesson = currentQuestions[currentQuestion];
            
            document.getElementById('learningTitle').textContent = lesson.title;
            document.getElementById('learningText').innerHTML = lesson.content;
            document.getElementById('learningExample').innerHTML = `<strong>💡 Practical Example:</strong><br>${lesson.example}`;
            
            if (currentQuestion === currentQuestions.length - 1) {
                document.getElementById('nextBtn').textContent = 'Complete Learning Module';
            } else {
                document.getElementById('nextBtn').textContent = `Next Lesson (${currentQuestion + 2}/${currentQuestions.length})`;
            }
            
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = false;
            
            updateProgress();
        }

        function flipCard() {
            const flashcard = document.getElementById('flashcard');
            const card = currentQuestions[currentQuestion];
            
            if (flashcard.classList.contains('flipped')) {
                document.getElementById('cardContent').textContent = card.front;
                flashcard.classList.remove('flipped');
            } else {
                document.getElementById('cardContent').textContent = card.back;
                flashcard.classList.add('flipped');
            }
        }

        function selectOption(index) {
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelectorAll('.option')[index].classList.add('selected');
            document.getElementById('nextBtn').disabled = false;
            
            answeredQuestions[currentQuestion] = index;
        }

        function nextQuestion() {
            if (currentMode === 'flashcards') {
                currentQuestion++;
                score++;
                showFlashcard();
                return;
            }
            
            if (currentMode === 'learn') {
                currentQuestion++;
                score += 10;
                updateScore();
                showLearningContent();
                return;
            }
            
            const question = currentQuestions[currentQuestion];
            const selectedAnswer = answeredQuestions[currentQuestion];
            
            if (document.getElementById('nextBtn').textContent === 'Submit Answer') {
                const options = document.querySelectorAll('.option');
                
                if (selectedAnswer === question.correct) {
                    options[selectedAnswer].classList.add('correct');
                    score += 10;
                    streak++;
                } else {
                    options[selectedAnswer].classList.add('incorrect');
                    options[question.correct].classList.add('correct');
                    streak = 0;
                }
                
                document.getElementById('explanation').innerHTML = `<strong>Explanation:</strong><br>${question.explanation}`;
                document.getElementById('explanation').classList.add('show');
                
                document.getElementById('nextBtn').textContent = 'Next Question';
                updateScore();
                
            } else {
                currentQuestion++;
                showQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                if (currentMode === 'flashcards') {
                    showFlashcard();
                } else if (currentMode === 'learn') {
                    showLearningContent();
                } else {
                    showQuestion();
                }
            }
        }

        function goBackToModes() {
            document.getElementById('gameMode').style.display = 'grid';
            document.getElementById('topicSelector').style.display = 'none';
            
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            
            currentMode = '';
            currentTopic = '';
        }

        function goBackToTopics() {
            document.getElementById('topicSelector').style.display = 'block';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            currentTopic = '';
            currentQuestion = 0;
            score = 0;
            streak = 0;
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
        }

        function updateProgress() {
            const progress = Math.round((currentQuestion / currentQuestions.length) * 100);
            document.getElementById('progress').textContent = progress;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showResults() {
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('results').classList.add('show');
            
            let resultMessage = '';
            let nextSteps = '';
            
            if (currentMode === 'flashcards') {
                resultMessage = `You reviewed ${currentQuestions.length} flashcards! Great job studying CISA Domain 2 concepts.`;
                nextSteps = " Try the quiz mode to test your knowledge or explore another topic area.";
                document.getElementById('finalScore').textContent = `${currentQuestions.length} Cards Reviewed`;
            } else if (currentMode === 'learn') {
                resultMessage = `You completed ${currentQuestions.length} comprehensive learning modules! You've gained deep insights into CISA Domain 2 concepts.`;
                nextSteps = " Consider testing your knowledge with quiz mode or reviewing key terms with flashcards.";
                document.getElementById('finalScore').textContent = `${currentQuestions.length} Modules Complete`;
            } else {
                const percentage = Math.round((score / (currentQuestions.length * 10)) * 100);
                document.getElementById('finalScore').textContent = `${percentage}%`;
                
                if (percentage >= 90) {
                    resultMessage = '🌟 Outstanding! You have excellent mastery of CISA Domain 2 concepts! You\'re well-prepared for this section of the exam.';
                    nextSteps = " Try another topic area or challenge yourself with scenario mode.";
                } else if (percentage >= 80) {
                    resultMessage = '🎉 Great job! You have a solid understanding of the material.';
                    nextSteps = " Review the explanations for missed questions and try another topic area to broaden your knowledge.";
                } else if (percentage >= 70) {
                    resultMessage = '👍 Good work! You\'re on the right track.';
                    nextSteps = " Use the learning modules to strengthen weak areas, then practice with flashcards before retrying.";
                } else {
                    resultMessage = '📚 Keep studying! This is a challenging certification.';
                    nextSteps = " Start with the learning modules to build your foundation, then practice with flashcards before attempting quizzes.";
                }
            }
            
            document.getElementById('resultMessage').textContent = resultMessage + nextSteps;
        }

        function playAgain() {
            currentQuestion = 0;
            score = 0;
            streak = 0;
            answeredQuestions = [];
            
            document.getElementById('results').classList.remove('show');
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('controls').style.display = 'flex';
            
            if (currentMode === 'quiz' || currentMode === 'scenario') {
                setupQuiz();
            } else if (currentMode === 'flashcards') {
                setupFlashcards();
            } else if (currentMode === 'learn') {
                setupLearning();
            }
            
            updateScore();
        }

        function goToMainScreen() {
            document.getElementById('gameMode').style.display = 'grid';
            document.getElementById('topicSelector').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('results').classList.remove('show');
            
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            currentMode = '';
            currentTopic = '';
            currentQuestion = 0;
            answeredQuestions = [];
            
            updateScore();
            document.getElementById('progress').textContent = '0';
            document.getElementById('progressFill').style.width = '0%';
        }

        function chooseAnotherSection() {
            document.getElementById('gameMode').style.display = 'none';
            document.getElementById('topicSelector').style.display = 'block';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('results').classList.remove('show');
            
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            currentTopic = '';
            currentQuestion = 0;
            answeredQuestions = [];
            
            updateScore();
            document.getElementById('progress').textContent = '0';
            document.getElementById('progressFill').style.width = '0%';
        }

        function resetGame() {
            document.getElementById('gameMode').style.display = 'grid';
            document.getElementById('topicSelector').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('learningContainer').classList.remove('active');
            document.getElementById('flashcard').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('results').classList.remove('show');
            
            currentMode = '';
            currentTopic = '';
            currentQuestion = 0;
            score = 0;
            streak = 0;
            answeredQuestions = [];
            
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            updateScore();
            document.getElementById('progress').textContent = '0';
            document.getElementById('progressFill').style.width = '0%';
        }

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>